(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(n,e){},125:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(54),c=t.n(i),o=t(4),u=t(9),l=t(18),s=t(1),f={primary:"rgba(242, 162, 176)",secondary:"rgba(242,182,147)",black:"rgba(20, 20, 20, 1)",gradient:"linear-gradient(to top left, rgba(242, 182, 147), rgba(242, 162, 176))",blackFadeGradient:"linear-gradient(\n    to top,\n    rgba(20, 20, 20, 1),\n    rgba(20, 20, 20, 0)\n  )",whiteFadeGradient:"linear-gradient(\n    to top,\n    rgba(245, 245, 245, 1),\n    rgba(242, 182, 147, 0 )\n  )",darkestGray:"rgba(30, 30, 30, 1)",darkerGray:"rgba(50, 50, 50, 1)",darkGray:"rgba(120, 120, 120, 1)",gray:"rgba(175, 175, 175, 1)",lightGray:"rgba(200, 200, 200, 1)",lighterGray:"rgba(225, 225, 225, 1)",green:"rgba(20, 215, 20, 0.7)",red:"rgba(242, 20, 20, 0.7)",transparent5:"rgba(245, 245, 245, 0.8)",transparent4:"rgba(245, 245, 245, 0.6)",transparent3:"rgba(245, 245, 245, 0.3)",transparent2:"rgba(245, 245, 245, 0.15)",transparent:"rgba(245, 245, 245, 0.07)",transparentBlack:"rgba(20,20,20,0.8)",transparentBlack2:"rgba(20,20,20,0.7)",transparentBlack3:"rgba(20,20,20,0.6)",transparentBlack4:"rgba(20,20,20,0.5)",transparentBlack5:"rgba(20,20,20,0.3)",white:"rgba(245, 245, 245, 1)",breakpoints:{mobile:"667px",laptop:"768px",desktop:"1080px"},unit:"8",mode:"light",shadow:"1px 1px 3px 1px rgba(0, 0, 0, 0.5)"},m=function(){var n,e={},t=/([^&;=]+)=?([^&;]*)/g,r=window.location.hash.substring(1);for(n=t.exec(r);n;)e[n[1]]=decodeURIComponent(n[2]),n=t.exec(r);return e},d={accessToken:null,refreshToken:null,accessTokenCreationTime:null,refreshTimer:null,cacheAuthData:function(){var n=localStorage.getItem("authData");Object.assign(this,JSON.parse(n))},refreshAccessToken:function(){var n=this;fetch("/auth/refreshToken?refresh_token=".concat(this.refreshToken)).then(function(n){return n.json()}).then(function(e){var t={refreshToken:n.refreshToken,accessToken:e.access_token,accessTokenCreationTime:Date.now()};localStorage.setItem("authData",JSON.stringify(t))})},startRefreshTimer:function(){var n=this;this.refreshTimer&&clearInterval(this.refreshTimer),this.refreshTimer=setInterval(function(){n.refreshAccessToken(),n.cacheAuthData()},this.accessTokenCreationTime-Date.now()+18e5)},init:function(){this.cacheAuthData(),this.refreshToken&&this.startRefreshTimer()},login:function(){var n={accessToken:m().access_token,refreshToken:m().refresh_token,accessTokenCreationTime:Date.now()};localStorage.setItem("authData",JSON.stringify(n))},logout:function(){var n=window.open("https://www.spotify.com/logout/","Spotify Logout","width=700,height=500,top=40,left=40");setTimeout(function(){n.close(),localStorage.removeItem("authData"),window.location.reload()},2e3)}},p=t(55),h=t.n(p),b=t(2);function g(){var n=Object(b.a)(["\n  background: ",";\n  margin: 0px;\n  padding: ",";\n\n  border-radius: 90px;\n  border: none;\n  font-size: 0.9rem;\n  display: flex;\n  cursor: pointer;\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n  & > * {\n    text-decoration: none;\n  }\n\n  & > a:visited {\n    color: inherit;\n  }\n\n  & > a {\n    margin-top: ",";\n  }\n\n  &:focus {\n    outline: 0;\n  }\n\n  text-justify: center;\n  & > img {\n    width: 35px;\n    margin-right: 10px;\n  }\n"]);return g=function(){return n},n}function v(){var n=Object(b.a)(["\n  box-shadow: 4px 4px\n    ",";\n"]);return v=function(){return n},n}function y(){var n=Object(b.a)(["\n  color: ",";\n  margin: 0px;\n  background-color: ",";\n  padding: ",";\n  border: none;\n  font-size: 0.8rem;\n  text-align: center;\n  width: ",";\n  height: 50px;\n"]);return y=function(){return n},n}function k(){var n=Object(b.a)(["\n  border: none;\n  padding: ",";\n  font-size: 1rem;\n  color: ",";\n  background-color: ",";\n  & > * {\n    text-decoration: none;\n  }\n\n  & > a:visited {\n    color: inherit;\n  }\n"]);return k=function(){return n},n}function j(){var n=Object(b.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  text-align: center;\n\n  & > p {\n    margin-top: ",";\n    color: ",";\n    cursor: pointer;\n  }\n\n  & > p:hover {\n    color: ",";\n  }\n"]);return j=function(){return n},n}function O(){var n=Object(b.a)(["\n  text-align: center;\n  & > h1 {\n    font-size: 3.9rem;\n    text-shadow: 3px 3px\n      ",";\n    background: ",";\n    -webkit-background-clip: ",";\n    background-clip: ",";\n    -webkit-text-fill-color: ",";\n  }\n\n  & > p {\n    font-size: 1rem;\n    padding-top: ",";\n    color: ",";\n  }\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"]);return O=function(){return n},n}function x(){var n=Object(b.a)(["\n  background: ",";\n  height: 100vh;\n  justify-content: center;\n  justify-items: center;\n  display: grid;\n  grid-gap: ",";\n  padding-top: 15vh;\n  grid-template-rows: "," 1fr;\n  color: ",";\n"]);return x=function(){return n},n}var E=s.c.div(x(),function(n){return"dark"===n.theme.mode?n.theme.black:n.theme.gradient},function(n){return 2*n.theme.unit+"px"},function(n){return 12*n.theme.unit+"px"},function(n){return n.theme.white}),w=s.c.div(O(),function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparentBlack5},function(n){return"dark"===n.theme.mode?n.theme.gradient:"none"},function(n){return"dark"===n.theme.mode?"text":"none"},function(n){return"dark"===n.theme.mode?"text":"none"},function(n){return"dark"===n.theme.mode?"transparent":"none"},function(n){return 1*n.theme.unit+"px"},function(n){return n.theme.transparent5}),S=s.c.div(j(),function(n){return 4*n.theme.unit+"px"},function(n){return n.theme.transparent5},function(n){return"dark"===n.theme.mode?n.theme.primary:n.theme.black}),T=s.c.button(k(),function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.white},function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparent3}),C=(s.c.input(y(),function(n){return"dark"===n.theme.mode?n.theme.primary:n.theme.white},function(n){return"dark"===n.theme.mode?n.theme.transparent2:n.theme.transparent4},function(n){return 2*n.theme.unit+"px"},function(n){return 26*n.theme.unit+"px"}),s.c.div(v(),function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.gray}),s.c.button(g(),function(n){return n.theme.transparent3},function(n){return 1*n.theme.unit+"px"},function(n){return n.theme.black},function(n){return n.theme.white},function(n){return 1*n.theme.unit+"px"}));function I(n){return a.a.createElement(E,null,a.a.createElement(w,null," ",a.a.createElement("h1",null,"Airplayer"),a.a.createElement("p",null,"Connect to parties in your area")),a.a.createElement(S,null,n.auth.accessToken?a.a.createElement(a.a.Fragment,null,a.a.createElement(T,null,a.a.createElement(u.b,{to:"/roomsearch"},"Go")),a.a.createElement("p",{onClick:function(){return n.auth.logout()}},"or click here to logout")):a.a.createElement(C,null,a.a.createElement("img",{src:h.a,alt:""}),a.a.createElement("a",{href:"https://airplayer.herokuapp.com/auth/login"},"Login With Spotify"))))}function R(n){return Object(r.useEffect)(function(){console.log(n),n.auth.login(),window.location.href="/"},[]),a.a.createElement("div",null)}var A=t(3);function z(){var n=Object(b.a)([""]);return z=function(){return n},n}function D(n){var e=n.items,t=void 0===e?[]:e,r=n.Style,i=void 0===r?s.c.ul(z()):r,c=n.limit,u=void 0===c?t?t.length:1:c;return a.a.createElement(function(){return a.a.createElement(i,null,t.length>0&&n.children&&t.slice(0,u).map(function(e,t){return a.a.cloneElement(n.children,Object(o.a)({},function(n,e){return Object.fromEntries(Object.entries(e).filter(function(n){return"Style"!==Object(A.a)(n,1)[0]}).map(function(e){var t=Object(A.a)(e,2),r=t[0],a=t[1];if(a){var i=a;return"on"===r.slice(0,2)?[r,a=function(e){return i(e,n)}]:[r,a=i(n)]}return[r,null]}))}(e,n.children.props),{key:t}))}))},null)}function F(){var n=Object(b.a)([""]);return F=function(){return n},n}function P(n){var e=n.src,t=n.name,r=n.labels,i=n.Style,c=void 0===i?s.c.li(F()):i,o=n.filter,u=void 0===o?"":o,l=n.onClick,f=void 0===l?function(){}:l,m=n.button,d=void 0===m?a.a.createElement(a.a.Fragment,null):m;return a.a.createElement(c,{filter:u,onClick:function(n,e){return f(n,e)}},e&&a.a.createElement("img",{src:e}),a.a.createElement("div",null,a.a.createElement("h3",null,t),r&&a.a.createElement(function(){return a.a.createElement("ul",null,r.map(function(n,e){return a.a.createElement("p",{key:e},n)}))},null)),d)}var _=t(5);function q(){var n=Object(b.a)(["\n  width: 90%;\n  height: 75%;\n  margin: 0 5%;\n"]);return q=function(){return n},n}function B(){var n=Object(b.a)(["\n  text-align: center;\n  padding: 1rem;\n  font-size: 2rem;\n  color: ",";\n"]);return B=function(){return n},n}function L(){var n=Object(b.a)(["\n  background: ",";\n  border-radius: ",";\n  width: ",";\n  height: ",";\n  bottom: ",";\n  right: ",";\n  position: absolute;\n  overflow: hidden;\n  box-shadow: 2px 3px ",";\n\n  transition: width 0.5s, height 0.5s, bottom 0.5s, right 0.5s;\n  & > * {\n    opacity: ",";\n\n    transition: opacity 0.5s;\n    color: ",';\n  }\n\n  & > [type="icon"] {\n    color: ',";\n\n    font-size: 3rem;\n    position: absolute;\n    right: 0.5rem;\n    top: 0.5rem;\n    & :hover {\n      color: ",";\n    }\n  }\n"]);return L=function(){return n},n}var N=s.c.div(L(),function(n){return"dark"===n.theme.mode?n.theme.gradient:n.theme.white},function(n){return n.show?"0":"2rem"},function(n){return n.show?"100%":"0%"},function(n){return n.show?"100%":"0%"},function(n){return n.show?"0":"2.5rem"},function(n){return n.show?"0":"2.5rem"},function(n){return n.theme.transparentBlack5},function(n){return n.show?"1":"0"},function(n){return n.theme.black},function(n){return n.theme.transparentBlack5},function(n){return n.theme.black}),Q=s.c.p(B(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.transparentBlack}),V=s.c.div(q());function M(n){var e=n.show,t=n.setShow,r=n.title,i=n.children;return a.a.createElement(N,{show:e},a.a.createElement(_.c,{onClick:function(){return t(!1)},type:"icon"}),a.a.createElement(Q,null,r),a.a.createElement(V,null,i))}var J=t(14),G=t(59);function U(){var n=Object(b.a)(["\n  display: block;\n  margin: "," auto;\n  color: ",";\n  padding: 8px 32px;\n  background: ",";\n  border-radius: 1rem;\n  font-size: 1.5rem;\n  box-shadow: 2px 2px\n    ",";\n\n  border: none;\n  cursor: pointer;\n"]);return U=function(){return n},n}function H(){var n=Object(b.a)(["\n  & > p {\n    color: ",";\n  }\n\n  & > input {\n    margin: "," 0;\n    width: 300px;\n    border: none;\n    padding: ",";\n    box-shadow: 2px 2px\n      ",';\n  }\n\n  & > [type="icon"] {\n    position: absolute;\n    font-size: 2rem;\n    margin-left: -340px;\n    margin-top: 16px;\n    color: ',";\n  }\n"]);return H=function(){return n},n}function K(){var n=Object(b.a)(['\n  overflow: hidden !important;\n  display: grid;\n  grid-gap: 24px;\n  height: 100%;\n\n  & [type="container"] {\n    position: relative;\n\n    & input {\n      justify-self: center;\n      width: 70%;\n      max-width: 500px;\n      padding: ',';\n    }\n\n    & [type="icon"] {\n      position: absolute;\n      font-size: 2rem;\n      top: 8px;\n      margin-left: -40px;\n\n      color: ',";\n    }\n  }\n"]);return K=function(){return n},n}function W(){var n=Object(b.a)(["\n  text-align: center;\n  color: ",";\n"]);return W=function(){return n},n}var Y=s.c.div(W(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.black}),X=s.c.div(K(),function(n){return 2*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.black}),Z=s.c.form(H(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.transparentBlack},function(n){return 1.5*n.theme.unit+"px"},function(n){return 1.5*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparentBlack5},function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.primary}),$=s.c.button(U(),function(n){return 2*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.black:n.theme.white},function(n){return"dark"===n.theme.mode?n.theme.transparent3:n.theme.primary},function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparentBlack5});function nn(){var n=Object(b.a)(["\n  position: absolute;\n  top: 0px;\n  height: ",";\n  width: ",';\n  align-items: center;\n  justify-content: center;\n  display: flex;\n\n  &:hover {\n    content: "";\n    cursor: pointer;\n  }\n']);return nn=function(){return n},n}function en(){var n=Object(b.a)(["\n  border: 1px solid transparent;\n  border-radius: 90px;\n  background-color: ",";\n\n  height: ",";\n  width: ",';\n  position: relative;\n  &::after {\n    content: "";\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -6px;\n    margin-top: -12px;\n    width: 0;\n    height: 0;\n    border-top: 12px solid transparent;\n    border-bottom: 12px solid transparent;\n    border-left: 16px solid white;\n  }\n']);return en=function(){return n},n}function tn(){var n=Object(b.a)(["\n  position: relative;\n"]);return tn=function(){return n},n}function rn(){var n=Object(b.a)(["\n  list-style: none;\n  padding-right: ",";\n  & * {\n    padding: ",";\n  }\n  & img {\n    width: ",";\n    height: ",";\n  }\n  font-size: 0.8rem;\n  & p {\n    display: inline;\n    text-transform: capitalize;\n    color: ",";\n\n    @media (max-width: 667px) {\n      color: ",";\n    }\n  }\n"]);return rn=function(){return n},n}function an(){var n=Object(b.a)(["\n  height: ",";\n  overflow-x: scroll;\n  overflow-y: hidden;\n  scrollbar-width: none;\n  ::-webkit-scrollbar {\n    width: 0px; /* Remove scrollbar space */\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n"]);return an=function(){return n},n}function cn(){var n=Object(b.a)(["\n  display: flex;\n  overflow-y: hidden;\n\n  padding: 0 ",";\n"]);return cn=function(){return n},n}function on(){var n=Object(b.a)(["\n  border: 1px solid transparent;\n  border-radius: 90px;\n  background-color: ",";\n\n  height: ",";\n  width: ",";\n  position: relative;\n"]);return on=function(){return n},n}function un(){var n=Object(b.a)(["\n  position: absolute;\n  font-size: 2.5rem;\n  transition: none;\n\n  &:hover {\n    color: ",";\n  }\n  color: ",";\n"]);return un=function(){return n},n}function ln(){var n=Object(b.a)(["\n  position: absolute;\n  font-size: 2.5rem;\n  transition: none;\n\n  &:hover {\n    color: ",";\n  }\n  color: ",";\n"]);return ln=function(){return n},n}var sn=Object(s.c)(_.b)(ln(),function(n){return n.theme.transparent4},function(n){return n.theme.green}),fn=Object(s.c)(_.a)(un(),function(n){return n.theme.transparent4},function(n){return n.theme.white}),mn=s.c.div(on(),function(n){return n.theme.transparentBlack},function(n){return 6*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"}),dn=s.c.ul(cn(),function(n){return 2*n.theme.unit+"px"}),pn=s.c.div(an(),function(n){return 28*n.theme.unit+"px"}),hn=s.c.li(rn(),function(n){return 2*n.theme.unit+"px"},function(n){return.25*n.theme.unit+"px"},function(n){return 16*n.theme.unit+"px"},function(n){return 16*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return"dark"===n.theme.mode?n.theme.transparent4:n.theme.transparentBlack}),bn=s.c.span(tn()),gn=(s.c.div(en(),function(n){return n.theme.transparentBlack},function(n){return 6*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"}),s.c.div(nn(),function(n){return 16*n.theme.unit+"px"},function(n){return 16*n.theme.unit+"px"}));function vn(n){var e=n.items,t=n.height,r=n.addItem,i=n.removeItem,c=n.selectedItems;return a.a.createElement(pn,{height:t},a.a.createElement(D,{items:e,Style:dn},a.a.createElement(function(n){var e=n.src,t=n.name,c=n.labels,o=n.uri,u=n.selected;return a.a.createElement(bn,null," ",a.a.createElement(hn,null,a.a.createElement("img",{src:e}),a.a.createElement("h4",null,t),c&&c.map(function(n,e){return a.a.createElement("p",{key:e},n)}))," ",a.a.createElement(gn,null,a.a.createElement(mn,null),u?a.a.createElement(sn,{onClick:function(){return i(o)}}):a.a.createElement(fn,{onClick:function(){return r(o)}})))},{src:function(n){return n.getImages().default.url},name:function(n){return n.name},labels:function(n){return n.getArtists().map(function(n){return n.name})},uri:function(n){return n.uri},selected:function(n){return c&&c.some(function(e){return e.uri===n.uri})}})))}var yn=t(7),kn=t.n(yn),jn=t(10),On=t(15);String.prototype.replaceAll=function(n,e){return this.split(n).join(e)},void 0===Object.fromEntries&&(Object.fromEntries=function(n){return Object.assign.apply(Object,[{}].concat(Object(J.a)(Array.from(n,function(n){var e=Object(A.a)(n,2),t=e[0],r=e[1];return Object(jn.a)({},t,r)}))))});var xn=function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t="https://api.spotify.com/v1/",r=function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c={headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"},method:a};return"GET"!==a&&(c.body=JSON.stringify(i)),e?fetch(encodeURI("".concat(t).concat(r)),c).then(function(n){return n.json()}):(c.api=t,c.string=encodeURI(r),c)},a=function(n,e){return r(n,"PUT",e)},i=function(n){return r(n,"GET")},c=function(n,e){return r(n,"DELETE",e)},u=function(n,e){return Object.entries(n).map(function(n){var t=Object(A.a)(n,2),r=t[0],a=t[1];return e(r,a)}).join(",")},l=function(n){return u(n,function(n,e){return""===e?"":"&".concat(n,"=").concat(e)}).replaceAll(",","")},s=function(n){return"s"===n.slice(-1)?n:"".concat(n,"s")},f=function(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()})},m=function n(e){var t,r=1;for(t in e)if(e.hasOwnProperty(t)&&"object"==typeof e[t]){var a=n(e[t])+1;r=Math.max(a,r)}return r},d=function n(e){return Object.keys(e).reduce(function(t,r){return"object"===typeof e[r]?n(e[r]):(t[r]=e[r],t)},{})},p=function(n){if(function(n){return"id"===Object.keys(d(n))[0]&&4===m(n)}(n)){var e=Object.keys(n)[0],t=Object.keys(n[e].where)[0],r=n[e].where[t].id,a=function(n,e){return Object.fromEntries(Object.entries(n[e]).filter(function(n){return"where"!==n[0]}))}(n,e);return"".concat(s(t),"/").concat(r,"/").concat(f(e)).concat(function(n){for(var e in n)if(n.hasOwnProperty(e))return!1;return!0}(a)?"":"?".concat(l(a).substring(1)))}if(function(n){return"id"===Object.keys(d(n))[0]&&3===m(n)}(n)){var i=Object.keys(n)[0],c=n[i].where.id;return"".concat(s(f(i)),"/").concat(c)}if(function(n){return"0"===Object.keys(d(n))[0]&&4===m(n)}(n)){var o=Object.keys(n)[0],u=Object.values(d(n));return"".concat(s(f(o)),"?ids=").concat(u)}};return{search:function(n){var e,t=n.query,r=void 0===t?"":t,a=n.type,c=void 0===a?"":a,o=n.offset,s=void 0===o?"":o,f=n.limit,m=void 0===f?"":f,d=n.market,p=void 0===d?"":d,h=n.wildcard,b="search?q=".concat("string"===typeof r?void 0!==h&&h?"".concat(r,"*"):"".concat(r):"object"===typeof r?u(r,function(n,e){return"".concat(n,":").concat(e)}).replaceAll(","," "):"").concat(l({type:(e=c,"s"===e.slice(-1)?e.slice(0,e.length-1):e),limit:m,offset:s,market:p}));return i(b)},find:function(n){return i(p(n))},user:function(){var n=function(n){var e=n.id,t=void 0===e?"":e,r=n.ids,a=void 0===r?"":r,i=n.type,c=n.suffix,o=void 0===c?"":c,u=n.prefix,l=void 0===u?"":u;return"playlist"===i?"playlists/".concat(t||a).concat(o):"".concat(l,"?type=").concat(i).concat(t||a?"&ids=".concat(t||a):"")};return{follows:function(e){return i(n(Object(o.a)({},e,{prefix:"me/following/contains"})))},follow:function(e){return a(n(Object(o.a)({},e,{suffix:"/followers",prefix:"me/following"})))},unfollow:function(e){return c(n(Object(o.a)({},e,{suffix:"/followers",prefix:"me/following"})))},getFollowed:function(e){return i(n(Object(o.a)({},e,{prefix:"me/following"})))},library:function(){var n=function(n){return"me/".concat("string"===typeof n?s(n):n.type)},e=function(n){var e=n.id,t=n.ids;return t||[e]};return{contains:function(n){var e=n.id,t=n.type,r=n.ids;return i("me/".concat(s(t),"/contains?ids=").concat(e||r))},get:function(e){return i(n(e))},delete:function(t){return c(n(t),e(t))},add:function(t){return a(n(t),e(t))}}},top:function(n){return i("me/top/".concat(s(n)))},me:function(){return i("me")},playlists:function(){return i("me/playlists")},artists:function(){return i("me/following?type=artist")}}},playlists:function(){},player:function(){}}};function En(n,e){var t=Object(r.useRef)();Object(r.useEffect)(function(){t.current=n},[n]),Object(r.useEffect)(function(){if(null!==e){var n=setInterval(function(){t.current()},e);return function(){return clearInterval(n)}}},[e])}function wn(n,e,t){var a=Object(r.useState)(!1),i=Object(A.a)(a,2),c=i[0],o=i[1];En(function(){n(),o(!1)},c?e:null),Object(r.useEffect)(function(){o(!0)},t)}var Sn=function(n){return void 0===Object.keys(n)[0]?{}:Object.keys(n)[0]},Tn=function(n,e){return Object.assign.apply(Object,[{}].concat(Object(J.a)(Object.entries(e).map(function(e){return null===e[1]?Object(jn.a)({},e[0],[]):Object(jn.a)({},e[0],Object.values(Object(o.a)({},e[1][n])))}))))},Cn=function(n,e){return e?e.length===n.length?Object.assign.apply(Object,Object(J.a)(e.map(function(e,t){return Object(jn.a)({},e,n[t])})).concat([Object(jn.a)({},"default",n[0])])):Object.assign({},Object(jn.a)({},"default",n[0])):Object.assign({},Object(o.a)({},n))};var In={large:{height:500,width:500,url:"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png"},medium:{height:300,width:300,url:"https://i.ibb.co/vjZVL4p/large-removebg-preview.png"},small:{height:64,width:64,url:"https://i.ibb.co/608nyr6/small-removebg-preview.png"},default:{height:500,width:500,url:"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png"}},Rn=function(){return{getArtists:function(){switch(this.type){case"track":return this.album?this.album.artists:this.artists;case"album":return this.artists;case"artists":return this;default:return null}},getImages:function(){switch(this.type){case"track":return this.album?this.album.images.length<1?Cn(In):Cn(this.album.images,["large","medium","small"]):this.images?Cn(this.images,["large","medium","small"]):Cn(In);default:return this.images.length<1?Cn(In):Cn(this.images,["large","medium","small"])}},getLabels:function(){return[this.type,"playlist"===this.type?this.owner.display_name:this.getArtists()?this.getArtists()[0].name:null]}}};function An(n){var e,t=Object(r.useState)(""),a=Object(A.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)({tracks:{},artists:{},playlists:{},albums:{}}),u=Object(A.a)(o,2),l=u[0],s=u[1],f=xn(n.accessToken),m=Object(r.useCallback)(function(){var n=Object(On.a)(kn.a.mark(function n(e){var t,r;return kn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object.keys(l).map(function(n){return f.search({query:e,type:n})}),n.next=3,Promise.all(t);case 3:return r=n.sent,n.abrupt("return",Object.assign.apply(Object,[{}].concat(Object(J.a)(Object.keys(l).map(function(n,e){return Object(jn.a)({},n,"error"===Sn(r[e])?r[e]:r[e][n])})))));case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),[i,l]);return wn(function(){""!==i&&n.accessToken&&m(i).then(function(n){s(n)})},200,[i,n.accessToken]),{query:i,setQuery:c,queryResults:(e=l,Object.assign({},e,{getItems:function(){var n=Tn("items",e);return Object.keys(n).forEach(function(e){n[e].map(function(n){return Reflect.setPrototypeOf(n,Rn())})}),n}})).getItems()}}function zn(n){var e={name:"",password:"",location:"",userId:n.user.uri,playlist:[]},t=Object(r.useState)(e),i=Object(A.a)(t,2),c=i[0],u=i[1],s=Object(r.useState)({created:!1,tracksSelected:!1,done:!1,id:null}),f=Object(A.a)(s,2),m=f[0],d=f[1],p=An(n.auth),h=p.query,b=p.setQuery,g=p.queryResults;Object(r.useEffect)(function(){if(m.tracksSelected){c.password;var n=Object(G.a)(c,["password"]);fetch("/api/rooms",{method:"POST",body:JSON.stringify(n)}).then(function(n){return n.json()}).then(function(n){var e=JSON.parse(localStorage.getItem("tokens"))||{};e[n.room.id]=n.token,localStorage.setItem("tokens",JSON.stringify(e)),d({done:!0,id:n.room.id})})}},[m.tracksSelected,c]);return a.a.createElement(a.a.Fragment,null,m.done?a.a.createElement(l.a,{to:"room/".concat(m.id)}):a.a.createElement(Y,null,m.created?a.a.createElement(X,null,a.a.createElement("div",null,a.a.createElement("p",null,"Choose at least 3 tracks to get started")),a.a.createElement("div",{type:"container"},a.a.createElement(_.k,{type:"icon"}),a.a.createElement("input",{type:"text",value:h,onChange:function(n){return b(n.target.value)},placeholder:"Enter a track or artist name..."})),g.tracks.length>0?a.a.createElement(vn,{addItem:function(n){return u(Object(o.a)({},c,{playlist:[].concat(Object(J.a)(c.playlist),[{uri:n}])}))},removeItem:function(n){return u(Object(o.a)({},c,{playlist:c.playlist.filter(function(e){return e.uri!==n})}))},items:g.tracks,selectedItems:c.playlist}):""===h?a.a.createElement(a.a.Fragment,null):a.a.createElement("p",null,'No tracks matching "',h,'"'),c.playlist.length>2?a.a.createElement($,{onClick:function(){return d(Object(o.a)({},m,{tracksSelected:!0}))}},"Enter Room"):null):a.a.createElement(Z,null,a.a.createElement("p",null,"Name"),a.a.createElement("input",{type:"text",value:c.name,placeholder:"Enter a room name",onChange:function(n){return u(Object(o.a)({},c,{name:n.target.value}))},required:!0}),a.a.createElement(_.h,{type:"icon"}),a.a.createElement($,{type:"submit",onClick:function(){return d(Object(o.a)({},m,{created:!0}))}},"Create"))))}function Dn(n){var e=Object(r.useState)(null),t=Object(A.a)(e,2),a=t[0],i=t[1],c=xn(n.accessToken);return Object(r.useEffect)(function(){n.accessToken&&c.user().me().then(function(n){return i(n)})},[n.accessToken]),a}function Fn(){var n=Object(b.a)(["\n  background-color: ",";\n  font-size: 0.8rem;\n  display: grid;\n  grid-template-columns: 48px 1fr ",";\n  margin-bottom: 15px;\n  align-items: center;\n  width: 100%;\n\n  & img {\n    height: 48px;\n    width: 48px;\n  }\n  & div {\n    padding: 0 0 0 10px;\n    overflow: hidden;\n    & h3 {\n      font-size: 0.8rem;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    & p {\n      display: inline;\n      color: ",';\n      font-weight: 100;\n    }\n  }\n\n  & button {\n    height: 48px;\n    width: 48px;\n    background: none;\n    border: none;\n    color: whitesmoke;\n    font-size: 2rem;\n    text-align: center;\n    text-justify: center;\n  }\n\n  & li {\n    display: inline;\n    text-transform: capitalize;\n  }\n  & li:first-child::after {\n    content: "\u2022";\n    color: white;\n    padding: 0 3px;\n  }\n']);return Fn=function(){return n},n}var Pn=s.c.li(Fn(),function(n){return n.filter?n.theme.transparent2:""},function(n){return n.button?"100px":"96px"},function(n){return n.theme.transparent4});function _n(){var n=Object(b.a)(["\n  opacity: ",";\n  transition: opacity 0.5s;\n  position: absolute;\n  bottom: 5rem;\n  right: 5rem;\n\n  & :hover {\n    color: ",';\n  }\n  & > [type="circle"] {\n    background-color: ',';\n    width: 5rem;\n    height: 5rem;\n    position: absolute;\n    border-radius: 100%;\n  }\n  & > [type="icon"] {\n    font-size: 5rem;\n    position: absolute;\n  }\n  @media (min-width: 668px) {\n    display: none;\n  }\n']);return _n=function(){return n},n}function qn(){var n=Object(b.a)(["\n  & * {\n    text-decoration: none;\n    color: ",";\n    margin-top: 8px;\n  }\n  font-size: 2.5rem;\n  width: 100%;\n  & :hover {\n    & * {\n      color: ",";\n    }\n  }\n"]);return qn=function(){return n},n}function Bn(){var n=Object(b.a)(["\n  & button {\n    background: ",";\n    color: ",";\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 0.8rem;\n    width: ",";\n    height: ",";\n  }\n\n  padding: 0 ",";\n  @media (max-width: 320px) {\n    width: 90%;\n  }\n"]);return Bn=function(){return n},n}function Ln(){var n=Object(b.a)(["\n  & "," {\n    width: 100%;\n\n    & li:nth-child(even) {\n      background: ",";\n      height: ",";\n    }\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n  padding-top: ",";\n"]);return Ln=function(){return n},n}function Nn(){var n=Object(b.a)(["\n  display: grid;\n  width: 100%;\n\n  /* use this when location input is implemented*/\n  /* grid-template-columns: 2fr 1fr 1fr; */\n  grid-template-columns: 3fr 1fr;\n\n  & > input {\n    width: 100%;\n    &::placeholder {\n      color: ",";\n    }\n    padding: ",";\n    border: none;\n    border-right: 1px solid ",";\n    background-color: ",";\n  }\n\n  & > div {\n    display: grid;\n    cursor: pointer;\n\n    grid-template-columns: 1fr 3fr;\n    align-items: center;\n    background-color: ",";\n\n    & :first-child {\n      justify-self: flex-end;\n      font-size: 2.3rem;\n    }\n    & :nth-child(2) {\n      justify-self: flex-start;\n      font-size: 1.2rem;\n    }\n  }\n\n  @media (max-width: 667px) {\n    /* grid-template-columns: 2fr 1fr; */\n    grid-template-columns: 1fr;\n\n    & > div {\n      display: none;\n    }\n  }\n"]);return Nn=function(){return n},n}function Qn(){var n=Object(b.a)(["\n  display: grid;\n  position: relative;\n  justify-content: center;\n  align-content: center;\n  min-width: ",";\n  width: 85vw;\n  min-height: ",";\n  /* height: 70vh; */\n  margin-bottom: 8vh;\n  background-color: ",";\n  grid-template-rows: "," 1fr;\n  grid-template-columns: 1fr;\n  animation: fadeIn 1s;\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @media (max-width: 440px) {\n    width: 98vw;\n  }\n"]);return Qn=function(){return n},n}function Vn(){var n=Object(b.a)(["\n  background: ",";\n  height: 100vh;\n  justify-items: center;\n  display: grid;\n  grid-template-rows: 5rem 2rem 1fr;\n  color: ",";\n\n  & > h1 {\n    font-size: 3.9rem;\n    text-shadow: 3px 3px\n      ",";\n    background: ",";\n    -webkit-background-clip: ",";\n    background-clip: ",";\n    -webkit-text-fill-color: ",";\n    padding: 8px 0;\n  }\n  & > p {\n    color: ",";\n    padding-bottom: 16px;\n  }\n"]);return Vn=function(){return n},n}var Mn=s.c.div(Vn(),function(n){return"dark"==n.theme.mode?n.theme.black:n.theme.gradient},function(n){return n.theme.white},function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparentBlack5},function(n){return"dark"===n.theme.mode?n.theme.gradient:"none"},function(n){return"dark"===n.theme.mode?"text":"none"},function(n){return"dark"===n.theme.mode?"text":"none"},function(n){return"dark"===n.theme.mode?"transparent":"none"},function(n){return n.theme.transparent5}),Jn=s.c.div(Qn(),function(n){return 24*n.theme.unit+"px"},function(n){return 50*n.theme.unit+"px"},function(n){return n.theme.transparent2},function(n){return 6*n.theme.unit+"px"}),Gn=s.c.div(Nn(),function(n){return"dark"===n.theme.mode?n.theme.transparent4:n.theme.transparentBlack},function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.transparentBlack4},function(n){return n.theme.transparent4},function(n){return n.theme.transparentBlack4}),Un=s.c.div(Ln(),D,function(n){return n.theme.transparent2},function(n){return 8*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"}),Hn=Object(s.c)(Pn)(Bn(),function(n){return n.theme.white},function(n){return n.theme.black},function(n){return 10*n.theme.unit+"px"},function(n){return 5*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"}),Kn=s.c.div(qn(),function(n){return n.theme.transparent4},function(n){return n.theme.transparentBlack3});s.c.div(_n(),function(n){return n.show?1:0},function(n){return n.theme.primary},function(n){return n.theme.transparentBlack3});function Wn(n){var e=Object(r.useState)([]),t=Object(A.a)(e,2),i=t[0],c=t[1],o=Dn(n.auth),l=function(n){var e=Math.round((Date.now()-new Date(n).getTime())/1e3/60);return e<2?"a few seconds ago":e>2&&e<60?"".concat(e," minutes ago"):"".concat(Math.round(e/60)," hours ago")};Object(r.useEffect)(function(){fetch("/api/rooms").then(function(n){return n.json()}).then(function(n){c(n.reverse().filter(function(n){return Number(l(n.createdAt).split(" ")[0])<48}))})},[]),console.log(i);var s=Object(r.useState)(!1),f=Object(A.a)(s,2),m=f[0],d=f[1];return a.a.createElement(Mn,null,a.a.createElement("h1",null,"Airplayer"),a.a.createElement("p",null,"Join a room or create your own"),a.a.createElement(Jn,null,a.a.createElement(Gn,null,a.a.createElement("input",{placeholder:"Enter a party Name",type:"text"}),a.a.createElement("div",{onClick:function(){return d(!0)}},a.a.createElement(_.a,null),a.a.createElement("p",null,"Create"))),a.a.createElement(Un,null,a.a.createElement(D,{items:i},a.a.createElement(P,{Style:Hn,name:function(n){return n.name},src:function(n){return"https://i.scdn.co/image/f5990a4c6059df42ae7b39b8524cd6ecce334995"},labels:function(n){return["Created ".concat(l(n.createdAt)," in "),n.location]},button:function(n){return function(n){return a.a.createElement(Kn,null,a.a.createElement(u.b,{to:"/room/".concat(n.id)},a.a.createElement(_.f,null)))}(n)}}))),a.a.createElement(M,{show:m,title:"Create a Room",setShow:d},o&&a.a.createElement(zn,{user:o,auth:n.auth}))))}function Yn(){var n=Object(b.a)(['\n  position: absolute;\n  &:before {\n    border-style: solid;\n    border-width: 2px 2px 0 0;\n    content: "";\n    display: inline-block;\n    height: 12px;\n    left: 0;\n    position: relative;\n    vertical-align: top;\n    width: 12px;\n    transform: rotate(45deg);\n    visibility: ',";\n  }\n"]);return Yn=function(){return n},n}var Xn=s.c.span(Yn(),function(n){return n.visibility});function Zn(){var n=Object(b.a)(["\n  left: 15px;\n  margin-top: 15px;\n  &:before {\n    transform: rotate(-135deg);\n  }\n"]);return Zn=function(){return n},n}function $n(){var n=Object(b.a)(["\n  height: calc(100vh - 50px);\n  position: relative;\n  grid-gap: ",";\n\n  & > * {\n    padding: "," 0;\n  }\n  & > h2 {\n    font-size: 1.5rem;\n    padding-left: ",";\n  }\n\n  & > ul {\n    padding: 0 ",";\n  }\n"]);return $n=function(){return n},n}var ne=s.c.div($n(),function(n){return 1*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"});Object(s.c)(Xn)(Zn());function ee(n){var e=n.room,t=n.roomTracks,r=n.topTracks,i=n.setStartAudio;return a.a.createElement(ne,null,a.a.createElement("h2",null,"Recommended Tracks"),a.a.createElement(vn,{items:r,addItem:e.controller.addTrack,removeItem:e.controller.removeTrack,selectedItems:t.playlist}),a.a.createElement("h2",null,"What's up Next"),t.playlist&&a.a.createElement(D,{items:t.playlist},a.a.createElement(P,{Style:Pn,src:function(n){return n.getImages().default.url},name:function(n){return n.name},labels:function(n){return n.getArtists().map(function(n){return n.name})},filter:function(n){return n.uri===t.currentSong.uri?"1":""},onClick:function(n,t){e.controller.play(t.uri),i(!0)},button:function(n){return a.a.createElement("button",{onClick:function(t){t.stopPropagation(),e.controller.removeTrack(n.uri)}}," ","x")}})))}function te(){var n=Object(b.a)(["\n  display: grid;\n  justify-items: center;\n  position: relative;\n  margin-top: 200px;\n"]);return te=function(){return n},n}function re(){var n=Object(b.a)(["\n  position: relative;\n"]);return re=function(){return n},n}var ae=s.c.div(re()),ie=s.c.div(te());function ce(){var n=Object(b.a)(["\n  right: ",";\n  margin-top: ",";\n  transform: ",";\n\n  transition: transform 0.2s, margin-top 0.2s;\n  color: ",";\n"]);return ce=function(){return n},n}function oe(){var n=Object(b.a)(["\n  font-size: 1rem;\n  padding-top: ",";\n  & li {\n    & button {\n      cursor: pointer;\n    }\n    list-style: none;\n    & p {\n      text-transform: capitalize;\n      color: ",";\n\n      @media (max-width: 667px) {\n        color: ",";\n      }\n    }\n  }\n"]);return oe=function(){return n},n}function ue(){var n=Object(b.a)(["\n  font-size: 1rem;\n  padding: 0 ",";\n\n  & h2 {\n    cursor: pointer;\n  }\n"]);return ue=function(){return n},n}var le=s.c.div(ue(),function(n){return 2*n.theme.unit+"px"}),se=s.c.ul(oe(),function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return"dark"===n.theme.mode?n.theme.transparent4:n.theme.transparentBlack}),fe=Object(s.c)(Xn)(ce(),function(n){return 3*n.theme.unit+"px"},function(n){return"right"===n.direction?-2.5*n.theme.unit+"px":-3*n.theme.unit+"px"},function(n){return"right"===n.direction?"rotate(0deg)":"rotate(180deg)"},function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.primary});function me(n){var e=n.title,t=n.items,r=n.filter,i=n.limit,c=n.actions,o=n.handleItemClick,u=void 0===o?function(){}:o,l=n.handleHeaderClick,s=void 0===l?function(){}:l,f=function(n){var e=n.item,t=c.filter(function(n){return"ADD"===n.type})[0];return t?a.a.createElement("button",{onClick:function(){return t.func(e.uri)}},t.icon):null};return a.a.createElement(le,null,a.a.createElement("h2",{onClick:function(n){return s(n,{title:e})}},""!==r&&r!==e?"":e),a.a.createElement(fe,{direction:""!==r?"left":"right",onClick:function(n){return s(n,{title:e})}}),a.a.createElement(D,{items:t,Style:se,limit:r!==e?i:t.length},a.a.createElement(P,{src:function(n){return n.getImages().default.url},name:function(n){return n.name},labels:function(n){return n.getLabels().map(function(n){return n?"".concat(n," "):""})},Style:Pn,button:c?function(n){return a.a.createElement(f,{item:n})}:null,onClick:u||function(){}})))}function de(n){var e=n.query,t=n.filter,r=(n.setFilter,n.limit),i=void 0===r?4:r,c=n.results,o=void 0===c?[]:c;return a.a.createElement(ae,null,""===e?a.a.createElement(ie,null,a.a.createElement("p",null,"Please enter a query")):o.map(function(n){return function(n){for(var e in n)if(n.hasOwnProperty(e))return!1;return!0}(n)}).filter(function(n){return!1===n}).length<1?"No results matching ".concat(e):o&&o.map(function(e,r){return(""==t||t===e.title)&&e.items.length>1&&a.a.createElement(me,{title:e.title,items:e.items,filter:t,limit:i,key:r,actions:e.actions,path:n.path,handleItemClick:e.onItemClick?e.onItemClick:function(){},handleHeaderClick:e.onHeaderClick?e.onHeaderClick:function(){}})}))}function pe(n){var e=n.results,t=e.albums,r=e.tracks,i=e.artists,c=e.playlists,o=n.foundTracks,u=n.setFindQuery,l=n.foundTracksName,s=n.addTrack,f=n.removeTrack,m=n.filter,d=n.setFilter,p=n.query;return a.a.createElement(a.a.Fragment,null,o?a.a.createElement(function(){return a.a.createElement(me,{title:l,items:o,filter:m,actions:[{icon:a.a.createElement(a.a.Fragment,null,"+"),func:s,type:"ADD"},{icon:a.a.createElement(a.a.Fragment,null,"-"),func:f,type:"REMOVE"}],handleHeaderClick:function(n){u({name:"",uri:""})}})},null):a.a.createElement(de,{query:p,filter:m,results:[{title:"Tracks",items:r,actions:[{icon:a.a.createElement(a.a.Fragment,null,"+"),func:s,type:"ADD"},{icon:a.a.createElement(a.a.Fragment,null,"-"),func:f,type:"REMOVE"}],onItemClick:function(n,e){return console.log(e.id)},onHeaderClick:function(n,e){var t=e.title;d(m===t?"":t)}},{title:"Albums",items:t,onItemClick:function(n,e){return u({uri:e.uri,name:e.name})},onHeaderClick:function(n,e){var t=e.title;d(m===t?"":t)}},{title:"Artists",items:i,onItemClick:function(n,e){return u({uri:e.uri,name:e.name})},onHeaderClick:function(n,e){var t=e.title;d(m===t?"":t)}},{title:"Playlists",items:c,onItemClick:function(n,e){return u({uri:e.uri,name:e.name})},onHeaderClick:function(n,e){var t=e.title;d(m===t?"":t)}}]}))}function he(){var n=Object(b.a)(["\n  ","\n"]);return he=function(){return n},n}function be(){var n=Object(b.a)(["\n  ","\n"]);return be=function(){return n},n}function ge(){var n=Object(b.a)(["\n  font-size: 3rem;\n  cursor: pointer;\n  &:hover {\n    color: ",";\n  }\n  transition: color 0.5s;\n"]);return ge=function(){return n},n}function ve(){var n=Object(b.a)(["\n  padding: ",";\n"]);return ve=function(){return n},n}var ye=s.c.div(ve(),function(n){return 2*n.theme.unit+"px"}),ke=Object(s.b)(ge(),function(n){return n.theme.transparent3});Object(s.c)(_.a)(be(),ke),Object(s.c)(_.b)(he(),ke);function je(n){return a.a.createElement(ye,null,a.a.createElement(pe,n))}function Oe(){var n=Object(b.a)(["\n  left: 15px;\n  margin-top: 15px;\n  &:before {\n    transform: rotate(-135deg);\n  }\n"]);return Oe=function(){return n},n}function xe(){var n=Object(b.a)(["\n  height: calc(100vh - 50px);\n  position: relative;\n  display: grid;\n  align-content: flex-start;\n  grid-gap: ",";\n  padding-top: ",";\n\n  & > h2 {\n    font-size: 1.5rem;\n    padding-left: ",";\n  }\n"]);return xe=function(){return n},n}var Ee=s.c.div(xe(),function(n){return 1*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"});Object(s.c)(Xn)(Oe());function we(n){var e=n.results.topTracks,t=n.selectedTracks,r=n.addTrack,i=n.removeTrack;return a.a.createElement(Ee,null,a.a.createElement("h2",null,"Last Played"),a.a.createElement(vn,{items:e,addItem:r,removeItem:i,selectedItems:t}),a.a.createElement(pe,n))}var Se=t(20),Te=t.n(Se);function Ce(){var n=Object(b.a)(["\n  grid-column: span 2;\n  color: ",";\n  height: 100%;\n"]);return Ce=function(){return n},n}function Ie(){var n=Object(b.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  max-height: calc(100vh - 128px);\n  overflow: auto;\n"]);return Ie=function(){return n},n}function Re(){var n=Object(b.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  display: grid;\n  width: 100%;\n  color: ",";\n  grid-template-columns: minmax(96px, 160px) 1fr;\n  grid-template-rows:\n    "," calc(100vh - 128px)\n    ",";\n"]);return Re=function(){return n},n}function Ae(){var n=Object(b.a)(["\n  justify-self: center;\n  align-self: center;\n  animation: fadeIn 0.5s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  animation: fadeOut 0.5s;\n\n  @keyframes fadeOut {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n"]);return Ae=function(){return n},n}function ze(){var n=Object(b.a)(["\n  background: ",";\n"]);return ze=function(){return n},n}var De=s.c.div(ze(),function(n){return"dark"===n.theme.mode?n.theme.black:n.theme.gradient}),Fe=Object(s.c)(Te.a)(Ae()),Pe=s.c.div(Re(),function(n){return n.theme.white},function(n){return 6*n.theme.unit+"px"},function(n){return 10*n.theme.unit+"px"}),_e=s.c.main(Ie()),qe=s.c.footer(Ce(),function(n){return n.theme.white}),Be=t(60),Le=t.n(Be),Ne=function(n,e){switch(e.type){case"SET_DEVICE":return Object(o.a)({},n,{id:e.payload.device_id,ready:e.payload.ready});case"UPDATE_PLAYER":var t=e.payload.roomState;return Object(o.a)({},n,{currentSong:t.currentSong.uri,paused:!t.currentSong.playing,playlist:t.playlist.map(function(n){return n.uri}),lastSeek:t.currentSong.lastSeek});default:return n}};var Qe=function(n,e){var t=Object(r.useRef)();Object(r.useEffect)(function(){t.current=n},[n]),Object(r.useEffect)(function(){if(null!==e){var n=setTimeout(function(){t.current()},e);return function(){return clearTimeout(n)}}},[e])};function Ve(n,e,t,a){var i=Object(r.useReducer)(Ne,{id:null,currentSong:null,paused:!1,ready:!1,playlist:[],lastSeek:0}),c=Object(A.a)(i,2),o=c[0],u=c[1],l=Object(r.useState)(!1),s=Object(A.a)(l,2),f=s[0],m=s[1],d=function(n,e){var t=Object(r.useRef)(0),a=Object(r.useState)(!1),i=Object(A.a)(a,2),c=i[0],o=i[1],u=Object(r.useState)(null),l=Object(A.a)(u,2),s=l[0],f=l[1],m=Object(r.useCallback)(function(r){var a=n.playlist.indexOf(n.currentSong),i=n.playlist[a+r];i&&(e.play(i),setTimeout(function(){return t.current=0},5e3))},[n]);return Qe(function(){t.current+=1,o(!0)},s),Object(r.useEffect)(function(){1==c&&1===t.current&&(m(1),o(!1))}),{setRemaining:f,queTrack:m}}(o,e.controller),p=d.setRemaining,h=d.queTrack,b=function(n,e,t,a){var i=Object(r.useState)(),c=Object(A.a)(i,2),o=c[0],u=c[1];return Object(r.useEffect)(function(){window.onSpotifyWebPlaybackSDKReady||(window.onSpotifyWebPlaybackSDKReady=function(){var e=new window.Spotify.Player({name:"Web Playback SDK Quick Start Player",getOAuthToken:function(e){e(n)}});e.connect().then(function(n){u(n?e:{error:"Failed to connect"})})},e(!0))},[o,window.Spotify]),Object(r.useEffect)(function(){},[o]),Object(r.useEffect)(function(){o&&(o.addListener("initialization_error",function(n){var e=n.message;console.error(e)}),o.addListener("authentication_error",function(n){var e=n.message;console.error(e)}),o.addListener("account_error",function(n){var e=n.message;console.error(e)}),o.addListener("playback_error",function(n){var e=n.message;console.error(e)}),o.addListener("ready",function(n){var e=n.device_id;console.log("Ready with Device ID",e),a({type:"SET_DEVICE",payload:{device_id:e,ready:!0}})}),o.addListener("not_ready",function(n){var e=n.device_id;a({type:"SET_DEVICE",payload:{device_id:e,ready:!1}}),console.log("Device ID has gone offline",e)}))},[o]),Object(r.useEffect)(function(){if(o){var n=function(n){t(n.duration-n.position-1e3)};return o.addListener("player_state_changed",n),function(){return o.removeListener("player_state_changed",n)}}},[o]),{player:o}}(n.accessToken,m,p,u).player,g=function(n){var e=Object(r.useState)(80),t=Object(A.a)(e,2),a=t[0],i=t[1];return wn(function(){n&&n.setVolume(a/100)},200,[a]),{volume:a,setVolume:i}}(b),v=g.volume,y=g.setVolume;return function(n,e,t){Object(r.useEffect)(function(){n.ready&&n.currentSong&&e&&n.lastSeek&&t&&t.seek(n.lastSeek)},[n.ready,n.currentSong,n.lastSeek,e])}(o,a,b),function(n,e,t,a){var i=Object(r.useCallback)(function(){var e=Object(On.a)(kn.a.mark(function e(t){return kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(n.id),{method:"PUT",body:JSON.stringify({uris:[t]}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}));case 1:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),[n.id,a]);Object(r.useEffect)(function(){t.state.playlist.length>0&&t.controller.play(t.state.playlist[0].uri)},[]),Object(r.useEffect)(function(){e?n.ready&&n.currentSong&&i(n.currentSong):t.controller.pause()},[n.ready,n.currentSong,e])}(o,t,e,n.accessToken),function(n,e){Object(r.useEffect)(function(){n.ready&&n.currentSong&&(n.paused?e.pause():e.resume())},[n.ready,n.currentSong,n.paused])}(o,b),Object(r.useEffect)(function(){u({type:"UPDATE_PLAYER",payload:{roomState:e.state}})},[e.state]),{deviceState:o,loadScript:f,queTrack:h,volume:v,setVolume:y}}var Me=t(64);t(30);function Je(){var n=Object(b.a)(["\n  background: ",";\n  opacity: ",";\n  height: ",";\n  width: 40px;\n  border-top-right-radius: 15px;\n  border-top-left-radius: 15px;\n  position: absolute;\n  bottom: 70px;\n  right: 0;\n  padding: 15px;\n  transition: height 0.4s, opacity 0.4s;\n  /* hacky way of changing background color for slider*/\n  & > div {\n    & > div:first-child {\n      background: #ffd5e3 !important;\n    }\n  }\n"]);return Je=function(){return n},n}function Ge(){var n=Object(b.a)(["\n  align-items: center;\n  display: grid;\n  justify-items: center;\n  width: 40px;\n  height: 80px;\n  z-index: 99999;\n"]);return Ge=function(){return n},n}var Ue=s.c.div(Ge()),He=s.c.div(Je(),function(n){return"dark"===n.theme.mode?n.theme.transparentBlack:n.theme.white},function(n){return n.show?1:0},function(n){return n.show?"160px":0});function Ke(n){var e=n.volume,t=n.setVolume,i=Object(r.useState)(!1),c=Object(A.a)(i,2),o=c[0],u=c[1];return a.a.createElement(Ue,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},a.a.createElement(_.n,{style:{cursor:"pointer"}}),a.a.createElement(He,{show:o},a.a.createElement(Me.a,{axis:"y",y:100-e,onChange:function(n){var e=n.y;return t(100-e)},styles:{thumb:{width:30,height:6,backgroundColor:f.white,borderRadius:"5px",opacity:o?1:0,transition:"opacity 0.4s",cursor:"pointer",boxShadow:"1px 1px 2px 1px rgba(0, 0, 0, 0.5)"},track:{backgroundColor:f.primary,height:o?"130px":"0px",transition:"height 0.4s",cursor:"pointer"}}})))}function We(){var n=Object(b.a)(["\n  position: absolute;\n  height: 15px;\n  background: ",";\n"]);return We=function(){return n},n}function Ye(){var n=Object(b.a)(["\n  background: ",";\n  position: absolute;\n  bottom: 80px;\n  width: 100%;\n  height: 15px;\n\n  & > input {\n    position: relative;\n    width: 100%;\n    height: 15px;\n    z-index: 99;\n    cursor: pointer;\n  }\n"]);return Ye=function(){return n},n}var Xe=s.c.div(Ye(),function(n){return"dark"===n.theme.mode?n.theme.transparent2:n.theme.transparentBlack5}),Ze=s.c.div.attrs(function(n){return{style:{width:n.width}}})(We(),function(n){return n.theme.gradient});function $e(n){var e=n.playing,t=n.currentSong,i=n.lastSeek,c=n.duration,o=n.seek,u=Object(r.useState)(),l=Object(A.a)(u,2),s=l[0],f=l[1],m=i;return En(function(){f(function(n){return n!==m?s+100:m+100})},e?100:null),Object(r.useEffect)(function(){},[i]),Object(r.useEffect)(function(){f(i)},[i,t]),a.a.createElement(Xe,null,a.a.createElement(Ze,{width:s&&c?s/c*100+"%":0}),a.a.createElement("input",{type:"range",min:"0",max:"300",className:"slider",value:s&&c?s/c*300:0,onChange:function(n){if(c){var e=Math.round(parseInt(n.target.value)/300*c);o(e)}}}))}function nt(){var n=Object(b.a)(["\n  padding-top: 5px;\n  text-align: center;\n  background-color: ",";\n"]);return nt=function(){return n},n}function et(){var n=Object(b.a)(["\n  color: ",";\n  font-size: 2rem;\n  margin-right: 3rem;\n\n  position: relative;\n  display: grid;\n  justify-items: flex-end;\n"]);return et=function(){return n},n}function tt(){var n=Object(b.a)(["\n  display: grid;\n  grid-template-columns: 80px 1fr;\n  align-items: center;\n\n  & > img {\n    width: 80px;\n  }\n\n  & > div {\n    padding-left: 15px;\n    font-size: 0.8rem;\n\n    & > h3 {\n      color: ",";\n    }\n\n    & > p {\n      color: ",";\n      text-transform: capitalize;\n    }\n  }\n"]);return tt=function(){return n},n}function rt(){var n=Object(b.a)(["\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n"]);return rt=function(){return n},n}function at(){var n=Object(b.a)(["\n  background-color: ",";\n\n  height: 100%;\n  color: ",";\n  display: grid;\n  width: 100%;\n  grid-template-rows: 1fr;\n"]);return at=function(){return n},n}var it=s.c.div(at(),function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.white},function(n){return n.theme.black}),ct=s.c.div(rt()),ot=s.c.div(tt(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.darkestGray},function(n){return n.theme.gray}),ut=s.c.div(et(),function(n){return n.theme.primary}),lt=Object(s.c)(Te.a)(nt(),function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.white});function st(){var n=Object(b.a)(["\n  color: ",";\n  font-size: 1.75rem;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: space-between;\n  justify-items: center;\n  width: 240px;\n  align-self: center;\n  justify-self: center;\n  text-align: center;\n  text-justify: center;\n  & > * {\n    cursor: pointer;\n  }\n\n  & > :nth-child(odd) {\n    margin-top: 0.625rem;\n  }\n  & > :nth-child(2) {\n    font-size: 3rem;\n  }\n"]);return st=function(){return n},n}var ft=s.c.div(st(),function(n){return n.theme.primary});function mt(n){var e=n.room,t=n.queTrack,r=n.setStart,i=n.deviceState,c=0===e.state.playlist.map(function(n){return n.uri}).indexOf(e.state.currentSong.uri),o=e.state.playlist.map(function(n){return n.uri}).indexOf(e.state.currentSong.uri)===e.state.playlist.length-1;return a.a.createElement(ft,null,c?a.a.createElement("div",null):a.a.createElement(_.l,{onClick:function(){return t(-1)}}),i.paused?a.a.createElement(_.j,{onClick:function(){e.controller.resume(),r(!0)}}):a.a.createElement(_.g,{onClick:function(){e.controller.pause()}}),o?a.a.createElement("div",null):a.a.createElement(_.m,{onClick:function(){return t(1)}}))}function dt(n){var e=n.auth,t=n.room,i=n.roomTracks,c=n.start,u=n.setStart,l=Object(r.useState)({error:!1}),s=Object(A.a)(l,2),m=s[0],d=s[1],p=i.currentSong.duration_ms,h=Ve(e,t,c,p),b=h.loadScript,g=h.deviceState,v=h.queTrack,y=h.volume,k=h.setVolume;return a.a.createElement(a.a.Fragment,null,b&&a.a.createElement(Le.a,{url:"https://sdk.scdn.co/spotify-player.js",onError:function(){return d(Object(o.a)({},m,{error:!0}))},onLoad:function(){d(Object(o.a)({},m,{loaded:!0}))}}),g.ready?a.a.createElement(it,null,a.a.createElement($e,{duration:p,playing:!g.paused,lastSeek:g.lastSeek,currentSong:g.currentSong,seek:t.controller.seek}),a.a.createElement(ct,null,a.a.createElement(ot,null,a.a.createElement("img",{src:i.currentSong.getImages().default.url,alt:""}),a.a.createElement("div",null,a.a.createElement("h3",null,i.currentSong.name),a.a.createElement("p",null,i.currentSong.getArtists().map(function(n){return n.name})))),a.a.createElement(mt,{setStart:u,room:t,queTrack:v,deviceState:g}),a.a.createElement(ut,null,a.a.createElement(Ke,{volume:y,setVolume:k})))):a.a.createElement(lt,{type:"Bars",color:f.primary,height:70,width:50}))}function pt(){var n=Object(b.a)(["\n  cursor: pointer;\n  border: 1px solid ",";\n  border-radius: 90px;\n  text-align: center;\n  padding: ",";\n  color: ",";\n  background-color: ",";\n\n  &:hover {\n    cursor: pointer;\n    color: ",";\n    background-color: ",";\n  }\n"]);return pt=function(){return n},n}function ht(){var n=Object(b.a)(["\n  font-size: 0.6em;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  align-content: center;\n  align-self: center;\n  grid-gap: ",";\n"]);return ht=function(){return n},n}var bt=s.c.div(ht(),function(n){return 1*n.theme.unit+"px"}),gt=s.c.div(pt(),function(n){return n.theme.white},function(n){return 1*n.theme.unit+"px"},function(n){return n.active?n.theme.black:n.theme.white},function(n){return n.active?n.theme.white:n.theme.transparent2},function(n){return n.theme.black},function(n){return n.active?n.theme.white:n.theme.transparent4});function vt(n){var e=n.filter,t=n.setFilter,r=function(n){var r=n.text;return a.a.createElement(gt,{active:e===r,onClick:function(){t(e===r?"":r)}},r)};return a.a.createElement(bt,null,a.a.createElement(r,{text:"Tracks"}),a.a.createElement(r,{text:"Playlists"}),a.a.createElement(r,{text:"Artists"}),a.a.createElement(r,{text:"Albums"}))}function yt(){var n=Object(b.a)(["\n  padding: ",";\n\n  border-radius: 2px;\n  background-color: ",";\n  border: none;\n  display: block;\n  justify-self: start;\n  width: ",";\n"]);return yt=function(){return n},n}function kt(){var n=Object(b.a)(["\n  grid-template-columns: 1fr 1fr;\n  display: grid;\n  justify-self: flex-start;\n  grid-gap: ",";\n"]);return kt=function(){return n},n}function jt(){var n=Object(b.a)(["\n  padding: ",";\n  grid-template-columns: 2fr 1fr;\n  display: grid;\n  justify-items: flex-end;\n  align-content: center;\n"]);return jt=function(){return n},n}function Ot(){var n=Object(b.a)(["\n  border: 2px solid ",";\n  border-radius: 90px;\n  width: ",";\n  height: ",";\n\n  cursor: pointer;\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n"]);return Ot=function(){return n},n}var xt=Object(s.c)(_.i)(Ot(),function(n){return n.theme.transparent4},function(n){return 4*n.theme.unit+"px"},function(n){return 4*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return n.theme.white}),Et=s.c.header(jt(),function(n){return 2*n.theme.unit+"px"}),wt=s.c.div(kt(),function(n){return 1*n.theme.unit+"px"}),St=s.c.input(yt(),function(n){return 1*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return 34*n.theme.unit+"px"});function Tt(n){var e=n.filter,t=n.setFilter,r=n.query,i=n.setQuery;return a.a.createElement(Et,null,a.a.createElement(wt,null,a.a.createElement(St,{value:r,placeholder:"Search",onChange:function(n){return i(n.target.value)}}),a.a.createElement(vt,{filter:e,setFilter:t})),a.a.createElement(xt,null))}function Ct(){var n=Object(b.a)(["\n  ","\n"]);return Ct=function(){return n},n}function It(){var n=Object(b.a)(["\n  ","\n"]);return It=function(){return n},n}function Rt(){var n=Object(b.a)(["\n  ","\n"]);return Rt=function(){return n},n}function At(){var n=Object(b.a)(["\n  font-size: 2rem;\n"]);return At=function(){return n},n}function zt(){var n=Object(b.a)(["\n  grid-row: span 2;\n  background-color: ",";\n  display: grid;\n  justify-content: center;\n  grid-gap: ",";\n  padding: ",";\n  grid-template-rows: 40px 40px 40px 1fr;\n\n  & p {\n    padding-top: 5px;\n    font-size: 1.2rem;\n  }\n\n  & div {\n    align-self: flex-end;\n\n    & button {\n      cursor: pointer;\n      padding: 8px;\n      border: none;\n      border-radius: 90px;\n      background: ",";\n      color: ",";\n    }\n  }\n"]);return zt=function(){return n},n}function Dt(){var n=Object(b.a)(["\n  color: ",";\n  text-decoration: none;\n  display: grid;\n  justify-self: flex-start;\n  grid-template-columns: 2rem 1fr;\n  grid-gap: ",";\n  cursor: pointer;\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n  transition: color 0.4s;\n"]);return Dt=function(){return n},n}var Ft=Object(s.c)(u.b)(Dt(),function(n){return n.theme.white},function(n){return 1*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return n.theme.white}),Pt=s.c.nav(zt(),function(n){return n.theme.transparent},function(n){return 1*n.theme.unit+"px"},function(n){return 4*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.gradient:n.theme.transparentBlack4},function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.primary}),_t=Object(s.b)(At()),qt=Object(s.c)(_.d)(Rt(),_t),Bt=Object(s.c)(_.k)(It(),_t),Lt=Object(s.c)(_.e)(Ct(),_t);function Nt(n){var e=n.path,t=n.toggleTheme;return a.a.createElement(Pt,null,a.a.createElement(Ft,{to:e},a.a.createElement(qt,null),a.a.createElement("p",null,"Home")),a.a.createElement(Ft,{to:"".concat(e,"/search")},a.a.createElement(Bt,null),a.a.createElement("p",null,"Search")," "),a.a.createElement(Ft,{to:"".concat(e,"/library")},a.a.createElement(Lt,null),a.a.createElement("p",null,"Library")),a.a.createElement("div",null," ",a.a.createElement("button",{onClick:t},"dark"===localStorage.getItem("theme")?"Light":"Dark"," Mode")))}function Qt(){var n=Object(b.a)(["\n  background-color: ",";\n  opacity: ",";\n"]);return Qt=function(){return n},n}function Vt(){var n=Object(b.a)(["\n  background-color: ",";\n  opacity: ",";\n"]);return Vt=function(){return n},n}function Mt(){var n=Object(b.a)(["\n  & div {\n    position: absolute;\n    bottom: ",";\n    height: ",";\n    width: 100%;\n    transition: opacity 0.7s;\n    text-align: center;\n    padding: ",";\n    pointer-events: none;\n  }\n"]);return Mt=function(){return n},n}var Jt=s.c.div(Mt(),function(n){return 12*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"},function(n){return 1.5*n.theme.unit+"px"}),Gt=s.c.div(Vt(),function(n){return n.theme.red},function(n){return n.active?1:0}),Ut=s.c.div(Qt(),function(n){return n.theme.green},function(n){return n.active?1:0});function Ht(n){var e=n.success,t=n.error,i=Object(r.useState)(""),c=Object(A.a)(i,2),o=(c[0],c[1],Object(r.useState)("")),u=Object(A.a)(o,2),l=(u[0],u[1],Object(r.useState)({success:"",error:""})),s=Object(A.a)(l,2),f=s[0],m=s[1],d=function(n){switch(n.type){case"ADD_TRACK":return"Added track to playlist";case"REMOVE_TRACK":return"Removed Track from playlist";default:return""}},p=function(n){switch(n.type){case"ADD_TRACK":return"Track already in playlist";case"REMOVE_TRACK":return"Track not in playlist"}};return Object(r.useEffect)(function(){e&&m({success:d(e),error:""})},[e]),Object(r.useEffect)(function(){t&&m({success:"",error:p(t)})},[t]),Qe(function(){(f.success||f.error)&&m({error:"",success:""})},(f.success||f.error)&&3e3),a.a.createElement(Jt,null,a.a.createElement(Gt,{active:f.error},f.error),a.a.createElement(Ut,{active:f.success},f.success))}function Kt(n){var e=Object(r.useState)(""),t=Object(A.a)(e,2),i=t[0],c=t[1],o=Object(r.useState)(!1),u=Object(A.a)(o,2),s=u[0],m=u[1],d=n.query,p=n.setQuery,h=n.room,b=n.roomTracks,g=n.libraryResults,v=n.queryResults,y=n.findResult,k=n.setFindQuery,j=n.playerReady,O=n.auth,x=n.match,E=n.roomSuccess,w=n.roomError,S=n.loaded,T=n.toggleTheme;return a.a.createElement(De,null,a.a.createElement(Pe,null,a.a.createElement(Nt,{path:x.url,toggleTheme:T}),a.a.createElement(Tt,{filter:i,setFilter:c,query:d,setQuery:p}),S?a.a.createElement(_e,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(l.b,{exact:!0,path:"".concat(x.path),component:function(){return a.a.createElement(ee,{room:h,setStartAudio:m,roomTracks:b,topTracks:g.topTracks})}}),a.a.createElement(l.b,{path:"".concat(x.path,"/search"),component:function(){return a.a.createElement(je,{results:v,filter:i,setFilter:c,addTrack:h.controller.addTrack,removeTrack:h.controller.removeTrack,query:d,foundTracksName:y.name,foundTracks:y.tracks,setFindQuery:k})}}),a.a.createElement(l.b,{path:"".concat(x.path,"/library"),component:function(){return a.a.createElement(we,{filter:i,setFilter:c,results:g,foundTracks:y.tracks,setFindQuery:k,addTrack:h.controller.addTrack,removeTrack:h.controller.removeTrack,foundTracksName:y.name,selectedTracks:b.playlist})}}))):a.a.createElement(Fe,{type:"Bars",color:f.white}),a.a.createElement(qe,null,a.a.createElement(Ht,{success:E,error:w}),j&&h&&h.state.isHost&&S&&a.a.createElement(dt,{auth:O,room:h,roomTracks:b,start:s,setStart:m}))))}function Wt(){var n=Object(b.a)(["\n  bottom: ",';\n  left: calc(50% - 8px);\n  &:before {\n    border-style: solid;\n    border-width: 1px 1px 0 0;\n    content: "";\n    display: inline-block;\n    height: ',";\n    left: 0;\n    position: relative;\n    vertical-align: top;\n    width: ",";\n    transform: rotate(135deg);\n  }\n"]);return Wt=function(){return n},n}function Yt(){var n=Object(b.a)(["\n  text-align: center;\n  text-justify: center;\n  align-self: center;\n\n  & > h1 {\n    font-weight: 700;\n  }\n  & > h5 {\n    font-weight: 300;\n    font-size: 1.7rem;\n    color: ",";\n  }\n  & > p {\n    font-weight: 100;\n    padding-top: ",";\n    font-size: 1rem;\n    color: ",";\n  }\n"]);return Yt=function(){return n},n}function Xt(){var n=Object(b.a)(["\n  /* Container to position Song info*/\n\n  position: absolute;\n  min-height: ",";\n  height: ",";\n  width: 100%;\n  bottom: 0px;\n  display: grid;\n"]);return Xt=function(){return n},n}function Zt(){var n=Object(b.a)(['\n  width: 100%;\n  height: 100%;\n  object-fit: "contain";\n']);return Zt=function(){return n},n}function $t(){var n=Object(b.a)(['\n  /* Adds fade effect to bottom of image*/\n\n  height: 100%;\n  &::before {\n    content: "";\n    background-image: ',';\n    position: absolute;\n    height: 50%; /* based on image height*/\n\n    /* 1 less pixel than padding amount */\n    right: -1px;\n    bottom: 31px;\n    left: -1px;\n  }\n  &::after {\n    content: "";\n    display: block;\n    height: 100vh;\n  }\n']);return $t=function(){return n},n}function nr(){var n=Object(b.a)(["\n  /* Used to position Image */\n  position: relative;\n  top: 0px;\n  height: ",";\n  width: ",";\n  margin: 0 auto;\n  padding: 32px 0;\n"]);return nr=function(){return n},n}function er(){var n=Object(b.a)(['\n  /* background-color: "black"; */\n  height: calc(100vh - 48px);\n  position: relative;\n']);return er=function(){return n},n}var tr=s.c.div(er()),rr=s.c.div(nr(),function(n){return 1.2*n.height+"px"},function(n){return n.width+"px"}),ar=s.c.div($t(),function(n){return"dark"===n.theme.mode?n.theme.blackFadeGradient:n.theme.whiteFadeGradient}),ir=s.c.img(Zt()),cr=s.c.div(Xt(),function(n){return 12*n.theme.unit+"px"},function(n){return"calc(100vh - 24px - ".concat(n.height,"px)")}),or=s.c.div(Yt(),function(n){return"dark"===n.theme.mode?n.theme.transparent4:n.theme.transparentBlack2},function(n){return 1*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.transparent3:n.theme.secondary}),ur=Object(s.c)(Xn)(Wt(),function(n){return 1*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"});function lr(n){var e=n.AudioVisualizer,t=n.title,r=n.artist,i=n.nextTrack,c=n.image;return a.a.createElement(tr,null,a.a.createElement(rr,{width:c.width,height:c.height},a.a.createElement(ar,null,a.a.createElement(ir,{src:c.url}))),a.a.createElement(cr,{height:c.height},a.a.createElement(or,null,a.a.createElement(e,null),a.a.createElement("h1",null,t),a.a.createElement("h5",null,r),a.a.createElement("p",null," ","Up next ",i.artist," : ",i.title))),a.a.createElement(ur,null))}function sr(){return a.a.createElement("div",null)}function fr(){var n=Object(b.a)(["\n  font-size: 0.8rem;\n  display: grid;\n  grid-template-columns: 48px 1fr 48px;\n  margin-bottom: ",";\n  align-items: center;\n  width: 100%;\n  background-color: ",";\n\n  & img {\n    height: ",";\n    width: ",";\n  }\n  & div {\n    padding: 0 0 0 ",";\n    overflow: hidden;\n    & h3 {\n      font-size: 0.8rem;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    & p {\n      display: inline;\n      color: ",";\n      font-weight: 100;\n      text-transform: capitalize;\n    }\n  }\n\n  & button {\n    height: ",";\n    width: ",';\n    background: none;\n    border: none;\n    color: whitesmoke;\n    font-size: 2rem;\n    text-align: center;\n    text-justify: center;\n  }\n  & li {\n    display: inline;\n    text-transform: capitalize;\n  }\n  & li:first-child::after {\n    content: "\u2022";\n    color: white;\n    padding: 0 3px;\n  }\n']);return fr=function(){return n},n}function mr(){var n=Object(b.a)(["\n  justify-self: center;\n  align-self: center;\n"]);return mr=function(){return n},n}function dr(){var n=Object(b.a)(["\n  padding: 0 ",";\n"]);return dr=function(){return n},n}function pr(){var n=Object(b.a)(["\n  height: calc(100vh - 50px);\n  position: relative;\n  display: grid;\n"]);return pr=function(){return n},n}var hr=s.c.div(pr()),br=s.c.ul(dr(),function(n){return 2*n.theme.unit+"px"}),gr=Object(s.c)(Te.a)(mr()),vr=s.c.li(fr(),function(n){return 2*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?"":n.theme.transparent3},function(n){return 6*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"},function(n){return 1*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.transparent4:n.theme.transparentBlack},function(n){return 6*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"});function yr(n){var e=n.roomTracks,t=e.playlist,r=e.currentSong,i=t&&t[t.indexOf(t.filter(function(n){return n.uri===r.uri})[0])+1]||{artist:null,title:null};return a.a.createElement(hr,null,r&&t?a.a.createElement(a.a.Fragment,null," ",a.a.createElement(lr,{AudioVisualizer:sr,title:r.name,artist:r.artists[0].name,image:r.getImages().medium,nextTrack:{artist:i.artist,title:i.name}})," ",a.a.createElement(D,{items:t,Style:br},a.a.createElement(function(n){var e=n.src,t=n.name,r=n.labels;return a.a.createElement(vr,null,e&&a.a.createElement("img",{src:e}),a.a.createElement("div",null,a.a.createElement("h3",null,t),a.a.createElement("ul",null,r&&r.map(function(n,e){return a.a.createElement("p",{key:e},n)}))),a.a.createElement("button",null,"+"))},{src:function(n){return n.getImages().default.url},name:function(n){return n.name},labels:function(n){return n.getLabels().map(function(n){return"".concat(n," ")}).slice(1,3)}}))):a.a.createElement(gr,{type:"Bars",color:f.white}))}function kr(){var n=Object(b.a)(["\n  height: calc(100vh - 50px);\n  position: relative;\n"]);return kr=function(){return n},n}var jr=s.c.div(kr());function Or(n){return a.a.createElement("input",{name:n.name,type:n.type,placeholder:n.placeholder,value:n.value,onChange:function(e){return n.setValue(e.target.value)}})}function xr(){var n=Object(b.a)(["\n  width: 100%;\n  display: grid;\n  grid-gap: ",";\n  border-bottom: 1px solid ",";\n  padding: ",";\n  position: fixed;\n  background-color: ",";\n  background-image: ",";\n  z-index: 10;\n  & input {\n    margin: 0px;\n    background-color: ",";\n    border: none;\n    border-bottom: 1px solid ",";\n    width: 100%;\n    height: ",";\n    color: ",";\n    font-size: 2rem;\n    padding: ",";\n  }\n"]);return xr=function(){return n},n}function Er(){var n=Object(b.a)(["\n  padding-bottom: ",";\n"]);return Er=function(){return n},n}var wr=s.c.div(Er(),function(n){return 20*n.theme.unit+"px"}),Sr=s.c.div(xr(),function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.white},function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.darkestGray},function(n){return"light"===n.theme.mode&&n.theme.gradient},function(n){return n.theme.transparent},function(n){return n.theme.white},function(n){return 8*n.theme.unit+"px"},function(n){return n.theme.white},function(n){return 2*n.theme.unit+"px"});function Tr(n){var e=n.query,t=n.setQuery,r=n.filter,i=n.setFilter;return a.a.createElement(wr,null,a.a.createElement(Sr,null,a.a.createElement(Or,{value:e,setValue:t}),a.a.createElement(vt,{filter:r,setFilter:i})))}function Cr(){var n=An("tobi"),e=n.query,t=n.setQuery,i=n.queryResults,c=i.albums,o=i.tracks,u=i.artists,l=i.playlists,s=Object(r.useState)(""),f=Object(A.a)(s,2),m=f[0],d=f[1];return a.a.createElement(jr,null,a.a.createElement(Tr,{query:e,setQuery:t,filter:m,setFilter:d}),a.a.createElement(de,{query:e,filter:m,setFilter:d,results:[{title:"Albums",items:c},{title:"Artists",items:u},{title:"Playlists",items:l},{title:"Tracks",items:o}]}))}function Ir(){var n=Object(b.a)(["\n  height: ",";\n  width: 100%;\n  position: fixed;\n  background-color: ",";\n  background-image: ",";\n  & i {\n    color: ",";\n  }\n"]);return Ir=function(){return n},n}function Rr(){var n=Object(b.a)(["\n  ","\n  position:absolute;\n  top: 0px;\n  right: 5px;\n  pointer-events: none;\n"]);return Rr=function(){return n},n}function Ar(){var n=Object(b.a)(["\n  ","\n  border-top: 1px solid ",";\n  justify-items: center;\n"]);return Ar=function(){return n},n}function zr(){var n=Object(b.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: center;\n"]);return zr=function(){return n},n}var Dr=Object(s.b)(zr()),Fr=s.c.div(Ar(),Dr,function(n){return n.theme.white}),Pr=s.c.div(Rr(),Dr),_r=s.c.div(Ir(),function(n){return 7*n.theme.unit+"px"},function(n){return n.theme.darkestGray},function(n){return"light"===n.theme.mode&&n.theme.gradient},function(n){return n.theme.white});function qr(n){var e=n.path;return a.a.createElement(_r,null,a.a.createElement(Fr,null,a.a.createElement(Pr,null,a.a.createElement("span",null,"|"),a.a.createElement("span",null,"|"),a.a.createElement("span",null,"|")),a.a.createElement(u.b,{to:e},a.a.createElement("i",{className:"fas fa-music"})),a.a.createElement(u.b,{to:"".concat(e,"/search")},a.a.createElement("i",{className:"fas fa-search"})),a.a.createElement(u.b,{to:"".concat(e,"/library")},a.a.createElement("i",{className:"fas fa-heart"}))))}function Br(){var n=Object(b.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  color: ",";\n\n  background-color: ",";\n\n  font-size: 1.5rem;\n  overflow: scroll;\n"]);return Br=function(){return n},n}var Lr=s.c.div(Br(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.black},function(n){return"dark"===n.theme.mode?n.theme.black:n.theme.white});function Nr(n){var e=Object(r.useState)(""),t=Object(A.a)(e,2),i=t[0],c=t[1],o=n.query,u=(n.setQuery,n.room),s=n.roomTracks,f=n.libraryResults,m=n.queryResults,d=n.findResult,p=n.setFindQuery,h=(n.playerReady,n.accessToken,n.match);return a.a.createElement(Lr,null,a.a.createElement(l.b,{exact:!0,path:"".concat(h.path),component:function(){return a.a.createElement(yr,{roomTracks:s})}}),a.a.createElement(l.b,{path:"".concat(h.path,"/search"),component:function(){return a.a.createElement(Cr,{results:m,filter:i,setFilter:c,addTrack:u.controller.addTrack,removeTrack:u.controller.removeTrack,query:o,foundTracksName:d.name,foundTracks:d.tracks,setFindQuery:p})}}),a.a.createElement(l.b,{path:"".concat(h.path,"/library"),component:function(){return a.a.createElement(we,{filter:i,setFilter:c,results:f,foundTracks:d.tracks,setFindQuery:p,addTrack:u.controller.addTrack,removeTrack:u.controller.removeTrack,foundTracksName:d.name,selectedTracks:s.playlist})}}),a.a.createElement(qr,{path:h.url}))}var Qr=t(63),Vr=t.n(Qr);function Mr(n){var e=function(){var n=Vr.a.connect("https://airplayer.herokuapp.com"),e=Object(r.useState)(""),t=Object(A.a)(e,2),a=t[0],i=t[1],c=Object(r.useState)({type:"",payload:""}),u=Object(A.a)(c,2),l=u[0],s=u[1],f=function(n){return{joinRoom:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=arguments.length>3?arguments[3]:void 0;return n.emit("JOIN_ROOM",{id:e,userId:t,password:null,token:r})},addTrack:function(e){return n.emit("ADD_TRACK",{uri:e})},removeTrack:function(e){return n.emit("REMOVE_TRACK",{uri:e})},updatePlaylist:function(e){return n.emit("UPDATE_PLAYLIST",e)},play:function(e){return n.emit("PLAY",{uri:e})},pause:function(){return n.emit("PAUSE",null)},resume:function(){return n.emit("RESUME",null)},seek:function(e){return n.emit("SEEK",e)}}},m=Object(r.useState)({state:{},controller:f(n),error:""}),d=Object(A.a)(m,2),p=d[0],h=d[1];return Object(r.useEffect)(function(){n.on("ROOM_CREATED",function(n){return s({type:"ROOM_CREATED",payload:n,message:"Room Created"})}),n.on("ROOM_UPDATED",function(e){h(Object(o.a)({},p,{state:Object(o.a)({},e,{isHost:n.id===e.host}),controller:f(n)}))}),n.on("ERROR",function(n){var e=n.type,t=n.payload,r=n.message,a=n.code;return i({type:e,payload:t,message:r,code:a})}),n.on("SUCCESS",function(n){var e=n.type,t=n.payload,r=n.message;return s({type:e,payload:t,message:r})})},[p]),{room:p,roomError:a,roomSuccess:l}}(),t=e.room,i=e.roomSuccess,c=e.roomError,u=function(n,e){var t=Object(r.useState)({currentSong:null,playlist:null}),a=Object(A.a)(t,2),i=a[0],c=a[1],o=xn(n.accessToken);return Object(r.useEffect)(function(){if(e&&e.state&&e.state.currentSong&&e.state.playlist){var n=o.find({track:{where:{id:e.state.currentSong.uri.split(":")[2]}}}),t=Promise.all(e.state.playlist.map(function(n){return o.find({track:{where:{id:n.uri.split(":")[2]}}})}));Promise.all([n,t]).then(function(n){var e=Object(A.a)(n,2),t=e[0],r=e[1];Reflect.setPrototypeOf(t,Rn()),r.map(function(n){return Reflect.setPrototypeOf(n,Rn())}),c({currentSong:t,playlist:r})})}},[e.state]),{roomTracks:i}}(n.auth,t).roomTracks,l=function(n){var e=Object(r.useState)({tracks:{},artists:{},playlists:{},albums:{},topTracks:{}}),t=Object(A.a)(e,2),a=t[0],i=t[1],c=xn(n.accessToken);return Object(r.useEffect)(function(){var e=function(){var n=Object(On.a)(kn.a.mark(function n(){var e,t,r,i,o,u,l,s;return kn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object.keys(a).map(function(n){switch(n){case"tracks":case"albums":return c.user().library().get(n);case"artists":return c.user().artists();case"playlists":return c.user().playlists();case"topTracks":return c.user().top("tracks")}}),n.next=3,Promise.all(e);case 3:return t=n.sent,r=t[0].error?[]:t[0].items.map(function(n){return n.track}),i=t[1].error?[]:t[1].artists.items,o=t[2].error?[]:t[2].items,u=t[3].error?[]:t[3].items.map(function(n){return n.album}),l=t[4].error?[]:t[4].items,(s=[r,i,o,u,l]).forEach(function(n){return n.forEach(function(n){return Reflect.setPrototypeOf(n,Rn())})}),n.abrupt("return",Object.assign.apply(Object,[{}].concat(Object(J.a)(Object.keys(a).map(function(n,e){return Object(jn.a)({},n,s[e])})))));case 12:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();n.accessToken&&e().then(function(n){i(n)})},[n.accessToken]),{libraryResults:a}}(n.auth).libraryResults,s=An(n.auth),m=s.query,d=s.setQuery,p=s.queryResults,h=function(n){var e=Object(r.useState)({uri:"",name:""}),t=Object(A.a)(e,2),a=t[0],i=t[1],c=Object(r.useState)({tracks:[],name:""}),o=Object(A.a)(c,2),u=o[0],l=o[1],s=xn(n.accessToken);Object(r.useEffect)(function(){var n=function(){var n=Object(On.a)(kn.a.mark(function n(e,t){return kn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next="album"===n.t0?3:"artist"===n.t0?4:"playlist"===n.t0?5:6;break;case 3:return n.abrupt("return",d(t));case 4:return n.abrupt("return",f(t));case 5:return n.abrupt("return",m(t));case 6:return n.abrupt("return",null);case 7:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}();if(""!==a.uri){var e=a.uri.split(":").slice(-2),t=Object(A.a)(e,2);n(t[0],t[1]).then(function(n){l({tracks:n,name:a.name})})}else l({tracks:null,name:null})},[a]);var f=function(){var n=Object(On.a)(kn.a.mark(function n(e){var t;return kn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.find({topTracks:{where:{artist:{id:e}},market:"AU"}});case 2:return(t=n.sent).tracks.forEach(function(n){Reflect.setPrototypeOf(n,Rn())}),n.abrupt("return",t.tracks);case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=Object(On.a)(kn.a.mark(function n(e){var t,r;return kn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.find({tracks:{where:{playlist:{id:e}}}});case 2:return t=n.sent,(r=t.items.map(function(n){return n.track})).forEach(function(n){Reflect.setPrototypeOf(n,Rn())}),n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=Object(On.a)(kn.a.mark(function n(e){var t,r,a,i;return kn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([s.find({tracks:{where:{albums:{id:e}}}}),s.find({album:{where:{id:e}}})]);case 2:return t=n.sent,r=Object(A.a)(t,2),a=r[0],i=r[1],a.items.forEach(function(n){n.images=i.images,Reflect.setPrototypeOf(n,Rn())}),n.abrupt("return",a.items);case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return[u,i]}(n.auth),b=Object(A.a)(h,2),g=b[0],v=b[1],y=Dn(n.auth),k=n.auth.accessToken&&t.state&&t.state.currentSong&&u&&u.currentSong&&y,j=function(){var n=Object(r.useState)("desktop"),e=Object(A.a)(n,2),t=e[0],a=e[1],i=function(){var n=f.breakpoints.mobile.substring(0,f.breakpoints.mobile.length-2);window.innerWidth<n?a("mobile"):a("tablet")};return Object(r.useEffect)(function(){return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),Object(r.useEffect)(function(){return i()},[]),{breakpoint:t}}().breakpoint;Object(r.useEffect)(function(){if(y){var n=window.location.pathname.split("/")[2],e=JSON.parse(localStorage.getItem("tokens"))[n];t.controller.joinRoom(n,y.uri,"",e||null)}},[y]);var O=t&&t.state&&t.state.currentSong&&t.state.currentSong.uri&&u&&u.currentSong&&u.currentSong.uri&&l&&(l.tracks||l.artists||l.albums||l.playlists),x=Object(o.a)({loaded:O,playerReady:k,room:t,roomTracks:u,findResult:g,setFindQuery:v,query:m,setQuery:d,queryResults:p,libraryResults:l,auth:n.auth,roomSuccess:i,roomError:c},n);return a.a.createElement(a.a.Fragment,null,"mobile"===j?a.a.createElement(Nr,x):a.a.createElement(a.a.Fragment,null,a.a.createElement(Kt,x)))}JSON.parse(localStorage.getItem("authData"));d.init();var Jr=function(){var n=localStorage.getItem("theme"),e=function(){localStorage.setItem("theme","light"===n||null===n?"dark":"light"),window.location.reload()};return a.a.createElement(s.a,{theme:"light"===n||null===n?f:Object(o.a)({},f,{mode:"dark"})},a.a.createElement(u.a,null,a.a.createElement(l.b,{exact:!0,path:"/",component:function(n){return a.a.createElement(I,Object.assign({},n,{auth:d}))}}),a.a.createElement(l.b,{path:"/roomsearch",component:function(){return a.a.createElement(Wn,{auth:d})}}),a.a.createElement(l.b,{path:"/room/:roomid",component:function(n){return a.a.createElement(Mr,Object.assign({},n,{auth:d,toggleTheme:e}))}}),a.a.createElement(l.b,{path:"/auth/callback",component:function(n){return a.a.createElement(R,Object.assign({},n,{auth:d}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(Jr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})},30:function(n,e,t){},55:function(n,e,t){n.exports=t.p+"static/media/spotifyLogo.ddd851ef.png"},67:function(n,e,t){n.exports=t(125)}},[[67,1,2]]]);
//# sourceMappingURL=main.9dc59dc3.chunk.js.map