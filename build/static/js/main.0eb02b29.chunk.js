(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(n,e){},126:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),i=t(55),c=t.n(i),o=t(5),u=t(10),l=t(18),s=t(2),m={primary:"rgba(242, 162, 176)",secondary:"rgba(242,182,147)",black:"rgba(20, 20, 20, 1)",gradient:"linear-gradient(to top left, rgba(242, 182, 147), rgba(242, 162, 176))",blackFadeGradient:"linear-gradient(\n    to top,\n    rgba(20, 20, 20, 1),\n    rgba(20, 20, 20, 0)\n  )",whiteFadeGradient:"linear-gradient(\n    to top,\n    rgba(245, 245, 245, 1),\n    rgba(242, 182, 147, 0 )\n  )",darkestGray:"rgba(30, 30, 30, 1)",darkerGray:"rgba(50, 50, 50, 1)",darkGray:"rgba(120, 120, 120, 1)",gray:"rgba(175, 175, 175, 1)",lightGray:"rgba(200, 200, 200, 1)",lighterGray:"rgba(225, 225, 225, 1)",green:"rgba(20, 215, 20, 0.7)",red:"rgba(242, 20, 20, 0.7)",transparent5:"rgba(245, 245, 245, 0.8)",transparent4:"rgba(245, 245, 245, 0.6)",transparent3:"rgba(245, 245, 245, 0.3)",transparent2:"rgba(245, 245, 245, 0.15)",transparent:"rgba(245, 245, 245, 0.07)",transparentBlack:"rgba(20,20,20,0.8)",transparentBlack2:"rgba(20,20,20,0.7)",transparentBlack3:"rgba(20,20,20,0.6)",transparentBlack4:"rgba(20,20,20,0.5)",transparentBlack5:"rgba(20,20,20,0.3)",white:"rgba(245, 245, 245, 1)",breakpoints:{mobile:"667px",laptop:"768px",desktop:"1080px"},unit:"8",mode:"light",shadow:"1px 1px 3px 1px rgba(0, 0, 0, 0.5)"},f=t(56),d=t.n(f),p=t(3);function h(){var n=Object(p.a)(["\n  background: ",";\n  margin: 0px;\n  padding: ",";\n\n  border-radius: 90px;\n  border: none;\n  font-size: 0.9rem;\n  display: flex;\n  cursor: pointer;\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n  & > * {\n    text-decoration: none;\n  }\n\n  & > a:visited {\n    color: inherit;\n  }\n\n  & > a {\n    margin-top: ",";\n  }\n\n  &:focus {\n    outline: 0;\n  }\n\n  text-justify: center;\n  & > img {\n    width: 35px;\n    margin-right: 10px;\n  }\n"]);return h=function(){return n},n}function b(){var n=Object(p.a)(["\n  box-shadow: 4px 4px\n    ",";\n"]);return b=function(){return n},n}function g(){var n=Object(p.a)(["\n  color: ",";\n  margin: 0px;\n  background-color: ",";\n  padding: ",";\n  border: none;\n  font-size: 0.8rem;\n  text-align: center;\n  width: ",";\n  height: 50px;\n"]);return g=function(){return n},n}function v(){var n=Object(p.a)(["\n  border: none;\n  padding: ",";\n  font-size: 1rem;\n  color: ",";\n  background-color: ",";\n  & > * {\n    text-decoration: none;\n  }\n\n  & > a:visited {\n    color: inherit;\n  }\n"]);return v=function(){return n},n}function y(){var n=Object(p.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  text-align: center;\n\n  & > p {\n    margin-top: ",";\n    color: ",";\n    cursor: pointer;\n  }\n\n  & > p:hover {\n    color: ",";\n  }\n"]);return y=function(){return n},n}function k(){var n=Object(p.a)(["\n  text-align: center;\n  & > h1 {\n    font-size: 3.9rem;\n    text-shadow: 3px 3px\n      ",";\n    background: ",";\n    -webkit-background-clip: ",";\n    background-clip: ",";\n    -webkit-text-fill-color: ",";\n  }\n\n  & > p {\n    font-size: 1rem;\n    padding-top: ",";\n    color: ",";\n  }\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"]);return k=function(){return n},n}function j(){var n=Object(p.a)(["\n  background: ",";\n  height: 100vh;\n  justify-content: center;\n  justify-items: center;\n  display: grid;\n  grid-gap: ",";\n  padding-top: 15vh;\n  grid-template-rows: "," 1fr;\n  color: ",";\n"]);return j=function(){return n},n}var E=s.c.div(j(),function(n){return"dark"===n.theme.mode?n.theme.black:n.theme.gradient},function(n){return 2*n.theme.unit+"px"},function(n){return 12*n.theme.unit+"px"},function(n){return n.theme.white}),O=s.c.div(k(),function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparentBlack5},function(n){return"dark"===n.theme.mode?n.theme.gradient:"none"},function(n){return"dark"===n.theme.mode?"text":"none"},function(n){return"dark"===n.theme.mode?"text":"none"},function(n){return"dark"===n.theme.mode?"transparent":"none"},function(n){return 1*n.theme.unit+"px"},function(n){return n.theme.transparent5}),x=s.c.div(y(),function(n){return 4*n.theme.unit+"px"},function(n){return n.theme.transparent5},function(n){return"dark"===n.theme.mode?n.theme.primary:n.theme.black}),w=s.c.button(v(),function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.white},function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparent3}),S=s.c.input(g(),function(n){return"dark"===n.theme.mode?n.theme.primary:n.theme.white},function(n){return"dark"===n.theme.mode?n.theme.transparent2:n.theme.transparent4},function(n){return 2*n.theme.unit+"px"},function(n){return 26*n.theme.unit+"px"}),T=s.c.div(b(),function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.gray}),C=s.c.button(h(),function(n){return n.theme.transparent3},function(n){return 1*n.theme.unit+"px"},function(n){return n.theme.black},function(n){return n.theme.white},function(n){return 1*n.theme.unit+"px"});function I(n){var e=n.logout,t=n.isAuthenticated;return a.a.createElement(E,null,a.a.createElement(O,null," ",a.a.createElement("h1",null,"Airplayer"),a.a.createElement("p",null,"Connect to parties in your area")),a.a.createElement(x,null,t?a.a.createElement(a.a.Fragment,null,a.a.createElement(T,null,a.a.createElement(S,{type:"text",placeholder:"Enter your location..."}),a.a.createElement(w,null,a.a.createElement(u.b,{to:"/roomsearch"},"Go"))),a.a.createElement("p",{onClick:e},"or click here to logout")):a.a.createElement(C,null,a.a.createElement("img",{src:d.a,alt:""}),a.a.createElement("a",{href:"https://airplayer.herokuapp.com/auth/login"},"Login With Spotify"))))}var R=function(){var n,e={},t=/([^&;=]+)=?([^&;]*)/g,r=window.location.hash.substring(1);for(n=t.exec(r);n;)e[n[1]]=decodeURIComponent(n[2]),n=t.exec(r);return e};function A(n){var e=n.setAuthData;return Object(r.useEffect)(function(){var t={accessToken:R().access_token,refreshToken:R().refresh_token,accessTokenCreationTime:Date.now()};localStorage.setItem("authData",JSON.stringify(t)),e(Object(o.a)({},t,{isAuthenticated:!0})),n.history.goBack()}),a.a.createElement("div",null)}var z=t(4);function D(){var n=Object(p.a)([""]);return D=function(){return n},n}function F(n){var e=n.items,t=void 0===e?[]:e,r=n.Style,i=void 0===r?s.c.ul(D()):r,c=n.limit,u=void 0===c?t?t.length:1:c;return a.a.createElement(function(){return a.a.createElement(i,null,t.length>0&&n.children&&t.slice(0,u).map(function(e,t){return a.a.cloneElement(n.children,Object(o.a)({},function(n,e){return Object.fromEntries(Object.entries(e).filter(function(n){return"Style"!==Object(z.a)(n,1)[0]}).map(function(e){var t=Object(z.a)(e,2),r=t[0],a=t[1];if(a){var i=a;return"on"===r.slice(0,2)?[r,a=function(e){return i(e,n)}]:[r,a=i(n)]}return[r,null]}))}(e,n.children.props),{key:t}))}))},null)}function P(){var n=Object(p.a)([""]);return P=function(){return n},n}function _(n){var e=n.src,t=n.name,r=n.labels,i=n.Style,c=void 0===i?s.c.li(P()):i,o=n.filter,u=void 0===o?"":o,l=n.onClick,m=void 0===l?function(){}:l,f=n.button,d=void 0===f?a.a.createElement(a.a.Fragment,null):f;return a.a.createElement(c,{filter:u,onClick:function(n,e){return m(n,e)}},e&&a.a.createElement("img",{src:e}),a.a.createElement("div",null,a.a.createElement("h3",null,t),r&&a.a.createElement(function(){return a.a.createElement("ul",null,r.map(function(n,e){return a.a.createElement("p",{key:e},n)}))},null)),d)}var q=t(6);function B(){var n=Object(p.a)(["\n  width: 90%;\n  height: 75%;\n  margin: 0 5%;\n"]);return B=function(){return n},n}function L(){var n=Object(p.a)(["\n  text-align: center;\n  padding: 1rem;\n  font-size: 2rem;\n  color: ",";\n"]);return L=function(){return n},n}function Q(){var n=Object(p.a)(["\n  background: ",";\n  border-radius: ",";\n  width: ",";\n  height: ",";\n  bottom: ",";\n  right: ",";\n  position: absolute;\n  overflow: hidden;\n  box-shadow: 2px 3px ",";\n\n  transition: width 0.5s, height 0.5s, bottom 0.5s, right 0.5s;\n  & > * {\n    opacity: ",";\n\n    transition: opacity 0.5s;\n    color: ",';\n  }\n\n  & > [type="icon"] {\n    color: ',";\n\n    font-size: 3rem;\n    position: absolute;\n    right: 0.5rem;\n    top: 0.5rem;\n    & :hover {\n      color: ",";\n    }\n  }\n"]);return Q=function(){return n},n}var N=s.c.div(Q(),function(n){return"dark"===n.theme.mode?n.theme.gradient:n.theme.white},function(n){return n.show?"0":"2rem"},function(n){return n.show?"100%":"0%"},function(n){return n.show?"100%":"0%"},function(n){return n.show?"0":"2.5rem"},function(n){return n.show?"0":"2.5rem"},function(n){return n.theme.transparentBlack5},function(n){return n.show?"1":"0"},function(n){return n.theme.black},function(n){return n.theme.transparentBlack5},function(n){return n.theme.black}),V=s.c.p(L(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.transparentBlack}),M=s.c.div(B());function G(n){var e=n.show,t=n.setShow,r=n.title,i=n.children;return a.a.createElement(N,{show:e},a.a.createElement(q.c,{onClick:function(){return t(!1)},type:"icon"}),a.a.createElement(V,null,r),a.a.createElement(M,null,i))}var U=t(15);function H(){var n=Object(p.a)(["\n  display: block;\n  margin: "," auto;\n  color: ",";\n  padding: 8px 32px;\n  background: ",";\n  border-radius: 1rem;\n  font-size: 1.5rem;\n  box-shadow: 2px 2px\n    ",";\n\n  border: none;\n  cursor: pointer;\n"]);return H=function(){return n},n}function J(){var n=Object(p.a)(["\n  & > p {\n    color: ",";\n  }\n\n  & > input {\n    margin: "," 0;\n    width: 300px;\n    border: none;\n    padding: ",";\n    box-shadow: 2px 2px\n      ",';\n  }\n\n  & > [type="icon"] {\n    position: absolute;\n    font-size: 2rem;\n    margin-left: -340px;\n    margin-top: 16px;\n    color: ',";\n  }\n"]);return J=function(){return n},n}function K(){var n=Object(p.a)(['\n  overflow: hidden !important;\n  display: grid;\n  grid-gap: 24px;\n  height: 100%;\n\n  & [type="container"] {\n    position: relative;\n\n    & input {\n      justify-self: center;\n      width: 70%;\n      max-width: 500px;\n      padding: ',';\n    }\n\n    & [type="icon"] {\n      position: absolute;\n      font-size: 2rem;\n      top: 8px;\n      margin-left: -40px;\n\n      color: ',";\n    }\n  }\n"]);return K=function(){return n},n}function W(){var n=Object(p.a)(["\n  text-align: center;\n  color: ",";\n"]);return W=function(){return n},n}var Y=s.c.div(W(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.black}),X=s.c.div(K(),function(n){return 2*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.black}),Z=s.c.form(J(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.transparentBlack},function(n){return 1.5*n.theme.unit+"px"},function(n){return 1.5*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparentBlack5},function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.primary}),$=s.c.button(H(),function(n){return 2*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.black:n.theme.white},function(n){return"dark"===n.theme.mode?n.theme.transparent3:n.theme.primary},function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparentBlack5}),nn=t(60);function en(){var n=Object(p.a)(["\n  position: absolute;\n  top: 0px;\n  height: ",";\n  width: ",';\n  align-items: center;\n  justify-content: center;\n  display: flex;\n\n  &:hover {\n    content: "";\n    cursor: pointer;\n  }\n']);return en=function(){return n},n}function tn(){var n=Object(p.a)(["\n  border: 1px solid transparent;\n  border-radius: 90px;\n  background-color: ",";\n\n  height: ",";\n  width: ",';\n  position: relative;\n  &::after {\n    content: "";\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -6px;\n    margin-top: -12px;\n    width: 0;\n    height: 0;\n    border-top: 12px solid transparent;\n    border-bottom: 12px solid transparent;\n    border-left: 16px solid white;\n  }\n']);return tn=function(){return n},n}function rn(){var n=Object(p.a)(["\n  position: relative;\n"]);return rn=function(){return n},n}function an(){var n=Object(p.a)(["\n  list-style: none;\n  padding-right: ",";\n  & * {\n    padding: ",";\n  }\n  & img {\n    width: ",";\n    height: ",";\n  }\n  font-size: 0.8rem;\n  & p {\n    display: inline;\n    text-transform: capitalize;\n    color: ",";\n\n    @media (max-width: 667px) {\n      color: ",";\n    }\n  }\n"]);return an=function(){return n},n}function cn(){var n=Object(p.a)(["\n  height: ",";\n  overflow-x: scroll;\n  overflow-y: hidden;\n  scrollbar-width: none;\n  ::-webkit-scrollbar {\n    width: 0px; /* Remove scrollbar space */\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n"]);return cn=function(){return n},n}function on(){var n=Object(p.a)(["\n  display: flex;\n  overflow-y: hidden;\n\n  padding: 0 ",";\n"]);return on=function(){return n},n}function un(){var n=Object(p.a)(["\n  border: 1px solid transparent;\n  border-radius: 90px;\n  background-color: ",";\n\n  height: ",";\n  width: ",";\n  position: relative;\n"]);return un=function(){return n},n}function ln(){var n=Object(p.a)(["\n  position: absolute;\n  font-size: 2.5rem;\n  transition: none;\n\n  &:hover {\n    color: ",";\n  }\n  color: ",";\n"]);return ln=function(){return n},n}function sn(){var n=Object(p.a)(["\n  position: absolute;\n  font-size: 2.5rem;\n  transition: none;\n\n  &:hover {\n    color: ",";\n  }\n  color: ",";\n"]);return sn=function(){return n},n}var mn=Object(s.c)(q.b)(sn(),function(n){return n.theme.transparent4},function(n){return n.theme.green}),fn=Object(s.c)(q.a)(ln(),function(n){return n.theme.transparent4},function(n){return n.theme.white}),dn=s.c.div(un(),function(n){return n.theme.transparentBlack},function(n){return 6*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"}),pn=s.c.ul(on(),function(n){return 2*n.theme.unit+"px"}),hn=s.c.div(cn(),function(n){return 28*n.theme.unit+"px"}),bn=s.c.li(an(),function(n){return 2*n.theme.unit+"px"},function(n){return.25*n.theme.unit+"px"},function(n){return 16*n.theme.unit+"px"},function(n){return 16*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return"dark"===n.theme.mode?n.theme.transparent4:n.theme.transparentBlack}),gn=s.c.span(rn()),vn=(s.c.div(tn(),function(n){return n.theme.transparentBlack},function(n){return 6*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"}),s.c.div(en(),function(n){return 16*n.theme.unit+"px"},function(n){return 16*n.theme.unit+"px"}));function yn(n){var e=n.items,t=n.height,r=n.addItem,i=n.removeItem,c=n.selectedItems;return a.a.createElement(hn,{height:t},a.a.createElement(F,{items:e,Style:pn},a.a.createElement(function(n){var e=n.src,t=n.name,c=n.labels,o=n.uri,u=n.selected;return a.a.createElement(gn,null," ",a.a.createElement(bn,null,a.a.createElement("img",{src:e}),a.a.createElement("h4",null,t),c&&c.map(function(n,e){return a.a.createElement("p",{key:e},n)}))," ",a.a.createElement(vn,null,a.a.createElement(dn,null),u?a.a.createElement(mn,{onClick:function(){return i(o)}}):a.a.createElement(fn,{onClick:function(){return r(o)}})))},{src:function(n){return n.getImages().default.url},name:function(n){return n.name},labels:function(n){return n.getArtists().map(function(n){return n.name})},uri:function(n){return n.uri},selected:function(n){return c&&c.some(function(e){return e.uri===n.uri})}})))}var kn=t(8),jn=t.n(kn),En=t(11),On=t(16);String.prototype.replaceAll=function(n,e){return this.split(n).join(e)},void 0===Object.fromEntries&&(Object.fromEntries=function(n){return Object.assign.apply(Object,[{}].concat(Object(U.a)(Array.from(n,function(n){var e=Object(z.a)(n,2),t=e[0],r=e[1];return Object(En.a)({},t,r)}))))});var xn=function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t="https://api.spotify.com/v1/",r=function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c={headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"},method:a};return"GET"!==a&&(c.body=JSON.stringify(i)),e?fetch(encodeURI("".concat(t).concat(r)),c).then(function(n){return n.json()}):(c.api=t,c.string=encodeURI(r),c)},a=function(n,e){return r(n,"PUT",e)},i=function(n){return r(n,"GET")},c=function(n,e){return r(n,"DELETE",e)},u=function(n,e){return Object.entries(n).map(function(n){var t=Object(z.a)(n,2),r=t[0],a=t[1];return e(r,a)}).join(",")},l=function(n){return u(n,function(n,e){return""===e?"":"&".concat(n,"=").concat(e)}).replaceAll(",","")},s=function(n){return"s"===n.slice(-1)?n:"".concat(n,"s")},m=function(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()})},f=function n(e){var t,r=1;for(t in e)if(e.hasOwnProperty(t)&&"object"==typeof e[t]){var a=n(e[t])+1;r=Math.max(a,r)}return r},d=function n(e){return Object.keys(e).reduce(function(t,r){return"object"===typeof e[r]?n(e[r]):(t[r]=e[r],t)},{})},p=function(n){if(function(n){return"id"===Object.keys(d(n))[0]&&4===f(n)}(n)){var e=Object.keys(n)[0],t=Object.keys(n[e].where)[0],r=n[e].where[t].id,a=function(n,e){return Object.fromEntries(Object.entries(n[e]).filter(function(n){return"where"!==n[0]}))}(n,e);return"".concat(s(t),"/").concat(r,"/").concat(m(e)).concat(function(n){for(var e in n)if(n.hasOwnProperty(e))return!1;return!0}(a)?"":"?".concat(l(a).substring(1)))}if(function(n){return"id"===Object.keys(d(n))[0]&&3===f(n)}(n)){var i=Object.keys(n)[0],c=n[i].where.id;return"".concat(s(m(i)),"/").concat(c)}if(function(n){return"0"===Object.keys(d(n))[0]&&4===f(n)}(n)){var o=Object.keys(n)[0],u=Object.values(d(n));return"".concat(s(m(o)),"?ids=").concat(u)}};return{search:function(n){var e,t=n.query,r=void 0===t?"":t,a=n.type,c=void 0===a?"":a,o=n.offset,s=void 0===o?"":o,m=n.limit,f=void 0===m?"":m,d=n.market,p=void 0===d?"":d,h=n.wildcard,b="search?q=".concat("string"===typeof r?void 0!==h&&h?"".concat(r,"*"):"".concat(r):"object"===typeof r?u(r,function(n,e){return"".concat(n,":").concat(e)}).replaceAll(","," "):"").concat(l({type:(e=c,"s"===e.slice(-1)?e.slice(0,e.length-1):e),limit:f,offset:s,market:p}));return i(b)},find:function(n){return i(p(n))},user:function(){var n=function(n){var e=n.id,t=void 0===e?"":e,r=n.ids,a=void 0===r?"":r,i=n.type,c=n.suffix,o=void 0===c?"":c,u=n.prefix,l=void 0===u?"":u;return"playlist"===i?"playlists/".concat(t||a).concat(o):"".concat(l,"?type=").concat(i).concat(t||a?"&ids=".concat(t||a):"")};return{follows:function(e){return i(n(Object(o.a)({},e,{prefix:"me/following/contains"})))},follow:function(e){return a(n(Object(o.a)({},e,{suffix:"/followers",prefix:"me/following"})))},unfollow:function(e){return c(n(Object(o.a)({},e,{suffix:"/followers",prefix:"me/following"})))},getFollowed:function(e){return i(n(Object(o.a)({},e,{prefix:"me/following"})))},library:function(){var n=function(n){return"me/".concat("string"===typeof n?s(n):n.type)},e=function(n){var e=n.id,t=n.ids;return t||[e]};return{contains:function(n){var e=n.id,t=n.type,r=n.ids;return i("me/".concat(s(t),"/contains?ids=").concat(e||r))},get:function(e){return i(n(e))},delete:function(t){return c(n(t),e(t))},add:function(t){return a(n(t),e(t))}}},top:function(n){return i("me/top/".concat(s(n)))},me:function(){return i("me")},playlists:function(){return i("me/playlists")},artists:function(){return i("me/following?type=artist")}}},playlists:function(){},player:function(){}}};function wn(n,e){var t=Object(r.useRef)();Object(r.useEffect)(function(){t.current=n},[n]),Object(r.useEffect)(function(){if(null!==e){var n=setInterval(function(){t.current()},e);return function(){return clearInterval(n)}}},[e])}function Sn(n,e,t){var a=Object(r.useState)(!1),i=Object(z.a)(a,2),c=i[0],o=i[1];wn(function(){n(),o(!1)},c?e:null),Object(r.useEffect)(function(){o(!0)},t)}var Tn=function(n){return void 0===Object.keys(n)[0]?{}:Object.keys(n)[0]},Cn=function(n,e){return Object.assign.apply(Object,[{}].concat(Object(U.a)(Object.entries(e).map(function(e){return null===e[1]?Object(En.a)({},e[0],[]):Object(En.a)({},e[0],Object.values(Object(o.a)({},e[1][n])))}))))},In=function(n,e){return e?e.length===n.length?Object.assign.apply(Object,Object(U.a)(e.map(function(e,t){return Object(En.a)({},e,n[t])})).concat([Object(En.a)({},"default",n[0])])):Object.assign({},Object(En.a)({},"default",n[0])):Object.assign({},Object(o.a)({},n))};var Rn={large:{height:500,width:500,url:"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png"},medium:{height:300,width:300,url:"https://i.ibb.co/vjZVL4p/large-removebg-preview.png"},small:{height:64,width:64,url:"https://i.ibb.co/608nyr6/small-removebg-preview.png"},default:{height:500,width:500,url:"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png"}},An=function(){return{getArtists:function(){switch(this.type){case"track":return this.album?this.album.artists:this.artists;case"album":return this.artists;case"artists":return this;default:return null}},getImages:function(){switch(this.type){case"track":return this.album?this.album.images.length<1?In(Rn):In(this.album.images,["large","medium","small"]):this.images?In(this.images,["large","medium","small"]):In(Rn);default:return this.images.length<1?In(Rn):In(this.images,["large","medium","small"])}},getLabels:function(){return[this.type,"playlist"===this.type?this.owner.display_name:this.getArtists()?this.getArtists()[0].name:null]}}};function zn(n){var e,t=Object(r.useState)(""),a=Object(z.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)({tracks:{},artists:{},playlists:{},albums:{}}),u=Object(z.a)(o,2),l=u[0],s=u[1],m=xn(n),f=Object(r.useCallback)(function(){var n=Object(On.a)(jn.a.mark(function n(e){var t,r;return jn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object.keys(l).map(function(n){return m.search({query:e,type:n})}),n.next=3,Promise.all(t);case 3:return r=n.sent,n.abrupt("return",Object.assign.apply(Object,[{}].concat(Object(U.a)(Object.keys(l).map(function(n,e){return Object(En.a)({},n,"error"===Tn(r[e])?r[e]:r[e][n])})))));case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),[i,l]);return Sn(function(){""!==i&&n&&f(i).then(function(n){s(n)})},200,[i,n]),{query:i,setQuery:c,queryResults:(e=l,Object.assign({},e,{getItems:function(){var n=Cn("items",e);return Object.keys(n).forEach(function(e){n[e].map(function(n){return Reflect.setPrototypeOf(n,An())})}),n}})).getItems()}}function Dn(n){var e={name:"",password:"",location:"",userId:n.user.uri,playlist:[]},t=Object(r.useState)(e),i=Object(z.a)(t,2),c=i[0],u=i[1],s=Object(r.useState)({created:!1,tracksSelected:!1,done:!1,id:null}),m=Object(z.a)(s,2),f=m[0],d=m[1],p=zn(n.accessToken),h=p.query,b=p.setQuery,g=p.queryResults;Object(r.useEffect)(function(){f.tracksSelected&&fetch("/api/rooms",{method:"POST",body:JSON.stringify(c)}).then(function(n){return n.json()}).then(function(n){localStorage.setItem("token",n.token),d({done:!0,id:n.room.id})})},[f.tracksSelected,c]);return a.a.createElement(a.a.Fragment,null,f.done?a.a.createElement(l.a,{to:"room/".concat(f.id)}):a.a.createElement(Y,null,f.created?a.a.createElement(X,null,a.a.createElement("div",null,a.a.createElement("p",null,"Choose at least 3 tracks to get started")),a.a.createElement("div",{type:"container"},a.a.createElement(q.l,{type:"icon"}),a.a.createElement("input",{type:"text",value:h,onChange:function(n){return b(n.target.value)},placeholder:"Enter a track or artist name..."})),g.tracks.length>0?a.a.createElement(yn,{addItem:function(n){return u(Object(o.a)({},c,{playlist:[].concat(Object(U.a)(c.playlist),[{uri:n}])}))},removeItem:function(n){return u(Object(o.a)({},c,{playlist:c.playlist.filter(function(e){return e.uri!==n})}))},items:g.tracks,selectedItems:c.playlist}):""===h?a.a.createElement(a.a.Fragment,null):a.a.createElement("p",null,'No tracks matching "',h,'"'),c.playlist.length>2?a.a.createElement($,{onClick:function(){return d(Object(o.a)({},f,{tracksSelected:!0}))}},"Enter Room"):null):a.a.createElement(Z,null,a.a.createElement("p",null,"Name"),a.a.createElement("input",{type:"text",value:c.name,placeholder:"Enter a room name",onChange:function(n){return u(Object(o.a)({},c,{name:n.target.value}))},required:!0}),a.a.createElement(q.i,{type:"icon"}),a.a.createElement("p",null,"Password"),a.a.createElement("input",{type:"text",placeholder:"Enter a room password",value:c.password,onChange:function(n){return u(Object(o.a)({},c,{password:n.target.value}))}}),a.a.createElement(q.e,{type:"icon"}),a.a.createElement("p",null,"Location"),a.a.createElement("input",{type:"text",placeholder:"Enter your location",required:!0,value:c.location,onChange:function(n){return u(Object(o.a)({},c,{location:n.target.value}))}}),a.a.createElement(nn.a,{type:"icon"}),a.a.createElement($,{type:"submit",onClick:function(){return d(Object(o.a)({},f,{created:!0}))}},"Create"))))}function Fn(n){var e=Object(r.useState)(null),t=Object(z.a)(e,2),a=t[0],i=t[1],c=xn(n);return Object(r.useEffect)(function(){n&&c.user().me().then(function(n){return i(n)})},[n]),a}function Pn(){var n=Object(p.a)(["\n  background-color: ",";\n  font-size: 0.8rem;\n  display: grid;\n  grid-template-columns: 48px 1fr ",";\n  margin-bottom: 15px;\n  align-items: center;\n  width: 100%;\n\n  & img {\n    height: 48px;\n    width: 48px;\n  }\n  & div {\n    padding: 0 0 0 10px;\n    overflow: hidden;\n    & h3 {\n      font-size: 0.8rem;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    & p {\n      display: inline;\n      color: ",';\n      font-weight: 100;\n    }\n  }\n\n  & button {\n    height: 48px;\n    width: 48px;\n    background: none;\n    border: none;\n    color: whitesmoke;\n    font-size: 2rem;\n    text-align: center;\n    text-justify: center;\n  }\n\n  & li {\n    display: inline;\n    text-transform: capitalize;\n  }\n  & li:first-child::after {\n    content: "\u2022";\n    color: white;\n    padding: 0 3px;\n  }\n']);return Pn=function(){return n},n}var _n=s.c.li(Pn(),function(n){return n.filter?n.theme.transparent2:""},function(n){return n.button?"100px":"96px"},function(n){return n.theme.transparent4});function qn(){var n=Object(p.a)(["\n  opacity: ",";\n  transition: opacity 0.5s;\n  position: absolute;\n  bottom: 5rem;\n  right: 5rem;\n\n  & :hover {\n    color: ",';\n  }\n  & > [type="circle"] {\n    background-color: ',';\n    width: 5rem;\n    height: 5rem;\n    position: absolute;\n    border-radius: 100%;\n  }\n  & > [type="icon"] {\n    font-size: 5rem;\n    position: absolute;\n  }\n  @media (min-width: 668px) {\n    display: none;\n  }\n']);return qn=function(){return n},n}function Bn(){var n=Object(p.a)(["\n  & * {\n    text-decoration: none;\n    color: ",";\n    margin-top: 8px;\n  }\n  font-size: 2.5rem;\n  width: 100%;\n  & :hover {\n    & * {\n      color: ",";\n    }\n  }\n"]);return Bn=function(){return n},n}function Ln(){var n=Object(p.a)(["\n  & button {\n    background: ",";\n    color: ",";\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 0.8rem;\n    width: ",";\n    height: ",";\n  }\n\n  padding: 0 ",";\n  @media (max-width: 320px) {\n    width: 90%;\n  }\n"]);return Ln=function(){return n},n}function Qn(){var n=Object(p.a)(["\n  & "," {\n    width: 100%;\n\n    & li:nth-child(even) {\n      background: ",";\n      height: ",";\n    }\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n  padding-top: ",";\n"]);return Qn=function(){return n},n}function Nn(){var n=Object(p.a)(["\n  display: grid;\n  width: 100%;\n\n  grid-template-columns: 2fr 1fr 1fr;\n\n  & > input {\n    &::placeholder {\n      color: ",";\n    }\n    padding: ",";\n    border: none;\n    border-right: 1px solid ",";\n    background-color: ",";\n  }\n\n  & > div {\n    display: grid;\n    cursor: pointer;\n\n    grid-template-columns: 1fr 3fr;\n    align-items: center;\n    background-color: ",";\n\n    & :first-child {\n      justify-self: flex-end;\n      font-size: 2.3rem;\n    }\n    & :nth-child(2) {\n      justify-self: flex-start;\n      font-size: 1.2rem;\n    }\n  }\n\n  @media (max-width: 667px) {\n    grid-template-columns: 2fr 1fr;\n\n    & > div {\n      display: none;\n    }\n  }\n"]);return Nn=function(){return n},n}function Vn(){var n=Object(p.a)(["\n  display: grid;\n  position: relative;\n  justify-content: center;\n  align-content: center;\n  min-width: ",";\n  width: 85vw;\n  min-height: ",";\n  /* height: 70vh; */\n  margin-bottom: 8vh;\n  background-color: ",";\n  grid-template-rows: "," 1fr;\n  grid-template-columns: 1fr;\n  animation: fadeIn 1s;\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @media (max-width: 440px) {\n    width: 98vw;\n  }\n"]);return Vn=function(){return n},n}function Mn(){var n=Object(p.a)(["\n  background: ",";\n  height: 100vh;\n  justify-items: center;\n  display: grid;\n  grid-template-rows: 5rem 2rem 1fr;\n  color: ",";\n\n  & > h1 {\n    font-size: 3.9rem;\n    text-shadow: 3px 3px\n      ",";\n    background: ",";\n    -webkit-background-clip: ",";\n    background-clip: ",";\n    -webkit-text-fill-color: ",";\n    padding: 8px 0;\n  }\n  & > p {\n    color: ",";\n    padding-bottom: 16px;\n  }\n"]);return Mn=function(){return n},n}var Gn=s.c.div(Mn(),function(n){return"dark"==n.theme.mode?n.theme.black:n.theme.gradient},function(n){return n.theme.white},function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.transparentBlack5},function(n){return"dark"===n.theme.mode?n.theme.gradient:"none"},function(n){return"dark"===n.theme.mode?"text":"none"},function(n){return"dark"===n.theme.mode?"text":"none"},function(n){return"dark"===n.theme.mode?"transparent":"none"},function(n){return n.theme.transparent5}),Un=s.c.div(Vn(),function(n){return 24*n.theme.unit+"px"},function(n){return 50*n.theme.unit+"px"},function(n){return n.theme.transparent2},function(n){return 6*n.theme.unit+"px"}),Hn=s.c.div(Nn(),function(n){return"dark"===n.theme.mode?n.theme.transparentBlack:n.theme.transparent4},function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.transparentBlack4},function(n){return n.theme.transparent4},function(n){return n.theme.transparentBlack4}),Jn=s.c.div(Qn(),F,function(n){return n.theme.transparent2},function(n){return 8*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"}),Kn=Object(s.c)(_n)(Ln(),function(n){return n.theme.white},function(n){return n.theme.black},function(n){return 10*n.theme.unit+"px"},function(n){return 5*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"}),Wn=s.c.div(Bn(),function(n){return n.theme.transparent4},function(n){return n.theme.transparentBlack3}),Yn=s.c.div(qn(),function(n){return n.show?1:0},function(n){return n.theme.primary},function(n){return n.theme.transparentBlack3});function Xn(n){var e=Object(r.useState)([]),t=Object(z.a)(e,2),i=t[0],c=t[1],o=n.accessToken,l=Fn(o);Object(r.useEffect)(function(){fetch("/api/rooms").then(function(n){return n.json()}).then(function(n){return c(n)})},[]);var s=Object(r.useState)(!1),m=Object(z.a)(s,2),f=m[0],d=m[1],p=function(n){var e=Math.round((Date.now()-new Date(n).getTime())/1e3/60);return e<2?"a few seconds ago":e>2&&e<60?"".concat(e," minutes ago"):"".concat(Math.round(e/60)," hours ago")};return a.a.createElement(Gn,null,a.a.createElement("h1",null,"Airplayer"),a.a.createElement("p",null,"Join a room or create your own"),a.a.createElement(Un,null,a.a.createElement(Hn,null,a.a.createElement("input",{placeholder:"Enter a party Name",type:"text"}),a.a.createElement("input",{placeholder:"Change your location",type:"text"})," ",a.a.createElement("div",{onClick:function(){return d(!0)}},a.a.createElement(q.a,null),a.a.createElement("p",null,"Create"))),a.a.createElement(Jn,null,a.a.createElement(F,{items:i},a.a.createElement(_,{Style:Kn,name:function(n){return n.name},src:function(n){return"https://i.scdn.co/image/f5990a4c6059df42ae7b39b8524cd6ecce334995"},labels:function(n){return["Created ".concat(p(n.createdAt)," in "),n.location]},button:function(n){return function(n){return a.a.createElement(Wn,null,a.a.createElement(u.b,{to:"/room/".concat(n.id)},a.a.createElement(q.g,null)))}(n)}}))),a.a.createElement(Yn,{show:!f,onClick:function(){return d(!0)}},a.a.createElement("div",{type:"circle"}),a.a.createElement(q.a,{type:"icon"})),a.a.createElement(G,{show:f,title:"Create a Room",setShow:d},l&&a.a.createElement(Dn,{user:l,accessToken:o}))))}function Zn(){var n=Object(p.a)(['\n  position: absolute;\n  &:before {\n    border-style: solid;\n    border-width: 2px 2px 0 0;\n    content: "";\n    display: inline-block;\n    height: 12px;\n    left: 0;\n    position: relative;\n    vertical-align: top;\n    width: 12px;\n    transform: rotate(45deg);\n    visibility: ',";\n  }\n"]);return Zn=function(){return n},n}var $n=s.c.span(Zn(),function(n){return n.visibility});function ne(){var n=Object(p.a)(["\n  left: 15px;\n  margin-top: 15px;\n  &:before {\n    transform: rotate(-135deg);\n  }\n"]);return ne=function(){return n},n}function ee(){var n=Object(p.a)(["\n  height: calc(100vh - 50px);\n  position: relative;\n  grid-gap: ",";\n\n  & > * {\n    padding: "," 0;\n  }\n  & > h2 {\n    font-size: 1.5rem;\n    padding-left: ",";\n  }\n\n  & > ul {\n    padding: 0 ",";\n  }\n"]);return ee=function(){return n},n}var te=s.c.div(ee(),function(n){return 1*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"});Object(s.c)($n)(ne());function re(n){var e=n.room,t=n.roomTracks,r=n.topTracks,i=n.setStartAudio;return a.a.createElement(te,null,a.a.createElement("h2",null,"Recommended Tracks"),a.a.createElement(yn,{items:r,addItem:e.controller.addTrack,removeItem:e.controller.removeTrack,selectedItems:t.playlist}),a.a.createElement("h2",null,"What's up Next"),t.playlist&&a.a.createElement(F,{items:t.playlist},a.a.createElement(_,{Style:_n,src:function(n){return n.getImages().default.url},name:function(n){return n.name},labels:function(n){return n.getArtists().map(function(n){return n.name})},filter:function(n){return n.uri===t.currentSong.uri?"1":""},onClick:function(n,t){e.controller.play(t.uri),i(!0)},button:function(n){return a.a.createElement("button",{onClick:function(t){t.stopPropagation(),e.controller.removeTrack(n.uri)}}," ","x")}})))}function ae(){var n=Object(p.a)(["\n  display: grid;\n  justify-items: center;\n  position: relative;\n  margin-top: 200px;\n"]);return ae=function(){return n},n}function ie(){var n=Object(p.a)(["\n  position: relative;\n"]);return ie=function(){return n},n}var ce=s.c.div(ie()),oe=s.c.div(ae());function ue(){var n=Object(p.a)(["\n  right: ",";\n  margin-top: ",";\n  transform: ",";\n\n  transition: transform 0.2s, margin-top 0.2s;\n  color: ",";\n"]);return ue=function(){return n},n}function le(){var n=Object(p.a)(["\n  font-size: 1rem;\n  padding-top: ",";\n  & li {\n    & button {\n      cursor: pointer;\n    }\n    list-style: none;\n    & p {\n      text-transform: capitalize;\n      color: ",";\n\n      @media (max-width: 667px) {\n        color: ",";\n      }\n    }\n  }\n"]);return le=function(){return n},n}function se(){var n=Object(p.a)(["\n  font-size: 1rem;\n  padding: 0 ",";\n\n  & h2 {\n    cursor: pointer;\n  }\n"]);return se=function(){return n},n}var me=s.c.div(se(),function(n){return 2*n.theme.unit+"px"}),fe=s.c.ul(le(),function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return"dark"===n.theme.mode?n.theme.transparent4:n.theme.transparentBlack}),de=Object(s.c)($n)(ue(),function(n){return 3*n.theme.unit+"px"},function(n){return"right"===n.direction?-2.5*n.theme.unit+"px":-3*n.theme.unit+"px"},function(n){return"right"===n.direction?"rotate(0deg)":"rotate(180deg)"},function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.primary});function pe(n){var e=n.title,t=n.items,r=n.filter,i=n.limit,c=n.actions,o=n.handleItemClick,u=void 0===o?function(){}:o,l=n.handleHeaderClick,s=void 0===l?function(){}:l,m=function(n){var e=n.item,t=c.filter(function(n){return"ADD"===n.type})[0];return t?a.a.createElement("button",{onClick:function(){return t.func(e.uri)}},t.icon):null};return a.a.createElement(me,null,a.a.createElement("h2",{onClick:function(n){return s(n,{title:e})}},""!==r&&r!==e?"":e),a.a.createElement(de,{direction:""!==r?"left":"right",onClick:function(n){return s(n,{title:e})}}),a.a.createElement(F,{items:t,Style:fe,limit:r!==e?i:t.length},a.a.createElement(_,{src:function(n){return n.getImages().default.url},name:function(n){return n.name},labels:function(n){return n.getLabels().map(function(n){return n?"".concat(n," "):""})},Style:_n,button:c?function(n){return a.a.createElement(m,{item:n})}:null,onClick:u||function(){}})))}function he(n){var e=n.query,t=n.filter,r=(n.setFilter,n.limit),i=void 0===r?4:r,c=n.results,o=void 0===c?[]:c;return a.a.createElement(ce,null,""===e?a.a.createElement(oe,null,a.a.createElement("p",null,"Please enter a query")):o.map(function(n){return function(n){for(var e in n)if(n.hasOwnProperty(e))return!1;return!0}(n)}).filter(function(n){return!1===n}).length<1?"No results matching ".concat(e):o&&o.map(function(e,r){return(""==t||t===e.title)&&e.items.length>1&&a.a.createElement(pe,{title:e.title,items:e.items,filter:t,limit:i,key:r,actions:e.actions,path:n.path,handleItemClick:e.onItemClick?e.onItemClick:function(){},handleHeaderClick:e.onHeaderClick?e.onHeaderClick:function(){}})}))}function be(n){var e=n.results,t=e.albums,r=e.tracks,i=e.artists,c=e.playlists,o=n.foundTracks,u=n.setFindQuery,l=n.foundTracksName,s=n.addTrack,m=n.removeTrack,f=n.filter,d=n.setFilter,p=n.query;return a.a.createElement(a.a.Fragment,null,o?a.a.createElement(function(){return a.a.createElement(pe,{title:l,items:o,filter:f,actions:[{icon:a.a.createElement(a.a.Fragment,null,"+"),func:s,type:"ADD"},{icon:a.a.createElement(a.a.Fragment,null,"-"),func:m,type:"REMOVE"}],handleHeaderClick:function(n){u({name:"",uri:""})}})},null):a.a.createElement(he,{query:p,filter:f,results:[{title:"Tracks",items:r,actions:[{icon:a.a.createElement(a.a.Fragment,null,"+"),func:s,type:"ADD"},{icon:a.a.createElement(a.a.Fragment,null,"-"),func:m,type:"REMOVE"}],onItemClick:function(n,e){return console.log(e.id)},onHeaderClick:function(n,e){var t=e.title;d(f===t?"":t)}},{title:"Albums",items:t,onItemClick:function(n,e){return u({uri:e.uri,name:e.name})},onHeaderClick:function(n,e){var t=e.title;d(f===t?"":t)}},{title:"Artists",items:i,onItemClick:function(n,e){return u({uri:e.uri,name:e.name})},onHeaderClick:function(n,e){var t=e.title;d(f===t?"":t)}},{title:"Playlists",items:c,onItemClick:function(n,e){return u({uri:e.uri,name:e.name})},onHeaderClick:function(n,e){var t=e.title;d(f===t?"":t)}}]}))}function ge(){var n=Object(p.a)(["\n  ","\n"]);return ge=function(){return n},n}function ve(){var n=Object(p.a)(["\n  ","\n"]);return ve=function(){return n},n}function ye(){var n=Object(p.a)(["\n  font-size: 3rem;\n  cursor: pointer;\n  &:hover {\n    color: ",";\n  }\n  transition: color 0.5s;\n"]);return ye=function(){return n},n}function ke(){var n=Object(p.a)(["\n  padding: ",";\n"]);return ke=function(){return n},n}var je=s.c.div(ke(),function(n){return 2*n.theme.unit+"px"}),Ee=Object(s.b)(ye(),function(n){return n.theme.transparent3});Object(s.c)(q.a)(ve(),Ee),Object(s.c)(q.b)(ge(),Ee);function Oe(n){return a.a.createElement(je,null,a.a.createElement(be,n))}function xe(){var n=Object(p.a)(["\n  left: 15px;\n  margin-top: 15px;\n  &:before {\n    transform: rotate(-135deg);\n  }\n"]);return xe=function(){return n},n}function we(){var n=Object(p.a)(["\n  height: calc(100vh - 50px);\n  position: relative;\n  display: grid;\n  align-content: flex-start;\n  grid-gap: ",";\n  padding-top: ",";\n\n  & > h2 {\n    font-size: 1.5rem;\n    padding-left: ",";\n  }\n"]);return we=function(){return n},n}var Se=s.c.div(we(),function(n){return 1*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"});Object(s.c)($n)(xe());function Te(n){var e=n.results.topTracks,t=n.selectedTracks,r=n.addTrack,i=n.removeTrack;return a.a.createElement(Se,null,a.a.createElement("h2",null,"Last Played"),a.a.createElement(yn,{items:e,addItem:r,removeItem:i,selectedItems:t}),a.a.createElement(be,n))}var Ce=t(20),Ie=t.n(Ce);function Re(){var n=Object(p.a)(["\n  grid-column: span 2;\n  color: ",";\n  height: 100%;\n"]);return Re=function(){return n},n}function Ae(){var n=Object(p.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  max-height: calc(100vh - 128px);\n  overflow: auto;\n"]);return Ae=function(){return n},n}function ze(){var n=Object(p.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  display: grid;\n  width: 100%;\n  color: ",";\n  grid-template-columns: minmax(96px, 160px) 1fr;\n  grid-template-rows:\n    "," calc(100vh - 128px)\n    ",";\n"]);return ze=function(){return n},n}function De(){var n=Object(p.a)(["\n  justify-self: center;\n  align-self: center;\n  animation: fadeIn 0.5s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  animation: fadeOut 0.5s;\n\n  @keyframes fadeOut {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n"]);return De=function(){return n},n}function Fe(){var n=Object(p.a)(["\n  background: ",";\n"]);return Fe=function(){return n},n}var Pe=s.c.div(Fe(),function(n){return"dark"===n.theme.mode?n.theme.black:n.theme.gradient}),_e=Object(s.c)(Ie.a)(De()),qe=s.c.div(ze(),function(n){return n.theme.white},function(n){return 6*n.theme.unit+"px"},function(n){return 10*n.theme.unit+"px"}),Be=s.c.main(Ae()),Le=s.c.footer(Re(),function(n){return n.theme.white}),Qe=t(61),Ne=t.n(Qe),Ve=function(n,e){switch(e.type){case"SET_DEVICE":return Object(o.a)({},n,{id:e.payload.device_id,ready:e.payload.ready});case"UPDATE_PLAYER":var t=e.payload.roomState;return Object(o.a)({},n,{currentSong:t.currentSong.uri,paused:!t.currentSong.playing,playlist:t.playlist.map(function(n){return n.uri}),lastSeek:t.currentSong.lastSeek});default:return n}};var Me=function(n,e){var t=Object(r.useRef)();Object(r.useEffect)(function(){t.current=n},[n]),Object(r.useEffect)(function(){if(null!==e){var n=setTimeout(function(){t.current()},e);return function(){return clearTimeout(n)}}},[e])};function Ge(n,e,t,a){var i=Object(r.useReducer)(Ve,{id:null,currentSong:null,paused:!1,ready:!1,playlist:[],lastSeek:0}),c=Object(z.a)(i,2),o=c[0],u=c[1],l=Object(r.useState)(!1),s=Object(z.a)(l,2),m=s[0],f=s[1],d=function(n,e){var t=Object(r.useRef)(0),a=Object(r.useState)(!1),i=Object(z.a)(a,2),c=i[0],o=i[1],u=Object(r.useState)(null),l=Object(z.a)(u,2),s=l[0],m=l[1],f=Object(r.useCallback)(function(r){var a=n.playlist.indexOf(n.currentSong),i=n.playlist[a+r];i&&(e.play(i),setTimeout(function(){return t.current=0},5e3))},[n]);return Me(function(){t.current+=1,o(!0)},s),Object(r.useEffect)(function(){1==c&&1===t.current&&(f(1),o(!1))}),{setRemaining:m,queTrack:f}}(o,e.controller),p=d.setRemaining,h=d.queTrack,b=function(n,e,t,a){var i=Object(r.useState)(),c=Object(z.a)(i,2),o=c[0],u=c[1];return Object(r.useEffect)(function(){window.onSpotifyWebPlaybackSDKReady||(window.onSpotifyWebPlaybackSDKReady=function(){var e=new window.Spotify.Player({name:"Web Playback SDK Quick Start Player",getOAuthToken:function(e){e(n)}});e.connect().then(function(n){u(n?e:{error:"Failed to connect"})})},e(!0))},[o,window.Spotify]),Object(r.useEffect)(function(){},[o]),Object(r.useEffect)(function(){o&&(o.addListener("initialization_error",function(n){var e=n.message;console.error(e)}),o.addListener("authentication_error",function(n){var e=n.message;console.error(e)}),o.addListener("account_error",function(n){var e=n.message;console.error(e)}),o.addListener("playback_error",function(n){var e=n.message;console.error(e)}),o.addListener("ready",function(n){var e=n.device_id;console.log("Ready with Device ID",e),a({type:"SET_DEVICE",payload:{device_id:e,ready:!0}})}),o.addListener("not_ready",function(n){var e=n.device_id;a({type:"SET_DEVICE",payload:{device_id:e,ready:!1}}),console.log("Device ID has gone offline",e)}))},[o]),Object(r.useEffect)(function(){if(o){var n=function(n){t(n.duration-n.position-1e3)};return o.addListener("player_state_changed",n),function(){return o.removeListener("player_state_changed",n)}}},[o]),{player:o}}(n,f,p,u).player,g=function(n){var e=Object(r.useState)(80),t=Object(z.a)(e,2),a=t[0],i=t[1];return Sn(function(){n&&n.setVolume(a/100)},200,[a]),{volume:a,setVolume:i}}(b),v=g.volume,y=g.setVolume;return function(n,e,t){Object(r.useEffect)(function(){n.ready&&n.currentSong&&e&&n.lastSeek&&t&&t.seek(n.lastSeek)},[n.ready,n.currentSong,n.lastSeek,e])}(o,a,b),function(n,e,t,a){var i=Object(r.useCallback)(function(){var e=Object(On.a)(jn.a.mark(function e(t){return jn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(n.id),{method:"PUT",body:JSON.stringify({uris:[t]}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}));case 1:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),[n.id,a]);Object(r.useEffect)(function(){t.state.playlist.length>0&&t.controller.play(t.state.playlist[0].uri)},[]),Object(r.useEffect)(function(){e?n.ready&&n.currentSong&&i(n.currentSong):t.controller.pause()},[n.ready,n.currentSong,e])}(o,t,e,n),function(n,e){Object(r.useEffect)(function(){n.ready&&n.currentSong&&(n.paused?e.pause():e.resume())},[n.ready,n.currentSong,n.paused])}(o,b),Object(r.useEffect)(function(){u({type:"UPDATE_PLAYER",payload:{roomState:e.state}})},[e.state]),{deviceState:o,loadScript:m,queTrack:h,volume:v,setVolume:y}}var Ue=t(65);t(31);function He(){var n=Object(p.a)(["\n  background: ",";\n  opacity: ",";\n  height: ",";\n  width: 40px;\n  border-top-right-radius: 15px;\n  border-top-left-radius: 15px;\n  position: absolute;\n  bottom: 70px;\n  right: 0;\n  padding: 15px;\n  transition: height 0.4s, opacity 0.4s;\n  /* hacky way of changing background color for slider*/\n  & > div {\n    & > div:first-child {\n      background: #ffd5e3 !important;\n    }\n  }\n"]);return He=function(){return n},n}function Je(){var n=Object(p.a)(["\n  align-items: center;\n  display: grid;\n  justify-items: center;\n  width: 40px;\n  height: 80px;\n  z-index: 99999;\n"]);return Je=function(){return n},n}var Ke=s.c.div(Je()),We=s.c.div(He(),function(n){return"dark"===n.theme.mode?n.theme.transparentBlack:n.theme.white},function(n){return n.show?1:0},function(n){return n.show?"160px":0});function Ye(n){var e=n.volume,t=n.setVolume,i=Object(r.useState)(!1),c=Object(z.a)(i,2),o=c[0],u=c[1];return a.a.createElement(Ke,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},a.a.createElement(q.o,{style:{cursor:"pointer"}}),a.a.createElement(We,{show:o},a.a.createElement(Ue.a,{axis:"y",y:100-e,onChange:function(n){var e=n.y;return t(100-e)},styles:{thumb:{width:30,height:6,backgroundColor:m.white,borderRadius:"5px",opacity:o?1:0,transition:"opacity 0.4s",cursor:"pointer",boxShadow:"1px 1px 2px 1px rgba(0, 0, 0, 0.5)"},track:{backgroundColor:m.primary,height:o?"130px":"0px",transition:"height 0.4s",cursor:"pointer"}}})))}function Xe(){var n=Object(p.a)(["\n  position: absolute;\n  height: 15px;\n  background: ",";\n"]);return Xe=function(){return n},n}function Ze(){var n=Object(p.a)(["\n  background: ",";\n  position: absolute;\n  bottom: 80px;\n  width: 100%;\n  height: 15px;\n\n  & > input {\n    position: relative;\n    width: 100%;\n    height: 15px;\n    z-index: 99;\n    cursor: pointer;\n  }\n"]);return Ze=function(){return n},n}var $e=s.c.div(Ze(),function(n){return"dark"===n.theme.mode?n.theme.transparent2:n.theme.transparentBlack5}),nt=s.c.div.attrs(function(n){return{style:{width:n.width}}})(Xe(),function(n){return n.theme.gradient});function et(n){var e=n.playing,t=n.currentSong,i=n.lastSeek,c=n.duration,o=n.seek,u=Object(r.useState)(),l=Object(z.a)(u,2),s=l[0],m=l[1],f=i;return wn(function(){m(function(n){return n!==f?s+100:f+100})},e?100:null),Object(r.useEffect)(function(){},[i]),Object(r.useEffect)(function(){m(i)},[i,t]),a.a.createElement($e,null,a.a.createElement(nt,{width:s&&c?s/c*100+"%":0}),a.a.createElement("input",{type:"range",min:"0",max:"300",className:"slider",value:s&&c?s/c*300:0,onChange:function(n){if(c){var e=Math.round(parseInt(n.target.value)/300*c);o(e)}}}))}function tt(){var n=Object(p.a)(["\n  padding-top: 5px;\n  text-align: center;\n  background-color: ",";\n"]);return tt=function(){return n},n}function rt(){var n=Object(p.a)(["\n  color: ",";\n  font-size: 2rem;\n  margin-right: 3rem;\n\n  position: relative;\n  display: grid;\n  justify-items: flex-end;\n"]);return rt=function(){return n},n}function at(){var n=Object(p.a)(["\n  display: grid;\n  grid-template-columns: 80px 1fr;\n  align-items: center;\n\n  & > img {\n    width: 80px;\n  }\n\n  & > div {\n    padding-left: 15px;\n    font-size: 0.8rem;\n\n    & > h3 {\n      color: ",";\n    }\n\n    & > p {\n      color: ",";\n      text-transform: capitalize;\n    }\n  }\n"]);return at=function(){return n},n}function it(){var n=Object(p.a)(["\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n"]);return it=function(){return n},n}function ct(){var n=Object(p.a)(["\n  background-color: ",";\n\n  height: 100%;\n  color: ",";\n  display: grid;\n  width: 100%;\n  grid-template-rows: 1fr;\n"]);return ct=function(){return n},n}var ot=s.c.div(ct(),function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.white},function(n){return n.theme.black}),ut=s.c.div(it()),lt=s.c.div(at(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.darkestGray},function(n){return n.theme.gray}),st=s.c.div(rt(),function(n){return n.theme.primary}),mt=Object(s.c)(Ie.a)(tt(),function(n){return"dark"===n.theme.mode?n.theme.transparent:n.theme.white});function ft(){var n=Object(p.a)(["\n  color: ",";\n  font-size: 1.75rem;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: space-between;\n  justify-items: center;\n  width: 240px;\n  align-self: center;\n  justify-self: center;\n  text-align: center;\n  text-justify: center;\n  & > * {\n    cursor: pointer;\n  }\n\n  & > :nth-child(odd) {\n    margin-top: 0.625rem;\n  }\n  & > :nth-child(2) {\n    font-size: 3rem;\n  }\n"]);return ft=function(){return n},n}var dt=s.c.div(ft(),function(n){return n.theme.primary});function pt(n){var e=n.room,t=n.queTrack,r=n.setStart,i=n.deviceState,c=0===e.state.playlist.map(function(n){return n.uri}).indexOf(e.state.currentSong.uri),o=e.state.playlist.map(function(n){return n.uri}).indexOf(e.state.currentSong.uri)===e.state.playlist.length-1;return a.a.createElement(dt,null,c?a.a.createElement("div",null):a.a.createElement(q.m,{onClick:function(){return t(-1)}}),i.paused?a.a.createElement(q.k,{onClick:function(){e.controller.resume(),r(!0)}}):a.a.createElement(q.h,{onClick:function(){e.controller.pause()}}),o?a.a.createElement("div",null):a.a.createElement(q.n,{onClick:function(){return t(1)}}))}function ht(n){var e=n.token,t=n.room,i=n.roomTracks,c=n.start,u=n.setStart,l=Object(r.useState)({error:!1}),s=Object(z.a)(l,2),f=s[0],d=s[1],p=i.currentSong.duration_ms,h=Ge(e,t,c,p),b=h.loadScript,g=h.deviceState,v=h.queTrack,y=h.volume,k=h.setVolume;return a.a.createElement(a.a.Fragment,null,b&&a.a.createElement(Ne.a,{url:"https://sdk.scdn.co/spotify-player.js",onError:function(){return d(Object(o.a)({},f,{error:!0}))},onLoad:function(){d(Object(o.a)({},f,{loaded:!0}))}}),g.ready?a.a.createElement(ot,null,a.a.createElement(et,{duration:p,playing:!g.paused,lastSeek:g.lastSeek,currentSong:g.currentSong,seek:t.controller.seek}),a.a.createElement(ut,null,a.a.createElement(lt,null,a.a.createElement("img",{src:i.currentSong.getImages().default.url,alt:""}),a.a.createElement("div",null,a.a.createElement("h3",null,i.currentSong.getArtists()[0].name),a.a.createElement("p",null,i.currentSong.getArtists().map(function(n){return n.name})))),a.a.createElement(pt,{setStart:u,room:t,queTrack:v,deviceState:g}),a.a.createElement(st,null,a.a.createElement(Ye,{volume:y,setVolume:k})))):a.a.createElement(mt,{type:"Bars",color:m.primary,height:70,width:50}))}function bt(){var n=Object(p.a)(["\n  cursor: pointer;\n  border: 1px solid ",";\n  border-radius: 90px;\n  text-align: center;\n  padding: ",";\n  color: ",";\n  background-color: ",";\n\n  &:hover {\n    cursor: pointer;\n    color: ",";\n    background-color: ",";\n  }\n"]);return bt=function(){return n},n}function gt(){var n=Object(p.a)(["\n  font-size: 0.6em;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  align-content: center;\n  align-self: center;\n  grid-gap: ",";\n"]);return gt=function(){return n},n}var vt=s.c.div(gt(),function(n){return 1*n.theme.unit+"px"}),yt=s.c.div(bt(),function(n){return n.theme.white},function(n){return 1*n.theme.unit+"px"},function(n){return n.active?n.theme.black:n.theme.white},function(n){return n.active?n.theme.white:n.theme.transparent2},function(n){return n.theme.black},function(n){return n.active?n.theme.white:n.theme.transparent4});function kt(n){var e=n.filter,t=n.setFilter,r=function(n){var r=n.text;return a.a.createElement(yt,{active:e===r,onClick:function(){t(e===r?"":r)}},r)};return a.a.createElement(vt,null,a.a.createElement(r,{text:"Tracks"}),a.a.createElement(r,{text:"Playlists"}),a.a.createElement(r,{text:"Artists"}),a.a.createElement(r,{text:"Albums"}))}function jt(){var n=Object(p.a)(["\n  padding: ",";\n\n  border-radius: 2px;\n  background-color: ",";\n  border: none;\n  display: block;\n  justify-self: start;\n  width: ",";\n"]);return jt=function(){return n},n}function Et(){var n=Object(p.a)(["\n  grid-template-columns: 1fr 1fr;\n  display: grid;\n  justify-self: flex-start;\n  grid-gap: ",";\n"]);return Et=function(){return n},n}function Ot(){var n=Object(p.a)(["\n  padding: ",";\n  grid-template-columns: 2fr 1fr;\n  display: grid;\n  justify-items: flex-end;\n  align-content: center;\n"]);return Ot=function(){return n},n}function xt(){var n=Object(p.a)(["\n  border: 2px solid ",";\n  border-radius: 90px;\n  width: ",";\n  height: ",";\n\n  cursor: pointer;\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n"]);return xt=function(){return n},n}var wt=Object(s.c)(q.j)(xt(),function(n){return n.theme.transparent4},function(n){return 4*n.theme.unit+"px"},function(n){return 4*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return n.theme.white}),St=s.c.header(Ot(),function(n){return 2*n.theme.unit+"px"}),Tt=s.c.div(Et(),function(n){return 1*n.theme.unit+"px"}),Ct=s.c.input(jt(),function(n){return 1*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return 34*n.theme.unit+"px"});function It(n){var e=n.filter,t=n.setFilter,r=n.query,i=n.setQuery;return a.a.createElement(St,null,a.a.createElement(Tt,null,a.a.createElement(Ct,{value:r,placeholder:"Search",onChange:function(n){return i(n.target.value)}}),a.a.createElement(kt,{filter:e,setFilter:t})),a.a.createElement(wt,null))}function Rt(){var n=Object(p.a)(["\n  ","\n"]);return Rt=function(){return n},n}function At(){var n=Object(p.a)(["\n  ","\n"]);return At=function(){return n},n}function zt(){var n=Object(p.a)(["\n  ","\n"]);return zt=function(){return n},n}function Dt(){var n=Object(p.a)(["\n  font-size: 2rem;\n"]);return Dt=function(){return n},n}function Ft(){var n=Object(p.a)(["\n  grid-row: span 2;\n  background-color: ",";\n  display: grid;\n  justify-content: center;\n  grid-gap: ",";\n  padding: ",";\n  grid-template-rows: 40px 40px 40px 1fr;\n\n  & p {\n    padding-top: 5px;\n    font-size: 1.2rem;\n  }\n\n  & div {\n    align-self: flex-end;\n\n    & button {\n      cursor: pointer;\n      padding: 8px;\n      border: none;\n      border-radius: 90px;\n      background: ",";\n      color: ",";\n    }\n  }\n"]);return Ft=function(){return n},n}function Pt(){var n=Object(p.a)(["\n  color: ",";\n  text-decoration: none;\n  display: grid;\n  justify-self: flex-start;\n  grid-template-columns: 2rem 1fr;\n  grid-gap: ",";\n  cursor: pointer;\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n  transition: color 0.4s;\n"]);return Pt=function(){return n},n}var _t=Object(s.c)(u.b)(Pt(),function(n){return n.theme.white},function(n){return 1*n.theme.unit+"px"},function(n){return n.theme.transparent4},function(n){return n.theme.white}),qt=s.c.nav(Ft(),function(n){return n.theme.transparent},function(n){return 1*n.theme.unit+"px"},function(n){return 4*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.gradient:n.theme.transparentBlack4},function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.primary}),Bt=Object(s.b)(Dt()),Lt=Object(s.c)(q.d)(zt(),Bt),Qt=Object(s.c)(q.l)(At(),Bt),Nt=Object(s.c)(q.f)(Rt(),Bt);function Vt(n){var e=n.path,t=n.toggleTheme;window.location.pathname.split("/")[3];return a.a.createElement(qt,null,a.a.createElement(_t,{to:e},a.a.createElement(Lt,null),a.a.createElement("p",null,"Home")),a.a.createElement(_t,{to:"".concat(e,"/search")},a.a.createElement(Qt,null),a.a.createElement("p",null,"Search")," "),a.a.createElement(_t,{to:"".concat(e,"/library")},a.a.createElement(Nt,null),a.a.createElement("p",null,"Library")),a.a.createElement("div",null," ",a.a.createElement("button",{onClick:t},"dark"===localStorage.getItem("theme")?"Light":"Dark"," Mode")))}function Mt(){var n=Object(p.a)(["\n  background-color: ",";\n  opacity: ",";\n"]);return Mt=function(){return n},n}function Gt(){var n=Object(p.a)(["\n  background-color: ",";\n  opacity: ",";\n"]);return Gt=function(){return n},n}function Ut(){var n=Object(p.a)(["\n  & div {\n    position: absolute;\n    bottom: ",";\n    height: ",";\n    width: 100%;\n    transition: opacity 0.7s;\n    text-align: center;\n    padding: ",";\n    pointer-events: none;\n  }\n"]);return Ut=function(){return n},n}var Ht=s.c.div(Ut(),function(n){return 12*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"},function(n){return 1.5*n.theme.unit+"px"}),Jt=s.c.div(Gt(),function(n){return n.theme.red},function(n){return n.active?1:0}),Kt=s.c.div(Mt(),function(n){return n.theme.green},function(n){return n.active?1:0});function Wt(n){var e=n.success,t=n.error,i=Object(r.useState)(""),c=Object(z.a)(i,2),o=(c[0],c[1],Object(r.useState)("")),u=Object(z.a)(o,2),l=(u[0],u[1],Object(r.useState)({success:"",error:""})),s=Object(z.a)(l,2),m=s[0],f=s[1],d=function(n){switch(n.type){case"ADD_TRACK":return"Added track to playlist";case"REMOVE_TRACK":return"Removed Track from playlist";default:return""}},p=function(n){switch(n.type){case"ADD_TRACK":return"Track already in playlist";case"REMOVE_TRACK":return"Track not in playlist"}};return Object(r.useEffect)(function(){e&&f({success:d(e),error:""})},[e]),Object(r.useEffect)(function(){t&&f({success:"",error:p(t)})},[t]),Me(function(){(m.success||m.error)&&f({error:"",success:""})},(m.success||m.error)&&3e3),a.a.createElement(Ht,null,a.a.createElement(Jt,{active:m.error},m.error),a.a.createElement(Kt,{active:m.success},m.success))}function Yt(n){var e=Object(r.useState)(""),t=Object(z.a)(e,2),i=t[0],c=t[1],o=Object(r.useState)(!1),u=Object(z.a)(o,2),s=u[0],f=u[1],d=n.query,p=n.setQuery,h=n.room,b=n.roomTracks,g=n.libraryResults,v=n.queryResults,y=n.findResult,k=n.setFindQuery,j=n.playerReady,E=n.accessToken,O=n.match,x=n.roomSuccess,w=n.roomError,S=n.loaded,T=n.toggleTheme;return a.a.createElement(Pe,null,a.a.createElement(qe,null,a.a.createElement(Vt,{path:O.url,toggleTheme:T}),a.a.createElement(It,{filter:i,setFilter:c,query:d,setQuery:p}),S?a.a.createElement(Be,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(l.b,{exact:!0,path:"".concat(O.path),component:function(){return a.a.createElement(re,{room:h,setStartAudio:f,roomTracks:b,topTracks:g.topTracks})}}),a.a.createElement(l.b,{path:"".concat(O.path,"/search"),component:function(){return a.a.createElement(Oe,{results:v,filter:i,setFilter:c,addTrack:h.controller.addTrack,removeTrack:h.controller.removeTrack,query:d,foundTracksName:y.name,foundTracks:y.tracks,setFindQuery:k})}}),a.a.createElement(l.b,{path:"".concat(O.path,"/library"),component:function(){return a.a.createElement(Te,{filter:i,setFilter:c,results:g,foundTracks:y.tracks,setFindQuery:k,addTrack:h.controller.addTrack,removeTrack:h.controller.removeTrack,foundTracksName:y.name,selectedTracks:b.playlist})}}))):a.a.createElement(_e,{type:"Bars",color:m.white}),a.a.createElement(Le,null,a.a.createElement(Wt,{success:x,error:w}),j&&h&&h.state.isHost&&S&&a.a.createElement(ht,{token:E,room:h,roomTracks:b,start:s,setStart:f}))))}function Xt(){var n=Object(p.a)(["\n  bottom: ",';\n  left: calc(50% - 8px);\n  &:before {\n    border-style: solid;\n    border-width: 1px 1px 0 0;\n    content: "";\n    display: inline-block;\n    height: ',";\n    left: 0;\n    position: relative;\n    vertical-align: top;\n    width: ",";\n    transform: rotate(135deg);\n  }\n"]);return Xt=function(){return n},n}function Zt(){var n=Object(p.a)(["\n  text-align: center;\n  text-justify: center;\n  align-self: center;\n\n  & > h1 {\n    font-weight: 700;\n  }\n  & > h5 {\n    font-weight: 300;\n    font-size: 1.7rem;\n    color: ",";\n  }\n  & > p {\n    font-weight: 100;\n    padding-top: ",";\n    font-size: 1rem;\n    color: ",";\n  }\n"]);return Zt=function(){return n},n}function $t(){var n=Object(p.a)(["\n  /* Container to position Song info*/\n\n  position: absolute;\n  min-height: ",";\n  height: ",";\n  width: 100%;\n  bottom: 0px;\n  display: grid;\n"]);return $t=function(){return n},n}function nr(){var n=Object(p.a)(['\n  width: 100%;\n  height: 100%;\n  object-fit: "contain";\n']);return nr=function(){return n},n}function er(){var n=Object(p.a)(['\n  /* Adds fade effect to bottom of image*/\n\n  height: 100%;\n  &::before {\n    content: "";\n    background-image: ',';\n    position: absolute;\n    height: 50%; /* based on image height*/\n\n    /* 1 less pixel than padding amount */\n    right: -1px;\n    bottom: 31px;\n    left: -1px;\n  }\n  &::after {\n    content: "";\n    display: block;\n    height: 100vh;\n  }\n']);return er=function(){return n},n}function tr(){var n=Object(p.a)(["\n  /* Used to position Image */\n  position: relative;\n  top: 0px;\n  height: ",";\n  width: ",";\n  margin: 0 auto;\n  padding: 32px 0;\n"]);return tr=function(){return n},n}function rr(){var n=Object(p.a)(['\n  /* background-color: "black"; */\n  height: calc(100vh - 48px);\n  position: relative;\n']);return rr=function(){return n},n}var ar=s.c.div(rr()),ir=s.c.div(tr(),function(n){return 1.2*n.height+"px"},function(n){return n.width+"px"}),cr=s.c.div(er(),function(n){return"dark"===n.theme.mode?n.theme.blackFadeGradient:n.theme.whiteFadeGradient}),or=s.c.img(nr()),ur=s.c.div($t(),function(n){return 12*n.theme.unit+"px"},function(n){return"calc(100vh - 24px - ".concat(n.height,"px)")}),lr=s.c.div(Zt(),function(n){return"dark"===n.theme.mode?n.theme.transparent4:n.theme.transparentBlack2},function(n){return 1*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.transparent3:n.theme.secondary}),sr=Object(s.c)($n)(Xt(),function(n){return 1*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"},function(n){return 2*n.theme.unit+"px"});function mr(n){var e=n.AudioVisualizer,t=n.title,r=n.artist,i=n.nextTrack,c=n.image;return a.a.createElement(ar,null,a.a.createElement(ir,{width:c.width,height:c.height},a.a.createElement(cr,null,a.a.createElement(or,{src:c.url}))),a.a.createElement(ur,{height:c.height},a.a.createElement(lr,null,a.a.createElement(e,null),a.a.createElement("h1",null,t),a.a.createElement("h5",null,r),a.a.createElement("p",null," ","Up next ",i.artist," : ",i.title))),a.a.createElement(sr,null))}function fr(){return a.a.createElement("div",null)}function dr(){var n=Object(p.a)(["\n  font-size: 0.8rem;\n  display: grid;\n  grid-template-columns: 48px 1fr 48px;\n  margin-bottom: ",";\n  align-items: center;\n  width: 100%;\n  background-color: ",";\n\n  & img {\n    height: ",";\n    width: ",";\n  }\n  & div {\n    padding: 0 0 0 ",";\n    overflow: hidden;\n    & h3 {\n      font-size: 0.8rem;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    & p {\n      display: inline;\n      color: ",";\n      font-weight: 100;\n      text-transform: capitalize;\n    }\n  }\n\n  & button {\n    height: ",";\n    width: ",';\n    background: none;\n    border: none;\n    color: whitesmoke;\n    font-size: 2rem;\n    text-align: center;\n    text-justify: center;\n  }\n  & li {\n    display: inline;\n    text-transform: capitalize;\n  }\n  & li:first-child::after {\n    content: "\u2022";\n    color: white;\n    padding: 0 3px;\n  }\n']);return dr=function(){return n},n}function pr(){var n=Object(p.a)(["\n  justify-self: center;\n  align-self: center;\n"]);return pr=function(){return n},n}function hr(){var n=Object(p.a)(["\n  padding: 0 ",";\n"]);return hr=function(){return n},n}function br(){var n=Object(p.a)(["\n  height: calc(100vh - 50px);\n  position: relative;\n  display: grid;\n"]);return br=function(){return n},n}var gr=s.c.div(br()),vr=s.c.ul(hr(),function(n){return 2*n.theme.unit+"px"}),yr=Object(s.c)(Ie.a)(pr()),kr=s.c.li(dr(),function(n){return 2*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?"":n.theme.transparent3},function(n){return 6*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"},function(n){return 1*n.theme.unit+"px"},function(n){return"dark"===n.theme.mode?n.theme.transparent4:n.theme.transparentBlack},function(n){return 6*n.theme.unit+"px"},function(n){return 6*n.theme.unit+"px"});function jr(n){var e=n.roomTracks,t=e.playlist,r=e.currentSong,i=t&&t[t.indexOf(t.filter(function(n){return n.uri===r.uri})[0])+1]||{artist:null,title:null};return a.a.createElement(gr,null,r&&t?a.a.createElement(a.a.Fragment,null," ",a.a.createElement(mr,{AudioVisualizer:fr,title:r.name,artist:r.artists[0].name,image:r.getImages().medium,nextTrack:{artist:i.artist,title:i.name}})," ",a.a.createElement(F,{items:t,Style:vr},a.a.createElement(function(n){var e=n.src,t=n.name,r=n.labels;return a.a.createElement(kr,null,e&&a.a.createElement("img",{src:e}),a.a.createElement("div",null,a.a.createElement("h3",null,t),a.a.createElement("ul",null,r&&r.map(function(n,e){return a.a.createElement("p",{key:e},n)}))),a.a.createElement("button",null,"+"))},{src:function(n){return n.getImages().default.url},name:function(n){return n.name},labels:function(n){return n.getLabels().map(function(n){return"".concat(n," ")}).slice(1,3)}}))):a.a.createElement(yr,{type:"Bars",color:m.white}))}function Er(){var n=Object(p.a)(["\n  height: calc(100vh - 50px);\n  position: relative;\n"]);return Er=function(){return n},n}var Or=s.c.div(Er());function xr(n){return a.a.createElement("input",{name:n.name,type:n.type,placeholder:n.placeholder,value:n.value,onChange:function(e){return n.setValue(e.target.value)}})}function wr(){var n=Object(p.a)(["\n  width: 100%;\n  display: grid;\n  grid-gap: ",";\n  border-bottom: 1px solid ",";\n  padding: ",";\n  position: fixed;\n  background-color: ",";\n  background-image: ",";\n  z-index: 10;\n  & input {\n    margin: 0px;\n    background-color: ",";\n    border: none;\n    border-bottom: 1px solid ",";\n    width: 100%;\n    height: ",";\n    color: ",";\n    font-size: 2rem;\n    padding: ",";\n  }\n"]);return wr=function(){return n},n}function Sr(){var n=Object(p.a)(["\n  padding-bottom: ",";\n"]);return Sr=function(){return n},n}var Tr=s.c.div(Sr(),function(n){return 20*n.theme.unit+"px"}),Cr=s.c.div(wr(),function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.white},function(n){return 2*n.theme.unit+"px"},function(n){return n.theme.darkestGray},function(n){return"light"===n.theme.mode&&n.theme.gradient},function(n){return n.theme.transparent},function(n){return n.theme.white},function(n){return 8*n.theme.unit+"px"},function(n){return n.theme.white},function(n){return 2*n.theme.unit+"px"});function Ir(n){var e=n.query,t=n.setQuery,r=n.filter,i=n.setFilter;return a.a.createElement(Tr,null,a.a.createElement(Cr,null,a.a.createElement(xr,{value:e,setValue:t}),a.a.createElement(kt,{filter:r,setFilter:i})))}function Rr(){var n=zn("tobi"),e=n.query,t=n.setQuery,i=n.queryResults,c=i.albums,o=i.tracks,u=i.artists,l=i.playlists,s=Object(r.useState)(""),m=Object(z.a)(s,2),f=m[0],d=m[1];return a.a.createElement(Or,null,a.a.createElement(Ir,{query:e,setQuery:t,filter:f,setFilter:d}),a.a.createElement(he,{query:e,filter:f,setFilter:d,results:[{title:"Albums",items:c},{title:"Artists",items:u},{title:"Playlists",items:l},{title:"Tracks",items:o}]}))}function Ar(){var n=Object(p.a)(["\n  height: ",";\n  width: 100%;\n  position: fixed;\n  background-color: ",";\n  background-image: ",";\n  & i {\n    color: ",";\n  }\n"]);return Ar=function(){return n},n}function zr(){var n=Object(p.a)(["\n  ","\n  position:absolute;\n  top: 0px;\n  right: 5px;\n  pointer-events: none;\n"]);return zr=function(){return n},n}function Dr(){var n=Object(p.a)(["\n  ","\n  border-top: 1px solid ",";\n  justify-items: center;\n"]);return Dr=function(){return n},n}function Fr(){var n=Object(p.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: center;\n"]);return Fr=function(){return n},n}var Pr=Object(s.b)(Fr()),_r=s.c.div(Dr(),Pr,function(n){return n.theme.white}),qr=s.c.div(zr(),Pr),Br=s.c.div(Ar(),function(n){return 7*n.theme.unit+"px"},function(n){return n.theme.darkestGray},function(n){return"light"===n.theme.mode&&n.theme.gradient},function(n){return n.theme.white});function Lr(n){var e=n.path;return a.a.createElement(Br,null,a.a.createElement(_r,null,a.a.createElement(qr,null,a.a.createElement("span",null,"|"),a.a.createElement("span",null,"|"),a.a.createElement("span",null,"|")),a.a.createElement(u.b,{to:e},a.a.createElement("i",{className:"fas fa-music"})),a.a.createElement(u.b,{to:"".concat(e,"/search")},a.a.createElement("i",{className:"fas fa-search"})),a.a.createElement(u.b,{to:"".concat(e,"/library")},a.a.createElement("i",{className:"fas fa-heart"}))))}function Qr(){var n=Object(p.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  color: ",";\n\n  background-color: ",";\n\n  font-size: 1.5rem;\n  overflow: scroll;\n"]);return Qr=function(){return n},n}var Nr=s.c.div(Qr(),function(n){return"dark"===n.theme.mode?n.theme.white:n.theme.black},function(n){return"dark"===n.theme.mode?n.theme.black:n.theme.white});function Vr(n){var e=Object(r.useState)(""),t=Object(z.a)(e,2),i=t[0],c=t[1],o=n.query,u=(n.setQuery,n.room),s=n.roomTracks,m=n.libraryResults,f=n.queryResults,d=n.findResult,p=n.setFindQuery,h=(n.playerReady,n.accessToken,n.match);return a.a.createElement(Nr,null,a.a.createElement(l.b,{exact:!0,path:"".concat(h.path),component:function(){return a.a.createElement(jr,{roomTracks:s})}}),a.a.createElement(l.b,{path:"".concat(h.path,"/search"),component:function(){return a.a.createElement(Rr,{results:f,filter:i,setFilter:c,addTrack:u.controller.addTrack,removeTrack:u.controller.removeTrack,query:o,foundTracksName:d.name,foundTracks:d.tracks,setFindQuery:p})}}),a.a.createElement(l.b,{path:"".concat(h.path,"/library"),component:function(){return a.a.createElement(Te,{filter:i,setFilter:c,results:m,foundTracks:d.tracks,setFindQuery:p,addTrack:u.controller.addTrack,removeTrack:u.controller.removeTrack,foundTracksName:d.name,selectedTracks:s.playlist})}}),a.a.createElement(Lr,{path:h.url}))}var Mr=t(64),Gr=t.n(Mr);function Ur(n){var e=n.accessToken,t=function(){var n=Gr.a.connect("https://airplayer.herokuapp.com"),e=Object(r.useState)(""),t=Object(z.a)(e,2),a=t[0],i=t[1],c=Object(r.useState)({type:"",payload:""}),u=Object(z.a)(c,2),l=u[0],s=u[1],m=function(n){return{joinRoom:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return n.emit("JOIN_ROOM",{id:e,userId:t,password:r,token:a})},addTrack:function(e){return n.emit("ADD_TRACK",{uri:e})},removeTrack:function(e){return n.emit("REMOVE_TRACK",{uri:e})},updatePlaylist:function(e){return n.emit("UPDATE_PLAYLIST",e)},play:function(e){return n.emit("PLAY",{uri:e})},pause:function(){return n.emit("PAUSE",null)},resume:function(){return n.emit("RESUME",null)},seek:function(e){return n.emit("SEEK",e)}}},f=Object(r.useState)({state:{},controller:m(n),error:""}),d=Object(z.a)(f,2),p=d[0],h=d[1];return Object(r.useEffect)(function(){n.on("ROOM_CREATED",function(n){return s({type:"ROOM_CREATED",payload:n,message:"Room Created"})}),n.on("ROOM_UPDATED",function(e){h(Object(o.a)({},p,{state:Object(o.a)({},e,{isHost:n.id===e.host}),controller:m(n)}))}),n.on("ERROR",function(n){var e=n.type,t=n.payload,r=n.message,a=n.code;return i({type:e,payload:t,message:r,code:a})}),n.on("SUCCESS",function(n){var e=n.type,t=n.payload,r=n.message;return s({type:e,payload:t,message:r})})},[p]),{room:p,roomError:a,roomSuccess:l}}(),i=t.room,c=t.roomSuccess,u=t.roomError,l=function(n,e){var t=Object(r.useState)({currentSong:null,playlist:null}),a=Object(z.a)(t,2),i=a[0],c=a[1],o=xn(n);return Object(r.useEffect)(function(){if(e&&e.state&&e.state.currentSong&&e.state.playlist){var n=o.find({track:{where:{id:e.state.currentSong.uri.split(":")[2]}}}),t=Promise.all(e.state.playlist.map(function(n){return o.find({track:{where:{id:n.uri.split(":")[2]}}})}));Promise.all([n,t]).then(function(n){var e=Object(z.a)(n,2),t=e[0],r=e[1];Reflect.setPrototypeOf(t,An()),r.map(function(n){return Reflect.setPrototypeOf(n,An())}),c({currentSong:t,playlist:r})})}},[e.state]),{roomTracks:i}}(e,i).roomTracks,s=function(n){var e=Object(r.useState)({tracks:{},artists:{},playlists:{},albums:{},topTracks:{}}),t=Object(z.a)(e,2),a=t[0],i=t[1],c=xn(n);return Object(r.useEffect)(function(){n&&function(){var n=Object(On.a)(jn.a.mark(function n(){var e,t,r,i,o,u,l,s;return jn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object.keys(a).map(function(n){switch(n){case"tracks":case"albums":return c.user().library().get(n);case"artists":return c.user().artists();case"playlists":return c.user().playlists();case"topTracks":return c.user().top("tracks")}}),n.next=3,Promise.all(e);case 3:return t=n.sent,r=t[0].error?[]:t[0].items.map(function(n){return n.track}),i=t[1].error?[]:t[1].artists.items,o=t[2].error?[]:t[2].items,u=t[3].error?[]:t[3].items.map(function(n){return n.album}),l=t[4].error?[]:t[4].items,(s=[r,i,o,u,l]).forEach(function(n){return n.forEach(function(n){return Reflect.setPrototypeOf(n,An())})}),n.abrupt("return",Object.assign.apply(Object,[{}].concat(Object(U.a)(Object.keys(a).map(function(n,e){return Object(En.a)({},n,s[e])})))));case 12:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}()().then(function(n){i(n)})},[n]),{libraryResults:a}}(e).libraryResults,f=zn(e),d=f.query,p=f.setQuery,h=f.queryResults,b=function(n){var e=Object(r.useState)({uri:"",name:""}),t=Object(z.a)(e,2),a=t[0],i=t[1],c=Object(r.useState)({tracks:[],name:""}),o=Object(z.a)(c,2),u=o[0],l=o[1],s=xn(n);Object(r.useEffect)(function(){var n=function(){var n=Object(On.a)(jn.a.mark(function n(e,t){return jn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next="album"===n.t0?3:"artist"===n.t0?4:"playlist"===n.t0?5:6;break;case 3:return n.abrupt("return",d(t));case 4:return n.abrupt("return",m(t));case 5:return n.abrupt("return",f(t));case 6:return n.abrupt("return",null);case 7:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}();if(""!==a.uri){var e=a.uri.split(":").slice(-2),t=Object(z.a)(e,2);n(t[0],t[1]).then(function(n){l({tracks:n,name:a.name})})}else l({tracks:null,name:null})},[a]);var m=function(){var n=Object(On.a)(jn.a.mark(function n(e){var t;return jn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.find({topTracks:{where:{artist:{id:e}},market:"AU"}});case 2:return(t=n.sent).tracks.forEach(function(n){Reflect.setPrototypeOf(n,An())}),n.abrupt("return",t.tracks);case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=Object(On.a)(jn.a.mark(function n(e){var t,r;return jn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.find({tracks:{where:{playlist:{id:e}}}});case 2:return t=n.sent,(r=t.items.map(function(n){return n.track})).forEach(function(n){Reflect.setPrototypeOf(n,An())}),n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=Object(On.a)(jn.a.mark(function n(e){var t,r,a,i;return jn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([s.find({tracks:{where:{albums:{id:e}}}}),s.find({album:{where:{id:e}}})]);case 2:return t=n.sent,r=Object(z.a)(t,2),a=r[0],i=r[1],a.items.forEach(function(n){n.images=i.images,Reflect.setPrototypeOf(n,An())}),n.abrupt("return",a.items);case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return[u,i]}(e),g=Object(z.a)(b,2),v=g[0],y=g[1],k=Fn(e),j=e&&i.state&&i.state.currentSong&&l&&l.currentSong&&k,E=function(){var n=Object(r.useState)("desktop"),e=Object(z.a)(n,2),t=e[0],a=e[1],i=function(){var n=m.breakpoints.mobile.substring(0,m.breakpoints.mobile.length-2);window.innerWidth<n?a("mobile"):a("tablet")};return Object(r.useEffect)(function(){return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),Object(r.useEffect)(function(){return i()},[]),{breakpoint:t}}().breakpoint;Object(r.useEffect)(function(){if(k){var n=localStorage.getItem("token"),e=window.location.pathname.split("/")[2];i.controller.joinRoom(e,k.uri,"",n||null)}},[k]);var O=i&&i.state&&i.state.currentSong&&i.state.currentSong.uri&&l&&l.currentSong&&l.currentSong.uri&&s&&(s.tracks||s.artists||s.albums||s.playlists),x=Object(o.a)({loaded:O,playerReady:j,room:i,roomTracks:l,findResult:v,setFindQuery:y,query:d,setQuery:p,queryResults:h,libraryResults:s,accessToken:e,roomSuccess:c,roomError:u},n);return a.a.createElement(a.a.Fragment,null,"mobile"===E?a.a.createElement(Vr,x):a.a.createElement(a.a.Fragment,null,a.a.createElement(Yt,x)))}function Hr(n){var e={accessToken:null,refreshToken:null,accessTokenCreationTime:null},t=Object(r.useState)(n?Object(o.a)({},n,{isAuthenticated:Date.now()-n.accessTokenCreationTime<36e5}):e),a=Object(z.a)(t,2),i=a[0],c=a[1];wn(function(){return fetch("/auth/refreshToken?refresh_token=".concat(i.refreshToken)).then(function(n){return n.json()}).then(function(n){var e=Object(o.a)({},i,{accessToken:n.access_token,accessTokenCreationTime:Date.now()});localStorage.setItem("authData",JSON.stringify(e)),c(Object(o.a)({},e,{isAuthenticated:!0}))})},i.accessTokenCreationTime?i.accessTokenCreationTime-Date.now()+36e5:5e3);return{logout:function(){var n=window.open("https://www.spotify.com/logout/","Spotify Logout","width=700,height=500,top=40,left=40");setTimeout(function(){n.close(),localStorage.removeItem("authData"),c(e),window.location.reload()},2e3)},authData:i,setAuthData:c,isAuthenticated:i.isAuthenticated,accessToken:i.accessToken}}var Jr=JSON.parse(localStorage.getItem("authData")),Kr=function(){var n=Hr(Jr),e=n.accessToken,t=n.logout,r=n.setAuthData,i=n.isAuthenticated,c=localStorage.getItem("theme"),f=function(){localStorage.setItem("theme","light"===c?"dark":"light"),window.location.reload()};return a.a.createElement(s.a,{theme:"light"===c||null===c?m:Object(o.a)({},m,{mode:"dark"})},a.a.createElement(u.a,null,a.a.createElement(l.b,{exact:!0,path:"/",component:function(n){return a.a.createElement(I,Object.assign({},n,{logout:t,accessToken:e,isAuthenticated:i}))}}),a.a.createElement(l.b,{path:"/roomsearch",component:function(){return a.a.createElement(Xn,{accessToken:e})}}),a.a.createElement(l.b,{path:"/room/:roomid",component:function(n){return a.a.createElement(Ur,Object.assign({},n,{toggleTheme:f,accessToken:e}))}}),a.a.createElement(l.b,{path:"/auth/callback",component:function(n){return a.a.createElement(A,Object.assign({},n,{setAuthData:r}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(Kr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})},31:function(n,e,t){},56:function(n,e,t){n.exports=t.p+"static/media/spotifyLogo.ddd851ef.png"},68:function(n,e,t){n.exports=t(126)}},[[68,1,2]]]);
//# sourceMappingURL=main.0eb02b29.chunk.js.map