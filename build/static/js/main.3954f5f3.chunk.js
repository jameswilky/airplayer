(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,n){},125:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(54),c=t.n(i),o=t(4),u=t(7),l=t(18),s=t(1),f={primary:"rgba(242, 162, 176)",secondary:"rgba(242,182,147)",black:"rgba(20, 20, 20, 1)",gradient:"linear-gradient(to top left, rgba(242, 182, 147), rgba(242, 162, 176))",blackFadeGradient:"linear-gradient(\n    to top,\n    rgba(20, 20, 20, 1),\n    rgba(20, 20, 20, 0)\n  )",whiteFadeGradient:"linear-gradient(\n    to top,\n    rgba(245, 245, 245, 1),\n    rgba(242, 182, 147, 0 )\n  )",darkestGray:"rgba(30, 30, 30, 1)",darkerGray:"rgba(50, 50, 50, 1)",darkGray:"rgba(120, 120, 120, 1)",gray:"rgba(175, 175, 175, 1)",lightGray:"rgba(200, 200, 200, 1)",lighterGray:"rgba(225, 225, 225, 1)",green:"rgba(20, 215, 20, 0.7)",red:"rgba(242, 20, 20, 0.7)",transparent5:"rgba(245, 245, 245, 0.8)",transparent4:"rgba(245, 245, 245, 0.6)",transparent3:"rgba(245, 245, 245, 0.3)",transparent2:"rgba(245, 245, 245, 0.15)",transparent:"rgba(245, 245, 245, 0.07)",transparentBlack:"rgba(20,20,20,0.8)",transparentBlack2:"rgba(20,20,20,0.7)",transparentBlack3:"rgba(20,20,20,0.6)",transparentBlack4:"rgba(20,20,20,0.5)",transparentBlack5:"rgba(20,20,20,0.3)",white:"rgba(245, 245, 245, 1)",breakpoints:{mobile:"667px",laptop:"768px",desktop:"1080px"},unit:"8",mode:"light",shadow:"1px 1px 3px 1px rgba(0, 0, 0, 0.5)"},m=function(){var e,n={},t=/([^&;=]+)=?([^&;]*)/g,r=window.location.hash.substring(1);for(e=t.exec(r);e;)n[e[1]]=decodeURIComponent(e[2]),e=t.exec(r);return n},d={accessToken:null,refreshToken:null,accessTokenCreationTime:null,refreshTimer:null,cacheAuthData:function(){var e=localStorage.getItem("authData");Object.assign(this,JSON.parse(e))},refreshAccessToken:function(){var e=this;fetch("/auth/refreshToken?refresh_token=".concat(this.refreshToken)).then(function(e){return e.json()}).then(function(n){var t={refreshToken:e.refreshToken,accessToken:n.access_token,accessTokenCreationTime:Date.now()};localStorage.setItem("authData",JSON.stringify(t))})},startRefreshTimer:function(){var e=this;this.refreshTimer&&clearInterval(this.refreshTimer),this.accessTokenCreationTime-Date.now()>2e3||null===this.accessTokenCreationTime?this.refreshTimer=setInterval(function(){e.refreshAccessToken(),e.cacheAuthData()},this.accessTokenCreationTime-Date.now()+18e5):(this.refreshAccessToken(),this.cacheAuthData())},init:function(){this.cacheAuthData(),this.refreshToken&&this.startRefreshTimer()},login:function(){var e={accessToken:m().access_token,refreshToken:m().refresh_token,accessTokenCreationTime:Date.now()};localStorage.setItem("authData",JSON.stringify(e))},logout:function(){var e=window.open("https://www.spotify.com/logout/","Spotify Logout","width=700,height=500,top=40,left=40");setTimeout(function(){e.close(),localStorage.removeItem("authData"),window.location.reload()},2e3)}},p=t(55),h=t.n(p),b=t(2);function g(){var e=Object(b.a)(["\n  background: ",";\n  margin: 0px;\n  padding: ",";\n\n  border-radius: 90px;\n  border: none;\n  font-size: 0.9rem;\n  display: flex;\n  cursor: pointer;\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n  & > * {\n    text-decoration: none;\n  }\n\n  & > a:visited {\n    color: inherit;\n  }\n\n  & > a {\n    margin-top: ",";\n  }\n\n  &:focus {\n    outline: 0;\n  }\n\n  text-justify: center;\n  & > img {\n    width: 35px;\n    margin-right: 10px;\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(b.a)(["\n  box-shadow: 4px 4px\n    ",";\n"]);return v=function(){return e},e}function y(){var e=Object(b.a)(["\n  color: ",";\n  margin: 0px;\n  background-color: ",";\n  padding: ",";\n  border: none;\n  font-size: 0.8rem;\n  text-align: center;\n  width: ",";\n  height: 50px;\n"]);return y=function(){return e},e}function k(){var e=Object(b.a)(["\n  border: none;\n  padding: ",";\n  font-size: 1rem;\n  color: ",";\n  background-color: ",";\n  & > * {\n    text-decoration: none;\n  }\n\n  & > a:visited {\n    color: inherit;\n  }\n"]);return k=function(){return e},e}function O(){var e=Object(b.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  text-align: center;\n\n  & > p {\n    margin-top: ",";\n    color: ",";\n    cursor: pointer;\n  }\n\n  & > p:hover {\n    color: ",";\n  }\n"]);return O=function(){return e},e}function j(){var e=Object(b.a)(["\n  text-align: center;\n  & > h1 {\n    font-size: 3.9rem;\n    text-shadow: 3px 3px\n      ",";\n    background: ",";\n    -webkit-background-clip: ",";\n    background-clip: ",";\n    -webkit-text-fill-color: ",";\n  }\n\n  & > p {\n    font-size: 1rem;\n    padding-top: ",";\n    color: ",";\n  }\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"]);return j=function(){return e},e}function E(){var e=Object(b.a)(["\n  background: ",";\n  height: 100vh;\n  justify-content: center;\n  justify-items: center;\n  display: grid;\n  grid-gap: ",";\n  padding-top: 15vh;\n  grid-template-rows: "," 1fr;\n  color: ",";\n"]);return E=function(){return e},e}var x=s.c.div(E(),function(e){return"dark"===e.theme.mode?e.theme.black:e.theme.gradient},function(e){return 2*e.theme.unit+"px"},function(e){return 12*e.theme.unit+"px"},function(e){return e.theme.white}),w=s.c.div(j(),function(e){return"dark"===e.theme.mode?e.theme.transparent:e.theme.transparentBlack5},function(e){return"dark"===e.theme.mode?e.theme.gradient:"none"},function(e){return"dark"===e.theme.mode?"text":"none"},function(e){return"dark"===e.theme.mode?"text":"none"},function(e){return"dark"===e.theme.mode?"transparent":"none"},function(e){return 1*e.theme.unit+"px"},function(e){return e.theme.transparent5}),S=s.c.div(O(),function(e){return 4*e.theme.unit+"px"},function(e){return e.theme.transparent5},function(e){return"dark"===e.theme.mode?e.theme.primary:e.theme.black}),T=s.c.button(k(),function(e){return 2*e.theme.unit+"px"},function(e){return e.theme.white},function(e){return"dark"===e.theme.mode?e.theme.transparent:e.theme.transparent3}),C=(s.c.input(y(),function(e){return"dark"===e.theme.mode?e.theme.primary:e.theme.white},function(e){return"dark"===e.theme.mode?e.theme.transparent2:e.theme.transparent4},function(e){return 2*e.theme.unit+"px"},function(e){return 26*e.theme.unit+"px"}),s.c.div(v(),function(e){return"dark"===e.theme.mode?e.theme.transparent:e.theme.gray}),s.c.button(g(),function(e){return e.theme.transparent3},function(e){return 1*e.theme.unit+"px"},function(e){return e.theme.black},function(e){return e.theme.white},function(e){return 1*e.theme.unit+"px"}));function I(e){return a.a.createElement(x,null,a.a.createElement(w,null," ",a.a.createElement("h1",null,"Airplayer"),a.a.createElement("p",null,"Connect to parties in your area")),a.a.createElement(S,null,e.auth.accessToken?a.a.createElement(a.a.Fragment,null,a.a.createElement(T,null,a.a.createElement(u.b,{to:"/roomsearch"},"Go")),a.a.createElement("p",{onClick:function(){return e.auth.logout()}},"or click here to logout")):a.a.createElement(C,null,a.a.createElement("img",{src:h.a,alt:""}),a.a.createElement("a",{href:"https://airplayer.herokuapp.com/auth/login"},"Login With Spotify"))))}function R(e){return Object(r.useEffect)(function(){console.log(e),e.auth.login(),window.location.href="/"},[]),a.a.createElement("div",null)}var A=t(3);function z(){var e=Object(b.a)([""]);return z=function(){return e},e}function D(e){var n=e.items,t=void 0===n?[]:n,r=e.Style,i=void 0===r?s.c.ul(z()):r,c=e.limit,u=void 0===c?t?t.length:1:c;return a.a.createElement(function(){return a.a.createElement(i,null,t.length>0&&e.children&&t.slice(0,u).map(function(n,t){return a.a.cloneElement(e.children,Object(o.a)({},function(e,n){return Object.fromEntries(Object.entries(n).filter(function(e){return"Style"!==Object(A.a)(e,1)[0]}).map(function(n){var t=Object(A.a)(n,2),r=t[0],a=t[1];if(a){var i=a;return"on"===r.slice(0,2)?[r,a=function(n){return i(n,e)}]:[r,a=i(e)]}return[r,null]}))}(n,e.children.props),{key:t}))}))},null)}function F(){var e=Object(b.a)([""]);return F=function(){return e},e}function P(e){var n=e.src,t=e.name,r=e.labels,i=e.Style,c=void 0===i?s.c.li(F()):i,o=e.filter,u=void 0===o?"":o,l=e.onClick,f=void 0===l?function(){}:l,m=e.button,d=void 0===m?a.a.createElement(a.a.Fragment,null):m;return a.a.createElement(c,{filter:u,onClick:function(e,n){return f(e,n)}},n&&a.a.createElement("img",{src:n}),a.a.createElement("div",null,a.a.createElement("h3",null,t),r&&a.a.createElement(function(){return a.a.createElement("ul",null,r.map(function(e,n){return a.a.createElement("p",{key:n},e)}))},null)),d)}var _=t(5);function B(){var e=Object(b.a)(["\n  width: 90%;\n  height: 75%;\n  margin: 0 5%;\n"]);return B=function(){return e},e}function q(){var e=Object(b.a)(["\n  text-align: center;\n  padding: 1rem;\n  font-size: 2rem;\n  color: ",";\n"]);return q=function(){return e},e}function L(){var e=Object(b.a)(["\n  background: ",";\n  border-radius: ",";\n  width: ",";\n  height: ",";\n  bottom: ",";\n  right: ",";\n  position: absolute;\n  overflow: hidden;\n  box-shadow: 2px 3px ",";\n\n  transition: width 0.5s, height 0.5s, bottom 0.5s, right 0.5s;\n  & > * {\n    opacity: ",";\n\n    transition: opacity 0.5s;\n    color: ",';\n  }\n\n  & > [type="icon"] {\n    color: ',";\n\n    font-size: 3rem;\n    position: absolute;\n    right: 0.5rem;\n    top: 0.5rem;\n    & :hover {\n      color: ",";\n    }\n  }\n"]);return L=function(){return e},e}var N=s.c.div(L(),function(e){return"dark"===e.theme.mode?e.theme.gradient:e.theme.white},function(e){return e.show?"0":"2rem"},function(e){return e.show?"100%":"0%"},function(e){return e.show?"100%":"0%"},function(e){return e.show?"0":"2.5rem"},function(e){return e.show?"0":"2.5rem"},function(e){return e.theme.transparentBlack5},function(e){return e.show?"1":"0"},function(e){return e.theme.black},function(e){return e.theme.transparentBlack5},function(e){return e.theme.black}),Q=s.c.p(q(),function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.transparentBlack}),M=s.c.div(B());function V(e){var n=e.show,t=e.setShow,r=e.title,i=e.children;return a.a.createElement(N,{show:n},a.a.createElement(_.c,{onClick:function(){return t(!1)},type:"icon"}),a.a.createElement(Q,null,r),a.a.createElement(M,null,i))}var J=t(14),G=t(59);function U(){var e=Object(b.a)(["\n  display: block;\n  margin: "," auto;\n  color: ",";\n  padding: 8px 32px;\n  background: ",";\n  border-radius: 1rem;\n  font-size: 1.5rem;\n  box-shadow: 2px 2px\n    ",";\n\n  border: none;\n  cursor: pointer;\n"]);return U=function(){return e},e}function H(){var e=Object(b.a)(["\n  & > p {\n    color: ",";\n  }\n\n  & > input {\n    margin: "," 0;\n    width: 300px;\n    border: none;\n    padding: ",";\n    box-shadow: 2px 2px\n      ",';\n  }\n\n  & > [type="icon"] {\n    position: absolute;\n    font-size: 2rem;\n    margin-left: -340px;\n    margin-top: 16px;\n    color: ',";\n  }\n"]);return H=function(){return e},e}function K(){var e=Object(b.a)(['\n  overflow: hidden !important;\n  display: grid;\n  grid-gap: 24px;\n  height: 100%;\n\n  & [type="container"] {\n    position: relative;\n\n    & input {\n      justify-self: center;\n      width: 70%;\n      max-width: 500px;\n      padding: ',';\n    }\n\n    & [type="icon"] {\n      position: absolute;\n      font-size: 2rem;\n      top: 8px;\n      margin-left: -40px;\n\n      color: ',";\n    }\n  }\n"]);return K=function(){return e},e}function W(){var e=Object(b.a)(["\n  text-align: center;\n  color: ",";\n"]);return W=function(){return e},e}var Y=s.c.div(W(),function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.black}),X=s.c.div(K(),function(e){return 2*e.theme.unit+"px"},function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.black}),Z=s.c.form(H(),function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.transparentBlack},function(e){return 1.5*e.theme.unit+"px"},function(e){return 1.5*e.theme.unit+"px"},function(e){return"dark"===e.theme.mode?e.theme.transparent:e.theme.transparentBlack5},function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.primary}),$=s.c.button(U(),function(e){return 2*e.theme.unit+"px"},function(e){return"dark"===e.theme.mode?e.theme.black:e.theme.white},function(e){return"dark"===e.theme.mode?e.theme.transparent3:e.theme.primary},function(e){return"dark"===e.theme.mode?e.theme.transparent:e.theme.transparentBlack5});function ee(){var e=Object(b.a)(["\n  position: absolute;\n  top: 0px;\n  height: ",";\n  width: ",';\n  align-items: center;\n  justify-content: center;\n  display: flex;\n\n  &:hover {\n    content: "";\n    cursor: pointer;\n  }\n']);return ee=function(){return e},e}function ne(){var e=Object(b.a)(["\n  border: 1px solid transparent;\n  border-radius: 90px;\n  background-color: ",";\n\n  height: ",";\n  width: ",';\n  position: relative;\n  &::after {\n    content: "";\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -6px;\n    margin-top: -12px;\n    width: 0;\n    height: 0;\n    border-top: 12px solid transparent;\n    border-bottom: 12px solid transparent;\n    border-left: 16px solid white;\n  }\n']);return ne=function(){return e},e}function te(){var e=Object(b.a)(["\n  position: relative;\n"]);return te=function(){return e},e}function re(){var e=Object(b.a)(["\n  list-style: none;\n  padding-right: ",";\n  & * {\n    padding: ",";\n  }\n  & img {\n    width: ",";\n    height: ",";\n  }\n  font-size: 0.8rem;\n  & p {\n    display: inline;\n    text-transform: capitalize;\n    color: ",";\n\n    @media (max-width: 667px) {\n      color: ",";\n    }\n  }\n"]);return re=function(){return e},e}function ae(){var e=Object(b.a)(["\n  height: ",";\n  overflow-x: scroll;\n  overflow-y: hidden;\n  scrollbar-width: none;\n  ::-webkit-scrollbar {\n    width: 0px; /* Remove scrollbar space */\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n"]);return ae=function(){return e},e}function ie(){var e=Object(b.a)(["\n  display: flex;\n  overflow-y: hidden;\n\n  padding: 0 ",";\n"]);return ie=function(){return e},e}function ce(){var e=Object(b.a)(["\n  border: 1px solid transparent;\n  border-radius: 90px;\n  background-color: ",";\n\n  height: ",";\n  width: ",";\n  position: relative;\n"]);return ce=function(){return e},e}function oe(){var e=Object(b.a)(["\n  position: absolute;\n  font-size: 2.5rem;\n  transition: none;\n\n  &:hover {\n    color: ",";\n  }\n  color: ",";\n"]);return oe=function(){return e},e}function ue(){var e=Object(b.a)(["\n  position: absolute;\n  font-size: 2.5rem;\n  transition: none;\n\n  &:hover {\n    color: ",";\n  }\n  color: ",";\n"]);return ue=function(){return e},e}var le=Object(s.c)(_.b)(ue(),function(e){return e.theme.transparent4},function(e){return e.theme.green}),se=Object(s.c)(_.a)(oe(),function(e){return e.theme.transparent4},function(e){return e.theme.white}),fe=s.c.div(ce(),function(e){return e.theme.transparentBlack},function(e){return 6*e.theme.unit+"px"},function(e){return 6*e.theme.unit+"px"}),me=s.c.ul(ie(),function(e){return 2*e.theme.unit+"px"}),de=s.c.div(ae(),function(e){return 28*e.theme.unit+"px"}),pe=s.c.li(re(),function(e){return 2*e.theme.unit+"px"},function(e){return.25*e.theme.unit+"px"},function(e){return 16*e.theme.unit+"px"},function(e){return 16*e.theme.unit+"px"},function(e){return e.theme.transparent4},function(e){return"dark"===e.theme.mode?e.theme.transparent4:e.theme.transparentBlack}),he=s.c.span(te()),be=(s.c.div(ne(),function(e){return e.theme.transparentBlack},function(e){return 6*e.theme.unit+"px"},function(e){return 6*e.theme.unit+"px"}),s.c.div(ee(),function(e){return 16*e.theme.unit+"px"},function(e){return 16*e.theme.unit+"px"})),ge=function(e){var n=e.src,t=e.name,r=e.labels,i=e.uri,c=e.selected,o=e.addItem,u=e.removeItem;return a.a.createElement(he,null," ",a.a.createElement(pe,null,a.a.createElement("img",{src:n}),a.a.createElement("h4",null,t),r&&r.map(function(e,n){return a.a.createElement("p",{key:n},e)}))," ",a.a.createElement(be,null,a.a.createElement(fe,null),c?a.a.createElement(le,{onClick:function(){return u(i)}}):a.a.createElement(se,{onClick:function(){return o(i)}})))};function ve(e){var n=e.items,t=e.height,r=e.addItem,i=e.removeItem,c=e.selectedItems;return a.a.createElement(de,{height:t},a.a.createElement(D,{items:n,Style:me},a.a.createElement(ge,{src:function(e){return e.getImages().default.url},name:function(e){return e.name},labels:function(e){return e.getArtists().map(function(e){return e.name})},uri:function(e){return e.uri},selected:function(e){return c&&c.some(function(n){return n.uri===e.uri})},addItem:function(){return r},removeItem:function(){return i}})))}var ye=t(8),ke=t.n(ye),Oe=t(10),je=t(15);String.prototype.replaceAll=function(e,n){return this.split(e).join(n)},void 0===Object.fromEntries&&(Object.fromEntries=function(e){return Object.assign.apply(Object,[{}].concat(Object(J.a)(Array.from(e,function(e){var n=Object(A.a)(e,2),t=n[0],r=n[1];return Object(Oe.a)({},t,r)}))))});var Ee=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t="https://api.spotify.com/v1/",r=function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c={headers:{Authorization:"Bearer ".concat(e),"Content-type":"application/json"},method:a};return"GET"!==a&&(c.body=JSON.stringify(i)),n?fetch(encodeURI("".concat(t).concat(r)),c).then(function(e){return e.json()}):(c.api=t,c.string=encodeURI(r),c)},a=function(e,n){return r(e,"PUT",n)},i=function(e){return r(e,"GET")},c=function(e,n){return r(e,"DELETE",n)},u=function(e,n){return Object.entries(e).map(function(e){var t=Object(A.a)(e,2),r=t[0],a=t[1];return n(r,a)}).join(",")},l=function(e){return u(e,function(e,n){return""===n?"":"&".concat(e,"=").concat(n)}).replaceAll(",","")},s=function(e){return"s"===e.slice(-1)?e:"".concat(e,"s")},f=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},m=function e(n){var t,r=1;for(t in n)if(n.hasOwnProperty(t)&&"object"==typeof n[t]){var a=e(n[t])+1;r=Math.max(a,r)}return r},d=function e(n){return Object.keys(n).reduce(function(t,r){return"object"===typeof n[r]?e(n[r]):(t[r]=n[r],t)},{})},p=function(e){if(function(e){return"id"===Object.keys(d(e))[0]&&4===m(e)}(e)){var n=Object.keys(e)[0],t=Object.keys(e[n].where)[0],r=e[n].where[t].id,a=function(e,n){return Object.fromEntries(Object.entries(e[n]).filter(function(e){return"where"!==e[0]}))}(e,n);return"".concat(s(t),"/").concat(r,"/").concat(f(n)).concat(function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}(a)?"":"?".concat(l(a).substring(1)))}if(function(e){return"id"===Object.keys(d(e))[0]&&3===m(e)}(e)){var i=Object.keys(e)[0],c=e[i].where.id;return"".concat(s(f(i)),"/").concat(c)}if(function(e){return"0"===Object.keys(d(e))[0]&&4===m(e)}(e)){var o=Object.keys(e)[0],u=Object.values(d(e));return"".concat(s(f(o)),"?ids=").concat(u)}};return{search:function(e){var n,t=e.query,r=void 0===t?"":t,a=e.type,c=void 0===a?"":a,o=e.offset,s=void 0===o?"":o,f=e.limit,m=void 0===f?"":f,d=e.market,p=void 0===d?"":d,h=e.wildcard,b="search?q=".concat("string"===typeof r?void 0!==h&&h?"".concat(r,"*"):"".concat(r):"object"===typeof r?u(r,function(e,n){return"".concat(e,":").concat(n)}).replaceAll(","," "):"").concat(l({type:(n=c,"s"===n.slice(-1)?n.slice(0,n.length-1):n),limit:m,offset:s,market:p}));return i(b)},find:function(e){return i(p(e))},user:function(){var e=function(e){var n=e.id,t=void 0===n?"":n,r=e.ids,a=void 0===r?"":r,i=e.type,c=e.suffix,o=void 0===c?"":c,u=e.prefix,l=void 0===u?"":u;return"playlist"===i?"playlists/".concat(t||a).concat(o):"".concat(l,"?type=").concat(i).concat(t||a?"&ids=".concat(t||a):"")};return{follows:function(n){return i(e(Object(o.a)({},n,{prefix:"me/following/contains"})))},follow:function(n){return a(e(Object(o.a)({},n,{suffix:"/followers",prefix:"me/following"})))},unfollow:function(n){return c(e(Object(o.a)({},n,{suffix:"/followers",prefix:"me/following"})))},getFollowed:function(n){return i(e(Object(o.a)({},n,{prefix:"me/following"})))},library:function(){var e=function(e){return"me/".concat("string"===typeof e?s(e):e.type)},n=function(e){var n=e.id,t=e.ids;return t||[n]};return{contains:function(e){var n=e.id,t=e.type,r=e.ids;return i("me/".concat(s(t),"/contains?ids=").concat(n||r))},get:function(n){return i(e(n))},delete:function(t){return c(e(t),n(t))},add:function(t){return a(e(t),n(t))}}},top:function(e){return i("me/top/".concat(s(e),"?limit=50"))},me:function(){return i("me")},playlists:function(){return i("me/playlists")},artists:function(){return i("me/following?type=artist")}}},playlists:function(){},player:function(){}}};function xe(e,n){var t=Object(r.useRef)();Object(r.useEffect)(function(){t.current=e},[e]),Object(r.useEffect)(function(){if(null!==n){var e=setInterval(function(){t.current()},n);return function(){return clearInterval(e)}}},[n])}function we(e,n,t){var a=Object(r.useState)(!1),i=Object(A.a)(a,2),c=i[0],o=i[1],u=Object(r.useCallback)(function(){e()},[t]);xe(function(){u(),o(!1)},c?n:null),Object(r.useEffect)(function(){o(!0)},t)}var Se=function(e){return void 0===Object.keys(e)[0]?{}:Object.keys(e)[0]},Te=function(e,n){return Object.assign.apply(Object,[{}].concat(Object(J.a)(Object.entries(n).map(function(n){return null===n[1]?Object(Oe.a)({},n[0],[]):Object(Oe.a)({},n[0],Object.values(Object(o.a)({},n[1][e])))}))))},Ce=function(e,n){return n?n.length===e.length?Object.assign.apply(Object,Object(J.a)(n.map(function(n,t){return Object(Oe.a)({},n,e[t])})).concat([Object(Oe.a)({},"default",e[0])])):Object.assign({},Object(Oe.a)({},"default",e[0])):Object.assign({},Object(o.a)({},e))};var Ie={large:{height:500,width:500,url:"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png"},medium:{height:300,width:300,url:"https://i.ibb.co/vjZVL4p/large-removebg-preview.png"},small:{height:64,width:64,url:"https://i.ibb.co/608nyr6/small-removebg-preview.png"},default:{height:500,width:500,url:"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png"}},Re=function(){return{getArtists:function(){switch(this.type){case"track":return this.album?this.album.artists:this.artists;case"album":return this.artists;case"artists":return this;default:return null}},getImages:function(){switch(this.type){case"track":return this.album?this.album.images.length<1?Ce(Ie):Ce(this.album.images,["large","medium","small"]):this.images?Ce(this.images,["large","medium","small"]):Ce(Ie);default:return this.images.length<1?Ce(Ie):Ce(this.images,["large","medium","small"])}},getLabels:function(){return[this.type,"playlist"===this.type?this.owner.display_name:this.getArtists()?this.getArtists()[0].name:null]}}};function Ae(e){var n,t=Object(r.useState)(""),a=Object(A.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)({tracks:{},artists:{},playlists:{},albums:{}}),u=Object(A.a)(o,2),l=u[0],s=u[1],f=Ee(e.accessToken),m=Object(r.useCallback)(function(){var e=Object(je.a)(ke.a.mark(function e(n){var t,r;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.keys(l).map(function(e){return f.search({query:n,type:e})}),e.next=3,Promise.all(t);case 3:return r=e.sent,e.abrupt("return",Object.assign.apply(Object,[{}].concat(Object(J.a)(Object.keys(l).map(function(e,n){return Object(Oe.a)({},e,"error"===Se(r[n])?r[n]:r[n][e])})))));case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),[i,l]);return we(function(){""!==i&&e.accessToken&&m(i).then(function(e){s(e)})},200,[i,e.accessToken]),Object(r.useEffect)(function(){var e=function(e){"Enter"===e.key&&document.activeElement.blur()};return document.addEventListener("keypress",e),function(){return document.removeEventListener("keypress",e)}},[]),{query:i,setQuery:c,queryResults:(n=l,Object.assign({},n,{getItems:function(){var e=Te("items",n);return Object.keys(e).forEach(function(n){e[n].map(function(e){return Reflect.setPrototypeOf(e,Re())})}),e}})).getItems()}}function ze(e){var n={name:"",password:"",location:"",userId:e.user.uri,playlist:[]},t=Object(r.useState)(n),i=Object(A.a)(t,2),c=i[0],u=i[1],s=Object(r.useState)({created:!1,tracksSelected:!1,done:!1,id:null}),f=Object(A.a)(s,2),m=f[0],d=f[1],p=Ae(e.auth),h=p.query,b=p.setQuery,g=p.queryResults;Object(r.useEffect)(function(){if(m.tracksSelected){c.password;var n=Object(G.a)(c,["password"]);fetch("/api/rooms",{method:"POST",body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(n){var t=n.room.id,r=JSON.parse(localStorage.getItem("tokens"))||{};r[t]=n.token,localStorage.setItem("tokens",JSON.stringify(r)),fetch("/api/room/".concat(t,"/vibe"),{method:"POST",body:JSON.stringify({accessToken:e.auth.accessToken,tracks:c.playlist})}).then(function(){return d({done:!0,id:t})})})}},[m.tracksSelected,c]);return a.a.createElement(a.a.Fragment,null,m.done?a.a.createElement(l.a,{to:"room/".concat(m.id)}):a.a.createElement(Y,null,m.created?a.a.createElement(X,null,a.a.createElement("div",null,a.a.createElement("p",null,"Choose at least 3 tracks to get started")),a.a.createElement("div",{type:"container"},a.a.createElement(_.k,{type:"icon"}),a.a.createElement("input",{type:"text",value:h,onChange:function(e){return b(e.target.value)},placeholder:"Enter a track or artist name..."})),g.tracks.length>0?a.a.createElement(ve,{addItem:function(e){return u(Object(o.a)({},c,{playlist:[].concat(Object(J.a)(c.playlist),[{uri:e}])}))},removeItem:function(e){return u(Object(o.a)({},c,{playlist:c.playlist.filter(function(n){return n.uri!==e})}))},items:g.tracks,selectedItems:c.playlist}):""===h?a.a.createElement(a.a.Fragment,null):a.a.createElement("p",null,'No tracks matching "',h,'"'),c.playlist.length>2?a.a.createElement($,{onClick:function(){return d(Object(o.a)({},m,{tracksSelected:!0}))}},"Enter Room"):null):a.a.createElement(Z,null,a.a.createElement("p",null,"Name"),a.a.createElement("input",{type:"text",value:c.name,placeholder:"Enter a room name",onChange:function(e){return u(Object(o.a)({},c,{name:e.target.value}))},required:!0}),a.a.createElement(_.h,{type:"icon"}),a.a.createElement($,{type:"submit",onClick:function(){return d(Object(o.a)({},m,{created:!0}))}},"Create"))))}function De(e){var n=Object(r.useState)(null),t=Object(A.a)(n,2),a=t[0],i=t[1],c=Ee(e.accessToken);return Object(r.useEffect)(function(){e.accessToken&&c.user().me().then(function(e){return i(e)})},[e.accessToken]),a}function Fe(){var e=Object(b.a)(["\n  background-color: ",";\n  font-size: 0.8rem;\n  display: grid;\n  grid-template-columns: 48px 1fr ",";\n  margin-bottom: 15px;\n  align-items: center;\n  width: 100%;\n  cursor: pointer;\n\n  & img {\n    height: 48px;\n    width: 48px;\n  }\n  & div {\n    padding: 0 0 0 10px;\n    overflow: hidden;\n    & h3 {\n      font-size: 0.8rem;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    & p {\n      display: inline;\n      color: ",';\n      font-weight: 100;\n    }\n  }\n\n  & button {\n    height: 48px;\n    width: 48px;\n    background: none;\n    border: none;\n    color: whitesmoke;\n    font-size: 2rem;\n    text-align: center;\n    text-justify: center;\n  }\n\n  & li {\n    display: inline;\n    text-transform: capitalize;\n  }\n  & li:first-child::after {\n    content: "\u2022";\n    color: white;\n    padding: 0 3px;\n  }\n']);return Fe=function(){return e},e}var Pe=s.c.li(Fe(),function(e){return e.filter?e.theme.transparent2:""},function(e){return e.button?"100px":"96px"},function(e){return e.theme.transparent4});function _e(){var e=Object(b.a)(["\n  opacity: ",";\n  transition: opacity 0.5s;\n  position: absolute;\n  bottom: 5rem;\n  right: 5rem;\n\n  & :hover {\n    color: ",';\n  }\n  & > [type="circle"] {\n    background-color: ',';\n    width: 5rem;\n    height: 5rem;\n    position: absolute;\n    border-radius: 100%;\n  }\n  & > [type="icon"] {\n    font-size: 5rem;\n    position: absolute;\n  }\n  @media (min-width: 668px) {\n    display: none;\n  }\n']);return _e=function(){return e},e}function Be(){var e=Object(b.a)(["\n  & * {\n    text-decoration: none;\n    color: ",";\n    margin-top: 8px;\n  }\n  font-size: 2.5rem;\n  width: 100%;\n  & :hover {\n    & * {\n      color: ",";\n    }\n  }\n"]);return Be=function(){return e},e}function qe(){var e=Object(b.a)(["\n  & button {\n    background: ",";\n    color: ",";\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 0.8rem;\n    width: ",";\n    height: ",";\n  }\n\n  padding: 0 ",";\n  @media (max-width: 320px) {\n    width: 90%;\n  }\n"]);return qe=function(){return e},e}function Le(){var e=Object(b.a)(["\n  & "," {\n    width: 100%;\n\n    & li:nth-child(even) {\n      background: ",";\n      height: ",";\n    }\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n  padding-top: ",";\n"]);return Le=function(){return e},e}function Ne(){var e=Object(b.a)(["\n  display: grid;\n  width: 100%;\n\n  /* use this when location input is implemented*/\n  /* grid-template-columns: 2fr 1fr 1fr; */\n  grid-template-columns: 3fr 1fr;\n\n  & > input {\n    width: 100%;\n    &::placeholder {\n      color: ",";\n    }\n    padding: ",";\n    border: none;\n    border-right: 1px solid ",";\n    background-color: ",";\n  }\n\n  & > div {\n    display: grid;\n    cursor: pointer;\n\n    grid-template-columns: 1fr 3fr;\n    align-items: center;\n    background-color: ",";\n\n    & :first-child {\n      justify-self: flex-end;\n      font-size: 2.3rem;\n    }\n    & :nth-child(2) {\n      justify-self: flex-start;\n      font-size: 1.2rem;\n    }\n  }\n\n  @media (max-width: 667px) {\n    /* grid-template-columns: 2fr 1fr; */\n    grid-template-columns: 1fr;\n\n    & > div {\n      display: none;\n    }\n  }\n"]);return Ne=function(){return e},e}function Qe(){var e=Object(b.a)(["\n  display: grid;\n  position: relative;\n  justify-content: center;\n  align-content: center;\n  min-width: ",";\n  width: 85vw;\n  min-height: ",";\n  /* height: 70vh; */\n  margin-bottom: 8vh;\n  background-color: ",";\n  grid-template-rows: "," 1fr;\n  grid-template-columns: 1fr;\n  animation: fadeIn 1s;\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @media (max-width: 440px) {\n    width: 98vw;\n  }\n"]);return Qe=function(){return e},e}function Me(){var e=Object(b.a)(["\n  background: ",";\n  height: 100vh;\n  justify-items: center;\n  display: grid;\n  grid-template-rows: 5rem 2rem 1fr;\n  color: ",";\n\n  & > h1 {\n    font-size: 3.9rem;\n    text-shadow: 3px 3px\n      ",";\n    background: ",";\n    -webkit-background-clip: ",";\n    background-clip: ",";\n    -webkit-text-fill-color: ",";\n    padding: 8px 0;\n  }\n  & > p {\n    color: ",";\n    padding-bottom: 16px;\n  }\n"]);return Me=function(){return e},e}var Ve=s.c.div(Me(),function(e){return"dark"==e.theme.mode?e.theme.black:e.theme.gradient},function(e){return e.theme.white},function(e){return"dark"===e.theme.mode?e.theme.transparent:e.theme.transparentBlack5},function(e){return"dark"===e.theme.mode?e.theme.gradient:"none"},function(e){return"dark"===e.theme.mode?"text":"none"},function(e){return"dark"===e.theme.mode?"text":"none"},function(e){return"dark"===e.theme.mode?"transparent":"none"},function(e){return e.theme.transparent5}),Je=s.c.div(Qe(),function(e){return 24*e.theme.unit+"px"},function(e){return 50*e.theme.unit+"px"},function(e){return e.theme.transparent2},function(e){return 6*e.theme.unit+"px"}),Ge=s.c.div(Ne(),function(e){return"dark"===e.theme.mode?e.theme.transparent4:e.theme.transparentBlack},function(e){return 2*e.theme.unit+"px"},function(e){return e.theme.transparentBlack4},function(e){return e.theme.transparent4},function(e){return e.theme.transparentBlack4}),Ue=s.c.div(Le(),D,function(e){return e.theme.transparent2},function(e){return 8*e.theme.unit+"px"},function(e){return 2*e.theme.unit+"px"}),He=Object(s.c)(Pe)(qe(),function(e){return e.theme.white},function(e){return e.theme.black},function(e){return 10*e.theme.unit+"px"},function(e){return 5*e.theme.unit+"px"},function(e){return 2*e.theme.unit+"px"}),Ke=s.c.div(Be(),function(e){return e.theme.transparent4},function(e){return e.theme.transparentBlack3});s.c.div(_e(),function(e){return e.show?1:0},function(e){return e.theme.primary},function(e){return e.theme.transparentBlack3});function We(e){var n=Object(r.useState)([]),t=Object(A.a)(n,2),i=t[0],c=t[1],o=De(e.auth),l=function(e){return Math.round((Date.now()-new Date(e).getTime())/1e3/60)},s=function(e){var n=l(e);return n<2?"a few seconds ago":n>2&&n<60?"".concat(n," minutes ago"):"".concat(Math.round(n/60)," hours ago")};Object(r.useEffect)(function(){fetch("/api/rooms").then(function(e){return e.json()}).then(function(e){c(e.reverse().filter(function(e){return l(e.createdAt)<2880}))})},[]);var f=Object(r.useState)(""),m=Object(A.a)(f,2),d=m[0],p=m[1];console.log(d);var h=Object(r.useState)(!1),b=Object(A.a)(h,2),g=b[0],v=b[1];return a.a.createElement(Ve,null,a.a.createElement("h1",null,"Airplayer"),a.a.createElement("p",null,"Join a room or create your own"),a.a.createElement(Je,null,a.a.createElement(Ge,null,a.a.createElement("input",{placeholder:"Enter a party Name",type:"text",value:d,onChange:function(e){return p(e.target.value)}}),a.a.createElement("div",{onClick:function(){return v(!0)}},a.a.createElement(_.a,null),a.a.createElement("p",null,"Create"))),a.a.createElement(Ue,null,a.a.createElement(D,{items:i.filter(function(e){return e.name.includes(d)})},a.a.createElement(P,{Style:He,name:function(e){return e.name},src:function(e){return"https://i.scdn.co/image/f5990a4c6059df42ae7b39b8524cd6ecce334995"},labels:function(e){return["Created ".concat(s(e.createdAt)," in "),e.location]},button:function(e){return function(e){return a.a.createElement(Ke,null,a.a.createElement(u.b,{to:"/room/".concat(e.id)},a.a.createElement(_.f,null)))}(e)}}))),a.a.createElement(V,{show:g,title:"Create a Room",setShow:v},o&&a.a.createElement(ze,{user:o,auth:e.auth}))))}function Ye(){var e=Object(b.a)(['\n  position: absolute;\n  &:before {\n    border-style: solid;\n    border-width: 2px 2px 0 0;\n    content: "";\n    display: inline-block;\n    height: 12px;\n    left: 0;\n    position: relative;\n    vertical-align: top;\n    width: 12px;\n    transform: rotate(45deg);\n    visibility: ',";\n  }\n"]);return Ye=function(){return e},e}var Xe=s.c.span(Ye(),function(e){return e.visibility});function Ze(){var e=Object(b.a)(["\n  left: 15px;\n  margin-top: 15px;\n  &:before {\n    transform: rotate(-135deg);\n  }\n"]);return Ze=function(){return e},e}function $e(){var e=Object(b.a)(["\n  height: calc(100vh - 50px);\n  position: relative;\n  grid-gap: ",";\n\n  & > * {\n    padding: "," 0;\n  }\n  & > h2 {\n    font-size: 1.5rem;\n    padding-left: ",";\n  }\n\n  & > ul {\n    padding: 0 ",";\n  }\n"]);return $e=function(){return e},e}var en=s.c.div($e(),function(e){return 1*e.theme.unit+"px"},function(e){return 2*e.theme.unit+"px"},function(e){return 2*e.theme.unit+"px"},function(e){return 2*e.theme.unit+"px"});Object(s.c)(Xe)(Ze());function nn(e){var n=e.room,t=e.roomTracks,r=(e.topTracks,e.setStartAudio),i=function(e,t){n.controller.play(t.uri),r(!0)};return a.a.createElement(en,null,a.a.createElement("h2",null,"What's up Next"),t.playlist&&a.a.createElement(D,{items:t.playlist},a.a.createElement(P,{Style:Pe,src:function(e){return e.getImages().default.url},name:function(e){return e.name},labels:function(e){return e.getArtists().map(function(e){return e.name})},filter:function(e){return e.uri===t.currentSong.uri?"1":""},onClick:i,button:function(e){return a.a.createElement("button",{onClick:function(t){t.stopPropagation(),n.controller.removeTrack(e.uri)}}," ","x")}})),a.a.createElement("h2",null,"Room Favourites"),t.filtered&&a.a.createElement(D,{items:t.filtered},a.a.createElement(P,{Style:Pe,src:function(e){return e.getImages().default.url},name:function(e){return e.name},labels:function(e){return e.getArtists().map(function(e){return e.name})},filter:function(e){return e.uri===t.currentSong.uri?"1":""},onClick:i})),a.a.createElement("h2",null,"Recommended"),t.generated&&a.a.createElement(D,{items:t.generated},a.a.createElement(P,{Style:Pe,src:function(e){return e.getImages().default.url},name:function(e){return e.name},labels:function(e){return e.getArtists().map(function(e){return e.name})},filter:function(e){return e.uri===t.currentSong.uri?"1":""},onClick:i})))}function tn(){var e=Object(b.a)(["\n  display: grid;\n  justify-items: center;\n  position: relative;\n  padding-top: 200px;\n"]);return tn=function(){return e},e}function rn(){var e=Object(b.a)(["\n  position: relative;\n"]);return rn=function(){return e},e}var an=s.c.div(rn()),cn=s.c.div(tn());function on(){var e=Object(b.a)(["\n  right: ",";\n  margin-top: ",";\n  transform: ",";\n\n  transition: transform 0.2s, margin-top 0.2s;\n  color: ",";\n"]);return on=function(){return e},e}function un(){var e=Object(b.a)(["\n  font-size: 1rem;\n  padding-top: ",";\n  & li {\n    & button {\n      cursor: pointer;\n      display: grid;\n      justify-self: end;\n\n      @media (max-width: 667px) {\n        color: ",";\n      }\n    }\n    list-style: none;\n    & p {\n      text-transform: capitalize;\n      color: ",";\n\n      @media (max-width: 667px) {\n        color: ",";\n      }\n    }\n  }\n"]);return un=function(){return e},e}function ln(){var e=Object(b.a)(["\n  font-size: 1rem;\n  padding: 0 ",";\n\n  & h2 {\n    cursor: pointer;\n  }\n"]);return ln=function(){return e},e}var sn=s.c.div(ln(),function(e){return 2*e.theme.unit+"px"}),fn=s.c.ul(un(),function(e){return 2*e.theme.unit+"px"},function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.primary},function(e){return e.theme.transparent4},function(e){return"dark"===e.theme.mode?e.theme.transparent4:e.theme.transparentBlack}),mn=Object(s.c)(Xe)(on(),function(e){return 3*e.theme.unit+"px"},function(e){return"right"===e.direction?-2.5*e.theme.unit+"px":-3*e.theme.unit+"px"},function(e){return"right"===e.direction?"rotate(0deg)":"rotate(180deg)"},function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.primary});function dn(e){var n=e.title,t=e.items,r=e.filter,i=e.limit,c=e.actions,o=e.handleItemClick,u=void 0===o?function(){}:o,l=e.handleHeaderClick,s=void 0===l?function(){}:l,f=function(e){var n=e.item,t=c.filter(function(e){return"ADD"===e.type})[0];return t?a.a.createElement("button",{onClick:function(){return t.func(n.uri)}},t.icon):null};return a.a.createElement(sn,null,a.a.createElement("h2",{onClick:function(e){return s(e,{title:n})}},""!==r&&r!==n?"":n),a.a.createElement(mn,{direction:""!==r?"left":"right",onClick:function(e){return s(e,{title:n})}}),a.a.createElement(D,{items:t,Style:fn,limit:r!==n?i:t.length},a.a.createElement(P,{src:function(e){return e.getImages().default.url},name:function(e){return e.name},labels:function(e){return e.getLabels().map(function(e){return e?"".concat(e," "):""})},Style:Pe,button:c?function(e){return a.a.createElement(f,{item:e})}:null,onClick:u||function(){}})))}function pn(e){var n=e.query,t=e.filter,r=(e.setFilter,e.limit),i=void 0===r?4:r,c=e.results,o=void 0===c?[]:c;return a.a.createElement(an,null,""===n?a.a.createElement(cn,null,a.a.createElement("p",null,"Please enter a query")):o.map(function(e){return function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}(e)}).filter(function(e){return!1===e}).length<1?"No results matching ".concat(n):o&&o.map(function(n,r){return(""==t||t===n.title)&&n.items.length>1&&a.a.createElement(dn,{title:n.title,items:n.items,filter:t,limit:i,key:r,actions:n.actions,path:e.path,handleItemClick:n.onItemClick?n.onItemClick:function(){},handleHeaderClick:n.onHeaderClick?n.onHeaderClick:function(){}})}))}function hn(e){var n=e.results,t=n.albums,r=n.tracks,i=n.artists,c=n.playlists,o=e.foundTracks,u=e.setFindQuery,l=e.foundTracksName,s=e.addTrack,f=e.removeTrack,m=e.filter,d=e.setFilter,p=e.query;return a.a.createElement(a.a.Fragment,null,o?a.a.createElement(function(){return a.a.createElement(dn,{title:l,items:o,filter:m,actions:[{icon:a.a.createElement(a.a.Fragment,null,"+"),func:s,type:"ADD"},{icon:a.a.createElement(a.a.Fragment,null,"-"),func:f,type:"REMOVE"}],handleHeaderClick:function(e){u({name:"",uri:""})}})},null):a.a.createElement(pn,{query:p,filter:m,results:[{title:"Tracks",items:r,actions:[{icon:a.a.createElement(a.a.Fragment,null,"+"),func:s,type:"ADD"},{icon:a.a.createElement(a.a.Fragment,null,"-"),func:f,type:"REMOVE"}],onItemClick:function(e,n){return console.log(n.id)},onHeaderClick:function(e,n){var t=n.title;d(m===t?"":t)}},{title:"Albums",items:t,onItemClick:function(e,n){return u({uri:n.uri,name:n.name})},onHeaderClick:function(e,n){var t=n.title;d(m===t?"":t)}},{title:"Artists",items:i,onItemClick:function(e,n){return u({uri:n.uri,name:n.name})},onHeaderClick:function(e,n){var t=n.title;d(m===t?"":t)}},{title:"Playlists",items:c,onItemClick:function(e,n){return u({uri:n.uri,name:n.name})},onHeaderClick:function(e,n){var t=n.title;d(m===t?"":t)}}]}))}function bn(){var e=Object(b.a)(["\n  ","\n"]);return bn=function(){return e},e}function gn(){var e=Object(b.a)(["\n  ","\n"]);return gn=function(){return e},e}function vn(){var e=Object(b.a)(["\n  font-size: 3rem;\n  cursor: pointer;\n  &:hover {\n    color: ",";\n  }\n  transition: color 0.5s;\n"]);return vn=function(){return e},e}function yn(){var e=Object(b.a)(["\n  padding: ",";\n"]);return yn=function(){return e},e}var kn=s.c.div(yn(),function(e){return 2*e.theme.unit+"px"}),On=Object(s.b)(vn(),function(e){return e.theme.transparent3});Object(s.c)(_.a)(gn(),On),Object(s.c)(_.b)(bn(),On);function jn(e){return a.a.createElement(kn,null,a.a.createElement(hn,e))}var En=function(){var e=navigator.userAgent;return!(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e)||!/Chrome|Safari/i.test(e))};function xn(){var e=Object(b.a)(["\n  left: 15px;\n  margin-top: 15px;\n  &:before {\n    transform: rotate(-135deg);\n  }\n"]);return xn=function(){return e},e}function wn(){var e=Object(b.a)(["\n  height: ",";\n  position: relative;\n  display: grid;\n  align-content: flex-start;\n  grid-gap: ",";\n  padding-top: ",";\n\n  & > h2 {\n    font-size: 1.5rem;\n    padding-left: ",";\n  }\n"]);return wn=function(){return e},e}var Sn=s.c.div(wn(),function(e){return En()?"calc(92vh - 56px)":"calc(100vh - 56px)"},function(e){return 1*e.theme.unit+"px"},function(e){return 2*e.theme.unit+"px"},function(e){return 2*e.theme.unit+"px"});Object(s.c)(Xe)(xn());function Tn(e){var n=e.results.topTracks,t=e.selectedTracks,r=e.addTrack,i=e.removeTrack;return a.a.createElement(Sn,null,a.a.createElement("h2",null,"Your Favourites"),a.a.createElement(ve,{items:n,addItem:r,removeItem:i,selectedItems:t}),a.a.createElement(hn,e))}var Cn=t(20),In=t.n(Cn);function Rn(){var e=Object(b.a)(["\n  grid-column: span 2;\n  color: ",";\n  height: 100%;\n"]);return Rn=function(){return e},e}function An(){var e=Object(b.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  max-height: calc(100vh - 128px);\n  overflow: auto;\n"]);return An=function(){return e},e}function zn(){var e=Object(b.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  display: grid;\n  width: 100%;\n  color: ",";\n  grid-template-columns: minmax(96px, 160px) 1fr;\n  grid-template-rows:\n    "," calc(100vh - 128px)\n    ",";\n"]);return zn=function(){return e},e}function Dn(){var e=Object(b.a)(["\n  justify-self: center;\n  align-self: center;\n  animation: fadeIn 0.5s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  animation: fadeOut 0.5s;\n\n  @keyframes fadeOut {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n"]);return Dn=function(){return e},e}function Fn(){var e=Object(b.a)(["\n  background: ",";\n"]);return Fn=function(){return e},e}var Pn=s.c.div(Fn(),function(e){return"dark"===e.theme.mode?e.theme.black:e.theme.gradient}),_n=Object(s.c)(In.a)(Dn()),Bn=s.c.div(zn(),function(e){return e.theme.white},function(e){return 6*e.theme.unit+"px"},function(e){return 10*e.theme.unit+"px"}),qn=s.c.main(An()),Ln=s.c.footer(Rn(),function(e){return e.theme.white}),Nn=t(60),Qn=t.n(Nn),Mn=function(e,n){switch(n.type){case"SET_DEVICE":return Object(o.a)({},e,{id:n.payload.device_id,ready:n.payload.ready});case"UPDATE_PLAYER":var t=n.payload.roomState;return Object(o.a)({},e,{currentSong:t.currentSong.uri,paused:!t.currentSong.playing,playlist:t.playlist.map(function(e){return e.uri}).concat(t.recommendations.playlist.selected.map(function(e){return e.uri}),t.recommendations.playlist.generated.map(function(e){return e.uri})),lastSeek:t.currentSong.lastSeek});default:return e}};var Vn=function(e,n){var t=Object(r.useRef)();Object(r.useEffect)(function(){t.current=e},[e]),Object(r.useEffect)(function(){if(null!==n){var e=setTimeout(function(){t.current()},n);return function(){return clearTimeout(e)}}},[n])};function Jn(e,n,t,a){var i=Object(r.useReducer)(Mn,{id:null,currentSong:null,paused:!1,ready:!1,playlist:[],lastSeek:0}),c=Object(A.a)(i,2),o=c[0],u=c[1],l=Object(r.useState)(!1),s=Object(A.a)(l,2),f=s[0],m=s[1],d=function(e,n){var t=Object(r.useRef)(0),a=Object(r.useState)(!1),i=Object(A.a)(a,2),c=i[0],o=i[1],u=Object(r.useState)(null),l=Object(A.a)(u,2),s=l[0],f=l[1],m=Object(r.useCallback)(function(r){var a=e.playlist.indexOf(e.currentSong),i=e.playlist[a+r];i&&(n.play(i),setTimeout(function(){return t.current=0},5e3))},[e]);return Vn(function(){t.current+=1,o(!0)},s),Object(r.useEffect)(function(){1==c&&1===t.current&&(m(1),o(!1))}),{setRemaining:f,queTrack:m}}(o,n.controller),p=d.setRemaining,h=d.queTrack,b=function(e,n,t,a){var i=Object(r.useState)(),c=Object(A.a)(i,2),o=c[0],u=c[1];return Object(r.useEffect)(function(){window.onSpotifyWebPlaybackSDKReady||(window.onSpotifyWebPlaybackSDKReady=function(){var n=new window.Spotify.Player({name:"Web Playback SDK Quick Start Player",getOAuthToken:function(n){n(e)}});n.connect().then(function(e){u(e?n:{error:"Failed to connect"})})},n(!0))},[o,window.Spotify]),Object(r.useEffect)(function(){},[o]),Object(r.useEffect)(function(){o&&(o.addListener("initialization_error",function(e){var n=e.message;console.error(n)}),o.addListener("authentication_error",function(e){var n=e.message;console.error(n)}),o.addListener("account_error",function(e){var n=e.message;console.error(n)}),o.addListener("playback_error",function(e){var n=e.message;console.error(n)}),o.addListener("ready",function(e){var n=e.device_id;console.log("Ready with Device ID",n),a({type:"SET_DEVICE",payload:{device_id:n,ready:!0}})}),o.addListener("not_ready",function(e){var n=e.device_id;a({type:"SET_DEVICE",payload:{device_id:n,ready:!1}}),console.log("Device ID has gone offline",n)}))},[o]),Object(r.useEffect)(function(){if(o){var e=function(e){t(e.duration-e.position-1e3)};return o.addListener("player_state_changed",e),function(){return o.removeListener("player_state_changed",e)}}},[o]),{player:o}}(e.accessToken,m,p,u).player,g=function(e){var n=Object(r.useState)(80),t=Object(A.a)(n,2),a=t[0],i=t[1];return we(function(){e&&e.setVolume(a/100)},200,[a]),{volume:a,setVolume:i}}(b),v=g.volume,y=g.setVolume;return function(e,n,t){Object(r.useEffect)(function(){e.ready&&e.currentSong&&n&&e.lastSeek&&t&&t.seek(e.lastSeek)},[e.ready,e.currentSong,e.lastSeek,n])}(o,a,b),function(e,n,t,a){var i=Object(r.useCallback)(function(){var n=Object(je.a)(ke.a.mark(function n(t){return ke.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(e.id),{method:"PUT",body:JSON.stringify({uris:[t]}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}));case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),[e.id,a]);Object(r.useEffect)(function(){t.state.playlist.length>0&&t.controller.play(t.state.playlist[0].uri)},[]),Object(r.useEffect)(function(){n?e.ready&&e.currentSong&&i(e.currentSong):t.controller.pause()},[e.ready,e.currentSong,n])}(o,t,n,e.accessToken),function(e,n){Object(r.useEffect)(function(){e.ready&&e.currentSong&&(e.paused?n.pause():n.resume())},[e.ready,e.currentSong,e.paused])}(o,b),Object(r.useEffect)(function(){u({type:"UPDATE_PLAYER",payload:{roomState:n.state}})},[n.state]),{deviceState:o,loadScript:f,queTrack:h,volume:v,setVolume:y}}var Gn=t(64);t(30);function Un(){var e=Object(b.a)(["\n  background: ",";\n  opacity: ",";\n  height: ",";\n  width: 40px;\n  border-top-right-radius: 15px;\n  border-top-left-radius: 15px;\n  position: absolute;\n  bottom: 70px;\n  right: 0;\n  padding: 15px;\n  transition: height 0.4s, opacity 0.4s;\n  /* hacky way of changing background color for slider*/\n  & > div {\n    & > div:first-child {\n      background: #ffd5e3 !important;\n    }\n  }\n"]);return Un=function(){return e},e}function Hn(){var e=Object(b.a)(["\n  align-items: center;\n  display: grid;\n  justify-items: center;\n  width: 40px;\n  height: 80px;\n  z-index: 99999;\n"]);return Hn=function(){return e},e}var Kn=s.c.div(Hn()),Wn=s.c.div(Un(),function(e){return"dark"===e.theme.mode?e.theme.transparentBlack:e.theme.white},function(e){return e.show?1:0},function(e){return e.show?"160px":0});function Yn(e){var n=e.volume,t=e.setVolume,i=Object(r.useState)(!1),c=Object(A.a)(i,2),o=c[0],u=c[1];return a.a.createElement(Kn,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},a.a.createElement(_.n,{style:{cursor:"pointer"}}),a.a.createElement(Wn,{show:o},a.a.createElement(Gn.a,{axis:"y",y:100-n,onChange:function(e){var n=e.y;return t(100-n)},styles:{thumb:{width:30,height:6,backgroundColor:f.white,borderRadius:"5px",opacity:o?1:0,transition:"opacity 0.4s",cursor:"pointer",boxShadow:"1px 1px 2px 1px rgba(0, 0, 0, 0.5)"},track:{backgroundColor:f.primary,height:o?"130px":"0px",transition:"height 0.4s",cursor:"pointer"}}})))}function Xn(){var e=Object(b.a)(["\n  position: absolute;\n  height: 15px;\n  background: ",";\n"]);return Xn=function(){return e},e}function Zn(){var e=Object(b.a)(["\n  background: ",";\n  position: absolute;\n  bottom: 80px;\n  width: 100%;\n  height: 15px;\n\n  & > input {\n    position: relative;\n    width: 100%;\n    height: 15px;\n    z-index: 99;\n    cursor: pointer;\n  }\n"]);return Zn=function(){return e},e}var $n=s.c.div(Zn(),function(e){return"dark"===e.theme.mode?e.theme.transparent2:e.theme.transparentBlack5}),et=s.c.div.attrs(function(e){return{style:{width:e.width}}})(Xn(),function(e){return e.theme.gradient});function nt(e){var n=e.playing,t=e.currentSong,i=e.lastSeek,c=e.duration,o=e.seek,u=Object(r.useState)(),l=Object(A.a)(u,2),s=l[0],f=l[1],m=i;return xe(function(){f(function(e){return e!==m?s+100:m+100})},n?100:null),Object(r.useEffect)(function(){},[i]),Object(r.useEffect)(function(){f(i)},[i,t]),a.a.createElement($n,null,a.a.createElement(et,{width:s&&c?s/c*100+"%":0}),a.a.createElement("input",{type:"range",min:"0",max:"300",className:"slider",value:s&&c?s/c*300:0,onChange:function(e){if(c){var n=Math.round(parseInt(e.target.value)/300*c);o(n)}}}))}function tt(){var e=Object(b.a)(["\n  padding-top: 5px;\n  text-align: center;\n  background-color: ",";\n"]);return tt=function(){return e},e}function rt(){var e=Object(b.a)(["\n  color: ",";\n  font-size: 2rem;\n  margin-right: 3rem;\n\n  position: relative;\n  display: grid;\n  justify-items: flex-end;\n"]);return rt=function(){return e},e}function at(){var e=Object(b.a)(["\n  display: grid;\n  grid-template-columns: 80px 1fr;\n  align-items: center;\n\n  & > img {\n    width: 80px;\n  }\n\n  & > div {\n    padding-left: 15px;\n    font-size: 0.8rem;\n\n    & > h3 {\n      color: ",";\n    }\n\n    & > p {\n      color: ",";\n      text-transform: capitalize;\n    }\n  }\n"]);return at=function(){return e},e}function it(){var e=Object(b.a)(["\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n"]);return it=function(){return e},e}function ct(){var e=Object(b.a)(["\n  background-color: ",";\n\n  height: 100%;\n  color: ",";\n  display: grid;\n  width: 100%;\n  grid-template-rows: 1fr;\n"]);return ct=function(){return e},e}var ot=s.c.div(ct(),function(e){return"dark"===e.theme.mode?e.theme.transparent:e.theme.white},function(e){return e.theme.black}),ut=s.c.div(it()),lt=s.c.div(at(),function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.darkestGray},function(e){return e.theme.gray}),st=s.c.div(rt(),function(e){return e.theme.primary}),ft=Object(s.c)(In.a)(tt(),function(e){return"dark"===e.theme.mode?e.theme.transparent:e.theme.white});function mt(){var e=Object(b.a)(["\n  color: ",";\n  font-size: 1.75rem;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: space-between;\n  justify-items: center;\n  width: 240px;\n  align-self: center;\n  justify-self: center;\n  text-align: center;\n  text-justify: center;\n  & > * {\n    cursor: pointer;\n  }\n\n  & > :nth-child(odd) {\n    margin-top: 0.625rem;\n  }\n  & > :nth-child(2) {\n    font-size: 3rem;\n  }\n"]);return mt=function(){return e},e}var dt=s.c.div(mt(),function(e){return e.theme.primary});function pt(e){var n=e.room,t=e.queTrack,r=e.setStart,i=e.deviceState,c=0===n.state.playlist.map(function(e){return e.uri}).indexOf(n.state.currentSong.uri),o=n.state.playlist.map(function(e){return e.uri}).indexOf(n.state.currentSong.uri)===n.state.playlist.length-1;return a.a.createElement(dt,null,c?a.a.createElement("div",null):a.a.createElement(_.l,{onClick:function(){return t(-1)}}),i.paused?a.a.createElement(_.j,{onClick:function(){n.controller.resume(),r(!0)}}):a.a.createElement(_.g,{onClick:function(){n.controller.pause()}}),o?a.a.createElement("div",null):a.a.createElement(_.m,{onClick:function(){return t(1)}}))}function ht(e){var n=e.auth,t=e.room,i=e.roomTracks,c=e.start,u=e.setStart,l=Object(r.useState)({error:!1}),s=Object(A.a)(l,2),m=s[0],d=s[1],p=i.currentSong.duration_ms,h=Jn(n,t,c,p),b=h.loadScript,g=h.deviceState,v=h.queTrack,y=h.volume,k=h.setVolume;return a.a.createElement(a.a.Fragment,null,b&&a.a.createElement(Qn.a,{url:"https://sdk.scdn.co/spotify-player.js",onError:function(){return d(Object(o.a)({},m,{error:!0}))},onLoad:function(){d(Object(o.a)({},m,{loaded:!0}))}}),g.ready?a.a.createElement(ot,null,a.a.createElement(nt,{duration:p,playing:!g.paused,lastSeek:g.lastSeek,currentSong:g.currentSong,seek:t.controller.seek}),a.a.createElement(ut,null,a.a.createElement(lt,null,a.a.createElement("img",{src:i.currentSong.getImages().default.url,alt:""}),a.a.createElement("div",null,a.a.createElement("h3",null,i.currentSong.name),a.a.createElement("p",null,i.currentSong.getArtists().map(function(e){return e.name})))),a.a.createElement(pt,{setStart:u,room:t,queTrack:v,deviceState:g}),a.a.createElement(st,null,a.a.createElement(Yn,{volume:y,setVolume:k})))):a.a.createElement(ft,{type:"Bars",color:f.primary,height:70,width:50}))}function bt(){var e=Object(b.a)(["\n  cursor: pointer;\n  border: 1px solid ",";\n  border-radius: 90px;\n  text-align: center;\n  padding: ",";\n  color: ",";\n  background-color: ",";\n\n  &:hover {\n    cursor: pointer;\n    color: ",";\n    background-color: ",";\n  }\n"]);return bt=function(){return e},e}function gt(){var e=Object(b.a)(["\n  font-size: 0.6em;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  align-content: center;\n  align-self: center;\n  grid-gap: ",";\n"]);return gt=function(){return e},e}var vt=s.c.div(gt(),function(e){return 1*e.theme.unit+"px"}),yt=s.c.div(bt(),function(e){return e.theme.white},function(e){return 1*e.theme.unit+"px"},function(e){return e.active?e.theme.black:e.theme.white},function(e){return e.active?e.theme.white:e.theme.transparent2},function(e){return e.theme.black},function(e){return e.active?e.theme.white:e.theme.transparent4});function kt(e){var n=e.filter,t=e.setFilter,r=function(e){var r=e.text;return a.a.createElement(yt,{active:n===r,onClick:function(){t(n===r?"":r)}},r)};return a.a.createElement(vt,null,a.a.createElement(r,{text:"Tracks"}),a.a.createElement(r,{text:"Playlists"}),a.a.createElement(r,{text:"Artists"}),a.a.createElement(r,{text:"Albums"}))}function Ot(){var e=Object(b.a)(["\n  padding: ",";\n\n  border-radius: 2px;\n  background-color: ",";\n  border: none;\n  display: block;\n  justify-self: start;\n  width: ",";\n"]);return Ot=function(){return e},e}function jt(){var e=Object(b.a)(["\n  grid-template-columns: 1fr 1fr;\n  display: grid;\n  justify-self: flex-start;\n  grid-gap: ",";\n"]);return jt=function(){return e},e}function Et(){var e=Object(b.a)(["\n  padding: ",";\n  grid-template-columns: 2fr 1fr;\n  display: grid;\n  justify-items: flex-end;\n  align-content: center;\n"]);return Et=function(){return e},e}function xt(){var e=Object(b.a)(["\n  border: 2px solid ",";\n  border-radius: 90px;\n  width: ",";\n  height: ",";\n\n  cursor: pointer;\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n"]);return xt=function(){return e},e}var wt=Object(s.c)(_.i)(xt(),function(e){return e.theme.transparent4},function(e){return 4*e.theme.unit+"px"},function(e){return 4*e.theme.unit+"px"},function(e){return e.theme.transparent4},function(e){return e.theme.white}),St=s.c.header(Et(),function(e){return 2*e.theme.unit+"px"}),Tt=s.c.div(jt(),function(e){return 1*e.theme.unit+"px"}),Ct=s.c.input(Ot(),function(e){return 1*e.theme.unit+"px"},function(e){return e.theme.transparent4},function(e){return 34*e.theme.unit+"px"});function It(e){var n=e.filter,t=e.setFilter,r=e.query,i=e.setQuery;return a.a.createElement(St,null,a.a.createElement(Tt,null,a.a.createElement(Ct,{value:r,placeholder:"Search",onChange:function(e){return i(e.target.value)}}),a.a.createElement(kt,{filter:n,setFilter:t})),a.a.createElement(wt,null))}function Rt(){var e=Object(b.a)(["\n  ","\n"]);return Rt=function(){return e},e}function At(){var e=Object(b.a)(["\n  ","\n"]);return At=function(){return e},e}function zt(){var e=Object(b.a)(["\n  ","\n"]);return zt=function(){return e},e}function Dt(){var e=Object(b.a)(["\n  font-size: 2rem;\n"]);return Dt=function(){return e},e}function Ft(){var e=Object(b.a)(["\n  grid-row: span 2;\n  background-color: ",";\n  display: grid;\n  justify-content: center;\n  grid-gap: ",";\n  padding: ",";\n  grid-template-rows: 40px 40px 40px 1fr;\n\n  & p {\n    padding-top: 5px;\n    font-size: 1.2rem;\n  }\n\n  & div {\n    align-self: flex-end;\n\n    & button {\n      cursor: pointer;\n      padding: 8px;\n      border: none;\n      border-radius: 90px;\n      background: ",";\n      color: ",";\n    }\n  }\n"]);return Ft=function(){return e},e}function Pt(){var e=Object(b.a)(["\n  color: ",";\n  text-decoration: none;\n  display: grid;\n  justify-self: flex-start;\n  grid-template-columns: 2rem 1fr;\n  grid-gap: ",";\n  cursor: pointer;\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n  transition: color 0.4s;\n"]);return Pt=function(){return e},e}var _t=Object(s.c)(u.b)(Pt(),function(e){return e.theme.white},function(e){return 1*e.theme.unit+"px"},function(e){return e.theme.transparent4},function(e){return e.theme.white}),Bt=s.c.nav(Ft(),function(e){return e.theme.transparent},function(e){return 1*e.theme.unit+"px"},function(e){return 4*e.theme.unit+"px"},function(e){return"dark"===e.theme.mode?e.theme.gradient:e.theme.transparentBlack4},function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.primary}),qt=Object(s.b)(Dt()),Lt=Object(s.c)(_.d)(zt(),qt),Nt=Object(s.c)(_.k)(At(),qt),Qt=Object(s.c)(_.e)(Rt(),qt);function Mt(e){var n=e.path,t=e.toggleTheme;return a.a.createElement(Bt,null,a.a.createElement(_t,{to:n},a.a.createElement(Lt,null),a.a.createElement("p",null,"Home")),a.a.createElement(_t,{to:"".concat(n,"/search")},a.a.createElement(Nt,null),a.a.createElement("p",null,"Search")," "),a.a.createElement(_t,{to:"".concat(n,"/library")},a.a.createElement(Qt,null),a.a.createElement("p",null,"Library")),a.a.createElement("div",null," ",a.a.createElement("button",{onClick:t},"dark"===localStorage.getItem("theme")?"Light":"Dark"," Mode")))}function Vt(){var e=Object(b.a)(["\n  background-color: ",";\n  opacity: ",";\n"]);return Vt=function(){return e},e}function Jt(){var e=Object(b.a)(["\n  background-color: ",";\n  opacity: ",";\n"]);return Jt=function(){return e},e}function Gt(){var e=Object(b.a)(["\n  & div {\n    position: absolute;\n    bottom: ",";\n    height: ",";\n    width: 100%;\n    transition: opacity 0.7s;\n    text-align: center;\n    padding: ",";\n    pointer-events: none;\n  }\n"]);return Gt=function(){return e},e}var Ut=s.c.div(Gt(),function(e){return 12*e.theme.unit+"px"},function(e){return 6*e.theme.unit+"px"},function(e){return 1.5*e.theme.unit+"px"}),Ht=s.c.div(Jt(),function(e){return e.theme.red},function(e){return e.active?1:0}),Kt=s.c.div(Vt(),function(e){return e.theme.green},function(e){return e.active?1:0});function Wt(e){var n=e.success,t=e.error,i=Object(r.useState)(""),c=Object(A.a)(i,2),o=(c[0],c[1],Object(r.useState)("")),u=Object(A.a)(o,2),l=(u[0],u[1],Object(r.useState)({success:"",error:""})),s=Object(A.a)(l,2),f=s[0],m=s[1],d=function(e){switch(e.type){case"ADD_TRACK":return"Added track to playlist";case"REMOVE_TRACK":return"Removed Track from playlist";default:return""}},p=function(e){switch(e.type){case"ADD_TRACK":return"Track already in playlist";case"REMOVE_TRACK":return"Track not in playlist"}};return Object(r.useEffect)(function(){n&&m({success:d(n),error:""})},[n]),Object(r.useEffect)(function(){t&&m({success:"",error:p(t)})},[t]),Vn(function(){(f.success||f.error)&&m({error:"",success:""})},(f.success||f.error)&&3e3),a.a.createElement(Ut,null,a.a.createElement(Ht,{active:f.error},f.error),a.a.createElement(Kt,{active:f.success},f.success))}function Yt(e){var n=Object(r.useState)(""),t=Object(A.a)(n,2),i=t[0],c=t[1],o=Object(r.useState)(!1),u=Object(A.a)(o,2),s=u[0],m=u[1],d=e.query,p=e.setQuery,h=e.room,b=e.roomTracks,g=e.libraryResults,v=e.queryResults,y=e.findResult,k=e.setFindQuery,O=e.playerReady,j=e.auth,E=e.match,x=e.roomSuccess,w=e.roomError,S=e.loaded,T=e.toggleTheme,C=Object(r.useState)(!1),I=Object(A.a)(C,2),R=I[0],z=I[1];return Object(r.useEffect)(function(){d&&z(!0)},[d]),Object(r.useEffect)(function(){"search"!==e.history.location.pathname.split("/")[3]&&!0===R&&z(!1)},[e.history.location,R]),Object(r.useEffect)(function(){k({uri:"",name:""})},[e.history.location]),a.a.createElement(Pn,null,a.a.createElement(Bn,null,a.a.createElement(Mt,{path:E.url,toggleTheme:T}),a.a.createElement(It,{filter:i,setFilter:c,query:d,setQuery:p}),S?a.a.createElement(qn,null,a.a.createElement(l.b,{exact:!0,path:"".concat(E.path),component:function(){return a.a.createElement(nn,{room:h,setStartAudio:m,roomTracks:b,topTracks:g.topTracks})}}),a.a.createElement(l.b,{path:"".concat(E.path,"/search"),component:function(){return a.a.createElement(jn,{results:v,filter:i,setFilter:c,addTrack:h.controller.addTrack,removeTrack:h.controller.removeTrack,query:d,setQuery:p,foundTracksName:y.name,foundTracks:y.tracks,setFindQuery:k})}}),R?a.a.createElement(l.a,{to:"/room/".concat(h.state.id,"/search")}):a.a.createElement(l.b,{path:"".concat(E.path,"/library"),component:function(){return a.a.createElement(Tn,{filter:i,setFilter:c,results:g,foundTracks:y.tracks,setFindQuery:k,addTrack:h.controller.addTrack,removeTrack:h.controller.removeTrack,foundTracksName:y.name,selectedTracks:b.playlist})}})):a.a.createElement(_n,{type:"Bars",color:f.white}),a.a.createElement(Ln,null,a.a.createElement(Wt,{success:x,error:w}),O&&h&&h.state.isHost&&S&&a.a.createElement(ht,{auth:j,room:h,roomTracks:b,start:s,setStart:m}))))}function Xt(){var e=Object(b.a)(["\n  bottom: ",';\n  left: calc(50% - 8px);\n  &:before {\n    border-style: solid;\n    border-width: 1px 1px 0 0;\n    content: "";\n    display: inline-block;\n    height: ',";\n    left: 0;\n    position: relative;\n    vertical-align: top;\n    width: ",";\n    transform: rotate(135deg);\n  }\n"]);return Xt=function(){return e},e}function Zt(){var e=Object(b.a)(["\n  text-align: center;\n  text-justify: center;\n  align-self: center;\n\n  & > h1 {\n    font-weight: 700;\n  }\n  & > h5 {\n    font-weight: 300;\n    font-size: 1.7rem;\n    color: ",";\n  }\n  & > p {\n    font-weight: 100;\n    padding-top: ",";\n    font-size: 1rem;\n    color: ",";\n  }\n"]);return Zt=function(){return e},e}function $t(){var e=Object(b.a)(["\n  /* Container to position Song info*/\n\n  position: absolute;\n  min-height: ",";\n  height: ",";\n  width: 100%;\n  bottom: 0px;\n  display: grid;\n"]);return $t=function(){return e},e}function er(){var e=Object(b.a)(['\n  width: 100%;\n  height: 100%;\n  object-fit: "contain";\n']);return er=function(){return e},e}function nr(){var e=Object(b.a)(['\n  /* Adds fade effect to bottom of image*/\n\n  height: 100%;\n  &::before {\n    content: "";\n    background-image: ',';\n    position: absolute;\n    height: 50%; /* based on image height*/\n\n    /* 1 less pixel than padding amount */\n    right: -1px;\n    bottom: 31px;\n    left: -1px;\n  }\n  &::after {\n    content: "";\n    display: block;\n    height: 100vh;\n  }\n']);return nr=function(){return e},e}function tr(){var e=Object(b.a)(["\n  /* Used to position Image */\n  position: relative;\n  top: 0px;\n  height: ",";\n  width: ",";\n  margin: 0 auto;\n  padding: 32px 0;\n"]);return tr=function(){return e},e}function rr(){var e=Object(b.a)(['\n  /* background-color: "black"; */\n  height: calc(100vh - 48px);\n  position: relative;\n']);return rr=function(){return e},e}var ar=s.c.div(rr()),ir=s.c.div(tr(),function(e){return 1.2*e.height+"px"},function(e){return e.width+"px"}),cr=s.c.div(nr(),function(e){return"dark"===e.theme.mode?e.theme.blackFadeGradient:e.theme.whiteFadeGradient}),or=s.c.img(er()),ur=s.c.div($t(),function(e){return 12*e.theme.unit+"px"},function(e){return"calc(100vh - 24px - ".concat(e.height,"px)")}),lr=s.c.div(Zt(),function(e){return"dark"===e.theme.mode?e.theme.transparent4:e.theme.transparentBlack2},function(e){return 1*e.theme.unit+"px"},function(e){return"dark"===e.theme.mode?e.theme.transparent3:e.theme.secondary}),sr=Object(s.c)(Xe)(Xt(),function(e){return 1*e.theme.unit+"px"},function(e){return 2*e.theme.unit+"px"},function(e){return 2*e.theme.unit+"px"});function fr(e){var n=e.AudioVisualizer,t=e.title,r=e.artist,i=e.nextTrack,c=e.image;return a.a.createElement(ar,null,a.a.createElement(ir,{width:c.width,height:c.height},a.a.createElement(cr,null,a.a.createElement(or,{src:c.url}))),a.a.createElement(ur,{height:c.height},a.a.createElement(lr,null,a.a.createElement(n,null),a.a.createElement("h1",null,t),a.a.createElement("h5",null,r),a.a.createElement("p",null," ","Up next ",i.artist," : ",i.title))),a.a.createElement(sr,null))}function mr(){return a.a.createElement("div",null)}function dr(){var e=Object(b.a)(["\n  font-size: 0.8rem;\n  display: grid;\n  grid-template-columns: 48px 1fr 48px;\n  margin-bottom: ",";\n  align-items: center;\n  width: 100%;\n  background-color: ",";\n\n  & img {\n    height: ",";\n    width: ",";\n  }\n  & div {\n    padding: 0 0 0 ",";\n    overflow: hidden;\n    & h3 {\n      font-size: 0.8rem;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    & p {\n      display: inline;\n      color: ",";\n      font-weight: 100;\n      text-transform: capitalize;\n    }\n  }\n\n  & button {\n    height: ",";\n    width: ",';\n    background: none;\n    border: none;\n    color: whitesmoke;\n    font-size: 2rem;\n    text-align: center;\n    text-justify: center;\n  }\n  & li {\n    display: inline;\n    text-transform: capitalize;\n  }\n  & li:first-child::after {\n    content: "\u2022";\n    color: white;\n    padding: 0 3px;\n  }\n']);return dr=function(){return e},e}function pr(){var e=Object(b.a)(["\n  justify-self: center;\n  align-self: center;\n"]);return pr=function(){return e},e}function hr(){var e=Object(b.a)(["\n  padding: 0 ",";\n"]);return hr=function(){return e},e}function br(){var e=Object(b.a)(["\n  height: ",";\n  position: relative;\n  display: grid;\n"]);return br=function(){return e},e}var gr=s.c.div(br(),function(e){return En()?"calc(92vh - 56px)":"calc(100vh - 56px)"}),vr=s.c.ul(hr(),function(e){return 2*e.theme.unit+"px"}),yr=Object(s.c)(In.a)(pr()),kr=s.c.li(dr(),function(e){return 2*e.theme.unit+"px"},function(e){return"dark"===e.theme.mode?"":e.theme.transparent3},function(e){return 6*e.theme.unit+"px"},function(e){return 6*e.theme.unit+"px"},function(e){return 1*e.theme.unit+"px"},function(e){return"dark"===e.theme.mode?e.theme.transparent4:e.theme.transparentBlack},function(e){return 6*e.theme.unit+"px"},function(e){return 6*e.theme.unit+"px"});function Or(e){var n=e.roomTracks,t=n.playlist,r=n.currentSong,i=t&&t[t.indexOf(t.filter(function(e){return e.uri===r.uri})[0])+1]||{artist:null,title:null};return a.a.createElement(gr,null,r&&t?a.a.createElement(a.a.Fragment,null," ",a.a.createElement(fr,{AudioVisualizer:mr,title:r.name,artist:r.artists[0].name,image:r.getImages().medium,nextTrack:{artist:i.artist,title:i.name}})," ",a.a.createElement(D,{items:t,Style:vr},a.a.createElement(function(e){var n=e.src,t=e.name,r=e.labels;return a.a.createElement(kr,null,n&&a.a.createElement("img",{src:n}),a.a.createElement("div",null,a.a.createElement("h3",null,t),a.a.createElement("ul",null,r&&r.map(function(e,n){return a.a.createElement("p",{key:n},e)}))),a.a.createElement("button",null,"+"))},{src:function(e){return e.getImages().default.url},name:function(e){return e.name},labels:function(e){return e.getLabels().map(function(e){return"".concat(e," ")}).slice(1,3)}}))):a.a.createElement(yr,{type:"Bars",color:f.white}))}function jr(){var e=Object(b.a)(["\n  width: 100%;\n  display: grid;\n  grid-gap: ",";\n  border-bottom: 1px solid ",";\n  padding: ",";\n  position: fixed;\n  background-color: ",";\n  background-image: ",";\n  z-index: 10;\n  & input {\n    margin: 0px;\n    background-color: ",";\n    border: none;\n    border-bottom: 1px solid ",";\n    width: 100%;\n    height: ",";\n    color: ",";\n    font-size: 1.75rem;\n    padding: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n"]);return jr=function(){return e},e}function Er(){var e=Object(b.a)(["\n  padding-bottom: ",";\n  background-color: ",";\n"]);return Er=function(){return e},e}var xr=s.c.div(Er(),function(e){return 20*e.theme.unit+"px"},function(e){return"dark"===e.theme.mode?e.theme.black:e.theme.white}),wr=s.c.div(jr(),function(e){return 2*e.theme.unit+"px"},function(e){return e.theme.white},function(e){return 2*e.theme.unit+"px"},function(e){return e.theme.darkestGray},function(e){return"light"===e.theme.mode&&e.theme.gradient},function(e){return e.theme.transparent},function(e){return e.theme.white},function(e){return 8*e.theme.unit+"px"},function(e){return e.theme.white},function(e){return 2*e.theme.unit+"px"},function(e){return e.theme.transparent4});function Sr(e){var n=e.query,t=e.setQuery,r=e.filter,i=e.setFilter;return a.a.createElement(xr,null,a.a.createElement(wr,null,a.a.createElement("input",{placeholder:"Enter a query",value:n,onChange:function(e){return t(e.target.value)}}),a.a.createElement(kt,{filter:r,setFilter:i})))}function Tr(){var e=Object(b.a)(["\n  height: ",";\n  position: relative;\n"]);return Tr=function(){return e},e}var Cr=s.c.div(Tr(),function(){return En()?"calc(92vh - 216px)":"calc(100vh - 216px)"});function Ir(e){return a.a.createElement(Cr,null,a.a.createElement(hn,e))}function Rr(){var e=Object(b.a)(["\n  height: ",";\n  width: 100%;\n  position: fixed;\n  background-color: ",";\n  background-image: ",";\n  & i {\n    color: ",";\n  }\n"]);return Rr=function(){return e},e}function Ar(){var e=Object(b.a)(["\n  ","\n  position:absolute;\n  top: 0px;\n  right: 5px;\n  pointer-events: none;\n"]);return Ar=function(){return e},e}function zr(){var e=Object(b.a)(["\n  ","\n  border-top: 1px solid ",";\n  justify-items: center;\n"]);return zr=function(){return e},e}function Dr(){var e=Object(b.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: center;\n"]);return Dr=function(){return e},e}var Fr=Object(s.b)(Dr()),Pr=s.c.div(zr(),Fr,function(e){return e.theme.white}),_r=s.c.div(Ar(),Fr),Br=s.c.div(Rr(),function(e){return 7*e.theme.unit+"px"},function(e){return e.theme.darkestGray},function(e){return"light"===e.theme.mode&&e.theme.gradient},function(e){return e.theme.white});function qr(e){var n=e.path;return a.a.createElement(Br,null,a.a.createElement(Pr,null,a.a.createElement(_r,null,a.a.createElement("span",null,"|"),a.a.createElement("span",null,"|"),a.a.createElement("span",null,"|")),a.a.createElement(u.b,{to:n},a.a.createElement("i",{className:"fas fa-music"})),a.a.createElement(u.b,{to:"".concat(n,"/search")},a.a.createElement("i",{className:"fas fa-search"})),a.a.createElement(u.b,{to:"".concat(n,"/library")},a.a.createElement("i",{className:"fas fa-heart"}))))}function Lr(){var e=Object(b.a)(["\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  color: ",";\n\n  background-color: ",";\n\n  font-size: 1.5rem;\n  overflow: scroll;\n"]);return Lr=function(){return e},e}var Nr=s.c.div(Lr(),function(e){return"dark"===e.theme.mode?e.theme.white:e.theme.black},function(e){return"dark"===e.theme.mode?e.theme.black:e.theme.white});function Qr(e){var n=e.query,t=e.setQuery,i=e.room,c=e.roomTracks,o=e.libraryResults,u=e.queryResults,s=e.findResult,f=e.setFindQuery,m=(e.playerReady,e.auth,e.match),d=e.filter,p=e.setFilter,h=Object(r.useState)(!1),b=Object(A.a)(h,2),g=b[0],v=b[1];return Object(r.useEffect)(function(){n&&v(!0)},[n]),Object(r.useEffect)(function(){"search"!==e.history.location.pathname.split("/")[3]&&!0===g&&v(!1)},[e.history.location,g]),Object(r.useEffect)(function(){f({uri:"",name:""})},[e.history.location]),a.a.createElement(Nr,null,a.a.createElement(l.b,{exact:!0,path:"".concat(m.path),component:function(){return a.a.createElement(Or,{roomTracks:c})}}),a.a.createElement(l.b,{path:"".concat(m.path,"/search"),component:function(){return a.a.createElement(Ir,{results:u,filter:d,setFilter:p,addTrack:i.controller.addTrack,removeTrack:i.controller.removeTrack,query:n,foundTracksName:s.name,foundTracks:s.tracks,setFindQuery:f,setQuery:t})}}),g?a.a.createElement(l.a,{to:"/room/".concat(i.state.id,"/search")}):a.a.createElement(l.b,{path:"".concat(m.path,"/library"),component:function(){return a.a.createElement(Tn,{filter:d,setFilter:p,results:o,foundTracks:s.tracks,setFindQuery:f,addTrack:i.controller.addTrack,removeTrack:i.controller.removeTrack,foundTracksName:s.name,selectedTracks:c.playlist})}}),a.a.createElement(qr,{path:m.url}))}var Mr=t(63),Vr=t.n(Mr);function Jr(e){var n=function(){var e=Vr.a.connect("https://airplayer.herokuapp.com"),n=Object(r.useState)(""),t=Object(A.a)(n,2),a=t[0],i=t[1],c=Object(r.useState)({type:"",payload:""}),u=Object(A.a)(c,2),l=u[0],s=u[1],f=function(e){return{joinRoom:function(n,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return e.emit("JOIN_ROOM",{id:n,userId:t,password:null,token:r,topTracks:a,accessToken:i})},addTrack:function(n){return e.emit("ADD_TRACK",{uri:n})},removeTrack:function(n){return e.emit("REMOVE_TRACK",{uri:n})},updatePlaylist:function(n){return e.emit("UPDATE_PLAYLIST",n)},play:function(n){return e.emit("PLAY",{uri:n})},pause:function(){return e.emit("PAUSE",null)},resume:function(){return e.emit("RESUME",null)},seek:function(n){return e.emit("SEEK",n)}}},m=Object(r.useState)({state:{},controller:f(e),error:""}),d=Object(A.a)(m,2),p=d[0],h=d[1];return Object(r.useEffect)(function(){e.on("ROOM_CREATED",function(e){return s({type:"ROOM_CREATED",payload:e,message:"Room Created"})}),e.on("ROOM_UPDATED",function(n){console.log(n),h(Object(o.a)({},p,{state:Object(o.a)({},n,{isHost:e.id===n.host}),controller:f(e)}))}),e.on("ERROR",function(e){var n=e.type,t=e.payload,r=e.message,a=e.code;return i({type:n,payload:t,message:r,code:a})}),e.on("SUCCESS",function(e){var n=e.type,t=e.payload,r=e.message;return s({type:n,payload:t,message:r})})},[p]),{room:p,roomError:a,roomSuccess:l}}(),t=n.room,i=n.roomSuccess,c=n.roomError,u=function(e,n){var t=Object(r.useState)({currentSong:null,playlist:null,filtered:null,generated:null}),a=Object(A.a)(t,2),i=a[0],c=a[1],o=Ee(e.accessToken);return Object(r.useEffect)(function(){if(n&&n.state&&n.state.currentSong&&n.state.playlist&&n.state.recommendations&&n.state.recommendations.playlist){var e=o.find({track:{where:{id:n.state.currentSong.uri.split(":")[2]}}}),t=Promise.all(n.state.playlist.map(function(e){return o.find({track:{where:{id:e.uri.split(":")[2]}}})})),r=Promise.all(n.state.recommendations.playlist.selected.map(function(e){return o.find({track:{where:{id:e.uri.split(":")[2]}}})})),a=Promise.all(n.state.recommendations.playlist.generated.map(function(e){return o.find({track:{where:{id:e.uri.split(":")[2]}}})}));Promise.all([e,t,r,a]).then(function(e){var n=Object(A.a)(e,4),t=n[0],r=n[1],a=n[2],i=n[3];Reflect.setPrototypeOf(t,Re()),r.map(function(e){return Reflect.setPrototypeOf(e,Re())}),a.map(function(e){return Reflect.setPrototypeOf(e,Re())}),i.map(function(e){return Reflect.setPrototypeOf(e,Re())}),c({currentSong:t,playlist:r,filtered:a,generated:i})})}},[n.state]),{roomTracks:i}}(e.auth,t).roomTracks,s=function(e){var n=Object(r.useState)({tracks:[],artists:[],playlists:[],albums:[],topTracks:[]}),t=Object(A.a)(n,2),a=t[0],i=t[1],c=Ee(e.accessToken);return Object(r.useEffect)(function(){var n=function(){var e=Object(je.a)(ke.a.mark(function e(){var n,t,r,i,o,u,l,s;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(a).map(function(e){switch(e){case"tracks":case"albums":return c.user().library().get(e);case"artists":return c.user().artists();case"playlists":return c.user().playlists();case"topTracks":return c.user().top("tracks")}}),e.next=3,Promise.all(n);case 3:return t=e.sent,r=t[0].error?[]:t[0].items.map(function(e){return e.track}),i=t[1].error?[]:t[1].artists.items,o=t[2].error?[]:t[2].items,u=t[3].error?[]:t[3].items.map(function(e){return e.album}),l=t[4].error?[]:t[4].items,(s=[r,i,o,u,l]).forEach(function(e){return e.forEach(function(e){return Reflect.setPrototypeOf(e,Re())})}),e.abrupt("return",Object.assign.apply(Object,[{}].concat(Object(J.a)(Object.keys(a).map(function(e,n){return Object(Oe.a)({},e,s[n])})))));case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();e.accessToken&&n().then(function(e){i(e)})},[e.accessToken]),{libraryResults:a}}(e.auth).libraryResults,m=Ae(e.auth),d=m.query,p=m.setQuery,h=m.queryResults,b=function(e){var n=Object(r.useState)({uri:"",name:""}),t=Object(A.a)(n,2),a=t[0],i=t[1],c=Object(r.useState)({tracks:[],name:""}),o=Object(A.a)(c,2),u=o[0],l=o[1],s=Ee(e.accessToken);Object(r.useEffect)(function(){var e=function(){var e=Object(je.a)(ke.a.mark(function e(n,t){return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="album"===e.t0?3:"artist"===e.t0?4:"playlist"===e.t0?5:6;break;case 3:return e.abrupt("return",d(t));case 4:return e.abrupt("return",f(t));case 5:return e.abrupt("return",m(t));case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}();if(""!==a.uri){var n=a.uri.split(":").slice(-2),t=Object(A.a)(n,2);e(t[0],t[1]).then(function(e){l({tracks:e,name:a.name})})}else l({tracks:null,name:null})},[a]);var f=function(){var e=Object(je.a)(ke.a.mark(function e(n){var t;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.find({topTracks:{where:{artist:{id:n}},market:"AU"}});case 2:return(t=e.sent).tracks.forEach(function(e){Reflect.setPrototypeOf(e,Re())}),e.abrupt("return",t.tracks);case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=Object(je.a)(ke.a.mark(function e(n){var t,r;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.find({tracks:{where:{playlist:{id:n}}}});case 2:return t=e.sent,(r=t.items.map(function(e){return e.track})).forEach(function(e){Reflect.setPrototypeOf(e,Re())}),e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=Object(je.a)(ke.a.mark(function e(n){var t,r,a,i;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([s.find({tracks:{where:{albums:{id:n}}}}),s.find({album:{where:{id:n}}})]);case 2:return t=e.sent,r=Object(A.a)(t,2),a=r[0],i=r[1],a.items.forEach(function(e){e.images=i.images,Reflect.setPrototypeOf(e,Re())}),e.abrupt("return",a.items);case 8:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();return[u,i]}(e.auth),g=Object(A.a)(b,2),v=g[0],y=g[1],k=De(e.auth),O=e.auth.accessToken&&t.state&&t.state.currentSong&&u&&u.currentSong&&k,j=function(){var e=Object(r.useState)("desktop"),n=Object(A.a)(e,2),t=n[0],a=n[1],i=function(){var e=f.breakpoints.mobile.substring(0,f.breakpoints.mobile.length-2);window.innerWidth<e?a("mobile"):a("tablet")};return Object(r.useEffect)(function(){return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),Object(r.useEffect)(function(){return i()},[]),{breakpoint:t}}().breakpoint;Object(r.useEffect)(function(){if(k&&k.id&&s&&s.topTracks&&s.topTracks.length>0&&e.auth.accessToken){var n=window.location.pathname.split("/")[2],r=(JSON.parse(localStorage.getItem("tokens"))||{})[n];t.controller.joinRoom(n,k.uri,"",r||null,s.topTracks.map(function(e){return{uri:e.uri}}),e.auth.accessToken)}},[k,s,e.auth.accessToken]);var E=t&&t.state&&t.state.currentSong&&t.state.currentSong.uri&&u&&u.currentSong&&u.currentSong.uri&&s&&(s.tracks||s.artists||s.albums||s.playlists),x=Object(r.useState)(""),w=Object(A.a)(x,2),S=w[0],T=w[1],C=Object(o.a)({loaded:E,playerReady:O,room:t,roomTracks:u,findResult:v,setFindQuery:y,query:d,setQuery:p,queryResults:h,libraryResults:s,auth:e.auth,roomSuccess:i,roomError:c,filter:S,setFilter:T},e);return a.a.createElement(a.a.Fragment,null,"mobile"===j?a.a.createElement(a.a.Fragment,null,a.a.createElement(l.b,{path:"".concat(e.match.path,"/search"),render:function(){return a.a.createElement(Sr,{query:d,setQuery:p,filter:S,setFilter:T})}}),a.a.createElement(Qr,C)):a.a.createElement(a.a.Fragment,null,a.a.createElement(Yt,C)))}JSON.parse(localStorage.getItem("authData"));d.init();var Gr=function(){var e=localStorage.getItem("theme"),n=function(){localStorage.setItem("theme","light"===e||null===e?"dark":"light"),window.location.reload()};return a.a.createElement(s.a,{theme:"light"===e||null===e?f:Object(o.a)({},f,{mode:"dark"})},a.a.createElement(u.a,null,a.a.createElement(l.b,{exact:!0,path:"/",component:function(e){return a.a.createElement(I,Object.assign({},e,{auth:d}))}}),a.a.createElement(l.b,{path:"/roomsearch",component:function(){return a.a.createElement(We,{auth:d})}}),a.a.createElement(l.b,{path:"/room/:roomid",component:function(e){return a.a.createElement(Jr,Object.assign({},e,{auth:d,toggleTheme:n}))}}),a.a.createElement(l.b,{path:"/auth/callback",component:function(e){return a.a.createElement(R,Object.assign({},e,{auth:d}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(Gr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},30:function(e,n,t){},55:function(e,n,t){e.exports=t.p+"static/media/spotifyLogo.ddd851ef.png"},67:function(e,n,t){e.exports=t(125)}},[[67,1,2]]]);
//# sourceMappingURL=main.3954f5f3.chunk.js.map