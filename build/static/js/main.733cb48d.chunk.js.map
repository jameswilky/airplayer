{"version":3,"sources":["theme.js","modules/Auth.js","pages/Agnostic/Landing/styles.js","pages/Agnostic/Landing/Landing.js","pages/Agnostic/Callback.js","components/List.js","components/ListItem.js","components/Modal/styles.js","components/Modal/Modal.js","components/CreateRoomForm/styles.js","components/Carousel/styles.js","components/Carousel/Carousel.js","modules/Spotify/index.js","hooks/useInterval.js","hooks/useDebounce.js","helpers/ObjectUtils.js","modules/SpotifyHelper/SpotifyHelper.js","hooks/useSearch/useSearch.js","components/CreateRoomForm/CreateRoomForm.js","hooks/useProfile.js","styles/StyledListItem.js","pages/Agnostic/RoomSearch/styles.js","pages/Agnostic/RoomSearch/RoomSearch.js","styles/Chevron.js","pages/Desktop/Home/styles.js","pages/Desktop/Home/Home.js","components/Results/styles.js","components/Result/styles.js","components/Result/Result.js","components/Results/Results.js","components/SongList.js","pages/Agnostic/Search/styles.js","pages/Agnostic/Search/Search.js","modules/deviceHasHeader.js","pages/Agnostic/Library/styles.js","pages/Agnostic/Library/Library.js","pages/Desktop/RoomView/styles.js","hooks/useWebplayer/reducer.js","hooks/useTimeout.js","hooks/useWebplayer/index.js","hooks/useWebplayer/useQue.js","hooks/useWebplayer/useSetup.js","hooks/useWebplayer/useVolume.js","hooks/useWebplayer/useSeek.js","hooks/useWebplayer/usePlay.js","hooks/useWebplayer/useTogglePause.js","components/VolumeSlider.js","components/AudioSlider/styles.js","components/AudioSlider/AudioSlider.js","components/SpotifyWebplayer/styles.js","components/MusicController.js","components/SpotifyWebplayer/SpotifyWebplayer.js","components/SearchFilter/styles.js","components/SearchFilter/SeachFilter.js","components/DesktopHeader/styles.js","components/DesktopHeader/DesktopHeader.js","components/Sidebar/styles.js","components/Sidebar/Sidebar.js","components/Message/styles.js","components/Message/Message.js","pages/Desktop/RoomView/RoomView.js","components/CurrentTrack/styles.js","components/CurrentTrack/CurrentTrack.js","components/AudioVisualizer.js","pages/Mobile/Home/styles.js","pages/Mobile/Home/Home.js","components/SearchBar/styles.js","components/SearchBar/SearchBar.js","pages/Mobile/Search/Search.js","components/MobileMenu.js","pages/Mobile/RoomView/RoomView.js","pages/Agnostic/Room/Room.js","hooks/useRoom.js","hooks/useRoomTracks.js","hooks/useLibrary.js","hooks/useFind.js","hooks/useBreakpoint.js","App.js","serviceWorker.js","index.js","images/spotifyLogo.png"],"names":["theme","primary","secondary","black","gradient","blackFadeGradient","whiteFadeGradient","darkestGray","darkerGray","darkGray","gray","lightGray","lighterGray","green","red","transparent5","transparent4","transparent3","transparent2","transparent","transparentBlack","transparentBlack2","transparentBlack3","transparentBlack4","transparentBlack5","white","breakpoints","mobile","laptop","desktop","unit","mode","shadow","getHashParams","e","hashParams","r","q","window","location","hash","substring","exec","decodeURIComponent","Auth","accessToken","refreshToken","accessTokenCreationTime","refreshTimer","cacheAuthData","authData","localStorage","getItem","Object","assign","this","JSON","parse","refreshAccessToken","_this","fetch","concat","then","res","json","data","nextAuthData","access_token","Date","now","setItem","stringify","startRefreshTimer","_this2","clearInterval","setInterval","anHour","init","login","refresh_token","logout","spotifyWindow","open","setTimeout","close","removeItem","reload","Background","styled","div","_templateObject","props","Head","_templateObject2","Body","_templateObject3","Submit","button","_templateObject4","Button","input","_templateObject5","_templateObject6","_templateObject7","Landing","react_default","a","createElement","auth","Fragment","react_router_dom","to","onClick","styles_Button","src","spotifyLogo","alt","href","Callback","useEffect","List","_props$items","items","_props$Style","Style","ul","List_templateObject","_props$limit","limit","length","children","slice","map","item","i","React","cloneElement","objectSpread","childProps","fromEntries","entries","filter","_ref","slicedToArray","_ref3","_ref4","propName","callback","handler","ItemProps","key","ListItem","name","labels","_ref$Style","li","ListItem_templateObject","_ref$filter","_ref$onClick","_ref$button","label","Container","styles_templateObject","show","Title","p","styles_templateObject2","styles_templateObject3","Modal","setShow","title","index_esm","type","styles_Body","CreateRoomForm_styles_templateObject","SearchForm","CreateRoomForm_styles_templateObject2","CreateForm","form","CreateRoomForm_styles_templateObject3","CreateButton","styles_templateObject4","TickIcon","IoIosCheckmark","Carousel_styles_templateObject","AddIcon","IoIosAdd","Carousel_styles_templateObject2","IconUnderlay","Carousel_styles_templateObject3","StyledList","Carousel_styles_templateObject4","StyledContainer","styles_templateObject5","StyledItem","styles_templateObject6","StyledItemContainer","span","styles_templateObject7","StyledOverlay","_templateObject8","_templateObject9","ItemTemplate","uri","selected","addItem","Carousel","height","selectedItems","Carousel_ItemTemplate","getImages","default","url","getArtists","artist","some","obj","String","prototype","replaceAll","search","replacement","split","join","undefined","arr","apply","toConsumableArray","Array","from","_ref2","k","v","defineProperty","Spotify","token","send","arguments","api","request","query","body","options","headers","Authorization","Content-type","method","encodeURI","string","put","get","remove","merge","template","_ref5","appendOptions","pluralize","str","hyphenize","replace","m","toLowerCase","depthOf","object","level","hasOwnProperty","depth","Math","max","innerKeys","o","keys","reduce","findQuery","conditionBased","target","condition","where","id","option","parseOptions","isEmpty","singleSearch","multiSearch","ids","values","_ref6","_ref6$query","_ref6$type","_ref6$offset","offset","_ref6$limit","_ref6$market","market","_ref6$wildcard","wildcard","queryString","find","user","userQuery","_ref7","_ref7$id","_ref7$ids","_ref7$suffix","suffix","_ref7$prefix","prefix","follows","params","follow","unfollow","getFollowed","library","libraryQuery","libraryBody","_ref8","contains","_ref9","delete","add","top","me","playlists","artists","player","useInterval","delay","savedCallback","useRef","current","useDebounce","cb","dependencies","_useState","useState","_useState2","updated","setUpdated","useCallback","getKey","getNestedProperty","prop","results","entry","arrayToObject","array","names","fallbackImages","large","width","medium","small","ItemPrototype","album","images","getLabels","owner","display_name","useSearch","setQuery","_useState3","tracks","albums","_useState4","queryResults","setQueryResults","spotify","getQueries","asyncToGenerator","regenerator_default","mark","_callee","queries","wrap","_context","prev","next","Promise","all","sent","abrupt","stop","_x","nextResults","document","activeElement","blur","addEventListener","removeEventListener","getItems","itemsByType","forEach","Reflect","setPrototypeOf","CreateRoomForm","initialData","password","userId","playlist","setData","created","tracksSelected","done","roomState","setRoomState","_useSearch","dataWithoutPassword","objectWithoutProperties","roomId","room","tokens","react_router","styles_Container","value","onChange","placeholder","track","required","useProfile","setUser","StyledListItem_templateObject","RoomSearch_styles_templateObject","RoomSearch_styles_templateObject2","RoomSearch_styles_templateObject3","RoomSearch_styles_templateObject4","ExtendedStyledListItem","StyledListItem","RoomSearch_styles_templateObject5","RoomSearch_styles_templateObject6","RoomSearch_styles_templateObject7","RoomSearch","rooms","setRooms","getMinutesSince","start","round","getTime","getTimeSince","minutesSince","reverse","createdAt","resultFilter","setResultFilter","_useState5","_useState6","showModal","setShowModal","styles_Background","RoomSearch_styles_Container","styles_Head","RoomSearch_styles_Body","includes","RoomSearch_styles_Button","JoinButton","Chevron","Chevron_templateObject","visibility","Home_styles_templateObject","Home_styles_templateObject2","Home","roomTracks","setStartAudio","topTracks","play","controller","Home_styles_Container","currentSong","stopPropagation","removeTrack","filtered","generated","Results_styles_templateObject","NoQuery","Results_styles_templateObject2","Result_styles_templateObject","Result_styles_templateObject2","StyledChevron","Result_styles_templateObject3","direction","Result","actions","_ref$handleItemClick","handleItemClick","_ref$handleHeaderClic","handleHeaderClick","action","func","icon","Result_styles_Container","styles_StyledChevron","Results","setFilter","_props$results","Results_styles_Container","result","bool","path","onItemClick","onHeaderClick","SongList","foundTracks","setFindQuery","foundTracksName","addTrack","console","log","Search_styles_templateObject","Icon","css","Search_styles_templateObject2","Search_styles_templateObject3","Search_styles_templateObject4","Search","Search_styles_Container","deviceHasHeader","ua","navigator","userAgent","test","Library_styles_templateObject","Library_styles_templateObject2","Library","selectedTracks","Library_styles_Container","RoomView_styles_templateObject","Spinner","Loader","RoomView_styles_templateObject2","RoomView_styles_templateObject3","Main","main","RoomView_styles_templateObject4","Footer","footer","RoomView_styles_templateObject5","reducer","state","payload","device_id","ready","paused","playing","recommendations","lastSeek","useTimeout","clearTimeout","useWebplayer","duration","_useReducer","useReducer","_useReducer2","deviceState","dispatch","loadScript","setLoadScript","_useQue","skipAttempts","trackFinished","setTrackFinished","remaining","setRemaining","queTrack","pos","nextSongIndex","indexOf","nextSong","useQue","setPlayer","onSpotifyWebPlaybackSDKReady","Player","getOAuthToken","connect","success","error","addListener","message","handleStateChange","position","removeListener","useSetup","_useVolume","volume","setVolume","useVolume","seek","useSeek","uris","Content-Type","pause","usePlay","resume","useTogglePause","HoverArea","VolumeSlider_templateObject","SliderBackground","VolumeSlider_templateObject2","VolumeSlider","onMouseEnter","onMouseLeave","style","cursor","dist_index_esm","axis","y","styles","thumb","backgroundColor","borderRadius","opacity","transition","boxShadow","Slider","AudioSlider_styles_templateObject","ProgressBar","attrs","AudioSlider_styles_templateObject2","AudioSlider","trackPosition","setTrackPosition","prevSeek","min","className","seekDestinationMs","parseInt","SpotifyWebplayer_styles_templateObject","SpotifyWebplayer_styles_templateObject2","Left","SpotifyWebplayer_styles_templateObject3","Right","SpotifyWebplayer_styles_templateObject4","SpotifyWebplayer_styles_templateObject5","MusicController_templateObject","MusicController","setStart","isFirstTrack","isLastTrack","MusicController_Container","SpotifyWebplayer","scriptState","setScriptState","duration_ms","_useWebplayer","lib_default","onError","onLoad","loaded","SpotifyWebplayer_styles_Container","SpotifyWebplayer_styles_Body","styles_Spinner","color","SearchFilter_styles_templateObject","SearchFilter_styles_templateObject2","active","SeachFilter","RadioButton","text","SearchFilter_styles_Button","SearchFilter_styles_Container","ProfileIcon","IoIosPerson","DesktopHeader_styles_templateObject","header","DesktopHeader_styles_templateObject2","Wrapper","DesktopHeader_styles_templateObject3","SearchBar","DesktopHeader_styles_templateObject4","DesktopHeader","DesktopHeader_styles_Container","StyledLink","Link","Sidebar_styles_templateObject","nav","Sidebar_styles_templateObject2","Sidebar_styles_templateObject3","HomeIcon","IoIosHome","Sidebar_styles_templateObject4","SearchIcon","IoIosSearch","Sidebar_styles_templateObject5","LibraryIcon","IoIosList","Sidebar_styles_templateObject6","Sidebar","toggleTheme","Sidebar_styles_Container","Message_styles_templateObject","Error","Message_styles_templateObject2","Success","Message_styles_templateObject3","Message","setMessage","generateSuccessMessage","generateErrorMessage","Message_styles_Container","RoomView","startAudio","libraryResults","findResult","playerReady","match","roomSuccess","roomError","redirect","setRedirect","history","pathname","RoomView_styles_Background","RoomView_styles_Container","exact","component","isHost","CurrentTrack_styles_templateObject","ImageContainer","CurrentTrack_styles_templateObject2","ImageWrapper","CurrentTrack_styles_templateObject3","Image","img","CurrentTrack_styles_templateObject4","Overlay","CurrentTrack_styles_templateObject5","SongInfoContainer","CurrentTrack_styles_templateObject6","CurrentTrack_styles_templateObject7","CurrentTrack","AudioVisualizer","nextTrack","image","CurrentTrack_styles_Container","CurrentTrack_styles_StyledChevron","Mobile_Home_styles_templateObject","Mobile_Home_styles_templateObject2","Home_styles_templateObject3","Home_styles_templateObject4","styles_StyledItem","_props$roomTracks","Mobile_Home_styles_Container","Home_styles_Spinner","SearchBar_styles_templateObject","SearchBar_styles_templateObject2","styles_Wrapper","SearchBar_styles_Container","Search_templateObject","Search_Container","Row","MobileMenu_templateObject","MobileMenu_templateObject2","Underlay","MobileMenu_templateObject3","MobileMenu_templateObject4","MobileMenu","MobileMenu_Container","MobileMenu_Body","RoomView_templateObject","RoomView_Container","Home_Home","Search_Search","Room","_useRoom","socket","io","setError","setSuccess","Controller","joinRoom","emit","updatePlaylist","destination","setRoom","on","nextRoomState","host","code","useRoom","setRoomTracks","currentSongPromise","playlistPromise","filteredPromise","generatedPromise","useRoomTracks","nextQueryResults","useLibrary","_useFind","setFindResult","getTracks","t0","getAlbumTracks","getArtistTracks","getPlaylistTracks","_x2","_findQuery$uri$split$","_findQuery$uri$split$2","_callee2","collection","_context2","_x3","_callee3","_context3","_x4","_callee4","_context4","_x5","useFind","_useFind2","breakpoint","setBreakpoint","handleResize","innerWidth","useBreakpoint","viewProps","render","SearchBar_SearchBar","RoomView_RoomView","App","activeTheme","styled_components_browser_esm","Boolean","hostname","ReactDOM","src_App","getElementById","serviceWorker","registration","unregister","module","exports","__webpack_require__"],"mappings":"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","file":"static/js/main.733cb48d.chunk.js","sourcesContent":["export default {\n  primary: \"rgba(242, 162, 176)\",\n  secondary: \"rgba(242,182,147)\",\n  black: `rgba(20, 20, 20, 1)`,\n\n  gradient: `linear-gradient(to top left, rgba(242, 182, 147), rgba(242, 162, 176))`,\n  blackFadeGradient: `linear-gradient(\n    to top,\n    rgba(20, 20, 20, 1),\n    rgba(20, 20, 20, 0)\n  )`,\n  whiteFadeGradient: `linear-gradient(\n    to top,\n    rgba(245, 245, 245, 1),\n    rgba(242, 182, 147, 0 )\n  )`,\n  darkestGray: `rgba(30, 30, 30, 1)`,\n  darkerGray: `rgba(50, 50, 50, 1)`,\n  darkGray: `rgba(120, 120, 120, 1)`,\n  gray: `rgba(175, 175, 175, 1)`,\n  lightGray: `rgba(200, 200, 200, 1)`,\n  lighterGray: `rgba(225, 225, 225, 1)`,\n\n  green: `rgba(20, 215, 20, 0.7)`,\n  red: `rgba(242, 20, 20, 0.7)`,\n\n  transparent5: `rgba(245, 245, 245, 0.8)`,\n  transparent4: `rgba(245, 245, 245, 0.6)`,\n  transparent3: `rgba(245, 245, 245, 0.3)`,\n  transparent2: `rgba(245, 245, 245, 0.15)`,\n  transparent: `rgba(245, 245, 245, 0.07)`,\n\n  transparentBlack: `rgba(20,20,20,0.8)`,\n  transparentBlack2: `rgba(20,20,20,0.7)`,\n  transparentBlack3: `rgba(20,20,20,0.6)`,\n  transparentBlack4: `rgba(20,20,20,0.5)`,\n  transparentBlack5: `rgba(20,20,20,0.3)`,\n\n  white: `rgba(245, 245, 245, 1)`,\n\n  breakpoints: {\n    mobile: \"667px\",\n    laptop: \"768px\",\n    desktop: \"1080px\"\n  },\n\n  unit: \"8\",\n\n  mode: \"light\",\n\n  shadow: \"1px 1px 3px 1px rgba(0, 0, 0, 0.5)\"\n};\n","const anHour = 3600000; // in milliseconds\n\nconst getHashParams = () => {\n  let hashParams = {};\n  let e,\n    r = /([^&;=]+)=?([^&;]*)/g,\n    q = window.location.hash.substring(1);\n  e = r.exec(q);\n  while (e) {\n    hashParams[e[1]] = decodeURIComponent(e[2]);\n    e = r.exec(q);\n  }\n  return hashParams;\n};\n\nexport default {\n  accessToken: null,\n  refreshToken: null,\n  accessTokenCreationTime: null,\n  refreshTimer: null,\n\n  cacheAuthData: function() {\n    const authData = localStorage.getItem(\"authData\");\n    Object.assign(this, JSON.parse(authData));\n  },\n  refreshAccessToken: function() {\n    fetch(`/auth/refreshToken?refresh_token=${this.refreshToken}`)\n      .then(res => res.json())\n      .then(data => {\n        const nextAuthData = {\n          refreshToken: this.refreshToken,\n          accessToken: data.access_token,\n          accessTokenCreationTime: Date.now()\n        };\n        localStorage.setItem(\"authData\", JSON.stringify(nextAuthData));\n      });\n  },\n  startRefreshTimer: function() {\n    if (this.refreshTimer) {\n      clearInterval(this.refreshTimer);\n    }\n    // Make sure timer doesn't have a negative value\n    const timeSinceLastLogin = this.accessTokenCreationTime - Date.now();\n    if (timeSinceLastLogin > 2000 || this.accessTokenCreationTime === null) {\n      this.refreshTimer = setInterval(() => {\n        this.refreshAccessToken();\n        this.cacheAuthData();\n      }, this.accessTokenCreationTime - Date.now() + anHour / 2);\n    } else {\n      this.refreshAccessToken();\n      this.cacheAuthData();\n    }\n  },\n  init: function() {\n    this.cacheAuthData();\n    if (this.refreshToken) {\n      this.startRefreshTimer();\n    }\n  },\n\n  login: function() {\n    const nextAuthData = {\n      accessToken: getHashParams().access_token,\n      refreshToken: getHashParams().refresh_token,\n      accessTokenCreationTime: Date.now()\n    };\n    localStorage.setItem(\"authData\", JSON.stringify(nextAuthData));\n  },\n\n  logout: function() {\n    const url = \"https://www.spotify.com/logout/\";\n    const spotifyWindow = window.open(\n      url,\n      \"Spotify Logout\",\n      \"width=700,height=500,top=40,left=40\"\n    );\n\n    setTimeout(() => {\n      spotifyWindow.close();\n      localStorage.removeItem(\"authData\");\n      window.location.reload();\n    }, 2000);\n  }\n};\n","import styled from \"styled-components\";\n\nexport const Background = styled.div`\n  background: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.black : props.theme.gradient};\n  height: 100vh;\n  justify-content: center;\n  justify-items: center;\n  display: grid;\n  grid-gap: ${props => 2 * props.theme.unit + \"px\"};\n  padding-top: 15vh;\n  grid-template-rows: ${props => 12 * props.theme.unit + \"px\"} 1fr;\n  color: ${props => props.theme.white};\n`;\n\nexport const Head = styled.div`\n  text-align: center;\n  & > h1 {\n    font-size: 3.9rem;\n    text-shadow: 3px 3px\n      ${props =>\n        props.theme.mode === \"dark\"\n          ? props.theme.transparent\n          : props.theme.transparentBlack5};\n    background: ${props =>\n      props.theme.mode === \"dark\" ? props.theme.gradient : \"none\"};\n    -webkit-background-clip: ${props =>\n      props.theme.mode === \"dark\" ? \"text\" : \"none\"};\n    background-clip: ${props =>\n      props.theme.mode === \"dark\" ? \"text\" : \"none\"};\n    -webkit-text-fill-color: ${props =>\n      props.theme.mode === \"dark\" ? \"transparent\" : \"none\"};\n  }\n\n  & > p {\n    font-size: 1rem;\n    padding-top: ${props => 1 * props.theme.unit + \"px\"};\n    color: ${props => props.theme.transparent5};\n  }\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n`;\nexport const Body = styled.div`\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  text-align: center;\n\n  & > p {\n    margin-top: ${props => 4 * props.theme.unit + \"px\"};\n    color: ${props => props.theme.transparent5};\n    cursor: pointer;\n  }\n\n  & > p:hover {\n    color: ${props =>\n      props.theme.mode === \"dark\" ? props.theme.primary : props.theme.black};\n  }\n`;\nexport const Submit = styled.button`\n  border: none;\n  padding: ${props => 2 * props.theme.unit + \"px\"};\n  font-size: 1rem;\n  color: ${props => props.theme.white};\n  background-color: ${props =>\n    props.theme.mode === \"dark\"\n      ? props.theme.transparent\n      : props.theme.transparent3};\n  & > * {\n    text-decoration: none;\n  }\n\n  & > a:visited {\n    color: inherit;\n  }\n`;\n\nexport const Input = styled.input`\n  color: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.primary : props.theme.white};\n  margin: 0px;\n  background-color: ${props =>\n    props.theme.mode === \"dark\"\n      ? props.theme.transparent2\n      : props.theme.transparent4};\n  padding: ${props => 2 * props.theme.unit + \"px\"};\n  border: none;\n  font-size: 0.8rem;\n  text-align: center;\n  width: ${props => 26 * props.theme.unit + \"px\"};\n  height: 50px;\n`;\nexport const ShadowWrapper = styled.div`\n  box-shadow: 4px 4px\n    ${props =>\n      props.theme.mode === \"dark\" ? props.theme.transparent : props.theme.gray};\n`;\n\nexport const Button = styled.button`\n  background: ${props => props.theme.transparent3};\n  margin: 0px;\n  padding: ${props => 1 * props.theme.unit + \"px\"};\n\n  border-radius: 90px;\n  border: none;\n  font-size: 0.9rem;\n  display: flex;\n  cursor: pointer;\n  color: ${props => props.theme.black};\n\n  &:hover {\n    background-color: ${props => props.theme.white};\n  }\n  & > * {\n    text-decoration: none;\n  }\n\n  & > a:visited {\n    color: inherit;\n  }\n\n  & > a {\n    margin-top: ${props => 1 * props.theme.unit + \"px\"};\n  }\n\n  &:focus {\n    outline: 0;\n  }\n\n  text-justify: center;\n  & > img {\n    width: 35px;\n    margin-right: 10px;\n  }\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport spotifyLogo from \"../../../images/spotifyLogo.png\";\n\nimport {\n  Background,\n  Head,\n  Body,\n  ShadowWrapper,\n  Submit,\n  Input,\n  Button\n} from \"./styles\";\n\n// process.env.NODE_ENV === \"production\"\n//         ? \"https://airplayer.herokuapp.com/auth/login\"\n//         : \"http://localhost:8888/auth/login\";\n\nexport default function Landing(props) {\n  return (\n    <Background>\n      <Head>\n        {\" \"}\n        <h1>Airplayer</h1>\n        <p>Connect to parties in your area</p>\n      </Head>\n      <Body>\n        {props.auth.accessToken ? (\n          <>\n            {/* TODO un comment when location tracking is implemented */}\n            {/* <ShadowWrapper> */}\n            {/* <Input type=\"text\" placeholder=\"Enter your location...\"></Input> */}\n            <Submit>\n              <Link to=\"/roomsearch\">Go</Link>\n            </Submit>\n            {/* </ShadowWrapper> */}\n\n            <p onClick={() => props.auth.logout()}>or click here to logout</p>\n          </>\n        ) : (\n          <Button>\n            <img src={spotifyLogo} alt=\"\" />\n            <a\n              href={\n                process.env.NODE_ENV === \"production\"\n                  ? \"https://airplayer.herokuapp.com/auth/login\"\n                  : \"http://localhost:8888/auth/login\"\n              }\n            >\n              Login With Spotify\n            </a>\n          </Button>\n        )}\n      </Body>\n    </Background>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nexport default function Callback(props) {\n  useEffect(() => {\n    props.auth.login();\n\n    window.location.href = \"/\";\n  }, []);\n  return <div></div>;\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport default function List(props) {\n  const {\n    items = [],\n    Style = styled.ul``,\n    limit = items ? items.length : 1\n  } = props;\n\n  const ItemProps = function(item, childProps) {\n    return Object.fromEntries(\n      Object.entries(childProps)\n        .filter(([propName]) => propName !== \"Style\")\n        .map(([propName, callback]) => {\n          // onClick and later other events will pass an evnet and not be fired immediately\n          // callbacks are ran immediately\n          if (callback) {\n            const handler = callback;\n            const isEvent = propName.slice(0, 2) === \"on\";\n            return isEvent\n              ? [propName, (callback = e => handler(e, item))]\n              : [propName, (callback = handler(item))];\n          } else {\n            return [propName, null];\n          }\n        })\n    );\n  };\n\n  const Items = () => (\n    <Style>\n      {items.length > 0 &&\n        props.children &&\n        items.slice(0, limit).map((item, i) => {\n          return React.cloneElement(props.children, {\n            ...ItemProps(item, props.children.props),\n            key: i\n          });\n        })}\n    </Style>\n  );\n\n  return <Items></Items>;\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport default function ListItem({\n  src,\n  name,\n  labels,\n  Style = styled.li``,\n  filter = \"\",\n  onClick = () => {},\n  button = <></>\n}) {\n  const Labels = () => (\n    <ul>\n      {labels.map((label, i) => (\n        <p key={i}>{label}</p>\n      ))}\n    </ul>\n  );\n\n  return (\n    <Style filter={filter} onClick={(e, item) => onClick(e, item)}>\n      {src && <img src={src}></img>}\n      <div>\n        <h3>{name}</h3>\n        {labels && <Labels></Labels>}\n      </div>\n      {button}\n    </Style>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  background: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.gradient : props.theme.white};\n  border-radius: ${props => (props.show ? \"0\" : \"2rem\")};\n  width: ${props => (props.show ? \"100%\" : \"0%\")};\n  height: ${props => (props.show ? \"100%\" : \"0%\")};\n  bottom: ${props => (props.show ? \"0\" : \"2.5rem\")};\n  right: ${props => (props.show ? \"0\" : \"2.5rem\")};\n  position: absolute;\n  overflow: hidden;\n  box-shadow: 2px 3px ${props => props.theme.transparentBlack5};\n\n  transition: width 0.5s, height 0.5s, bottom 0.5s, right 0.5s;\n  & > * {\n    opacity: ${props => (props.show ? \"1\" : \"0\")};\n\n    transition: opacity 0.5s;\n    color: ${props => props.theme.black};\n  }\n\n  & > [type=\"icon\"] {\n    color: ${props => props.theme.transparentBlack5};\n\n    font-size: 3rem;\n    position: absolute;\n    right: 0.5rem;\n    top: 0.5rem;\n    & :hover {\n      color: ${props => props.theme.black};\n    }\n  }\n`;\n\nexport const Title = styled.p`\n  text-align: center;\n  padding: 1rem;\n  font-size: 2rem;\n  color: ${props =>\n    props.theme.mode === \"dark\"\n      ? props.theme.white\n      : props.theme.transparentBlack};\n`;\nexport const Body = styled.div`\n  width: 90%;\n  height: 75%;\n  margin: 0 5%;\n`;\n","import React from \"react\";\nimport { Container, Title, Body } from \"./styles\";\nimport { IoIosClose } from \"react-icons/io\";\nexport default function Modal(props) {\n  const { show, setShow, title, children } = props;\n  return (\n    <Container show={show}>\n      <IoIosClose onClick={() => setShow(false)} type=\"icon\"></IoIosClose>\n      <Title>{title}</Title>\n      <Body>{children}</Body>\n    </Container>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  text-align: center;\n  color: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.white : props.theme.black};\n`;\n\nexport const SearchForm = styled.div`\n  overflow: hidden !important;\n  display: grid;\n  grid-gap: 24px;\n  height: 100%;\n\n  & [type=\"container\"] {\n    position: relative;\n\n    & input {\n      justify-self: center;\n      width: 70%;\n      max-width: 500px;\n      padding: ${props => 2 * props.theme.unit + \"px\"};\n    }\n\n    & [type=\"icon\"] {\n      position: absolute;\n      font-size: 2rem;\n      top: 8px;\n      margin-left: -40px;\n\n      color: ${props =>\n        props.theme.mode === \"dark\" ? props.theme.white : props.theme.black};\n    }\n  }\n`;\nexport const CreateForm = styled.form`\n  & > p {\n    color: ${props =>\n      props.theme.mode === \"dark\"\n        ? props.theme.white\n        : props.theme.transparentBlack};\n  }\n\n  & > input {\n    margin: ${props => 1.5 * props.theme.unit + \"px\"} 0;\n    width: 300px;\n    border: none;\n    padding: ${props => 1.5 * props.theme.unit + \"px\"};\n    box-shadow: 2px 2px\n      ${props =>\n        props.theme.mode === \"dark\"\n          ? props.theme.transparent\n          : props.theme.transparentBlack5};\n  }\n\n  & > [type=\"icon\"] {\n    position: absolute;\n    font-size: 2rem;\n    margin-left: -340px;\n    margin-top: 16px;\n    color: ${props =>\n      props.theme.mode === \"dark\" ? props.theme.white : props.theme.primary};\n  }\n`;\nexport const CreateButton = styled.button`\n  display: block;\n  margin: ${props => 2 * props.theme.unit + \"px\"} auto;\n  color: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.black : props.theme.white};\n  padding: 8px 32px;\n  background: ${props =>\n    props.theme.mode === \"dark\"\n      ? props.theme.transparent3\n      : props.theme.primary};\n  border-radius: 1rem;\n  font-size: 1.5rem;\n  box-shadow: 2px 2px\n    ${props =>\n      props.theme.mode === \"dark\"\n        ? props.theme.transparent\n        : props.theme.transparentBlack5};\n\n  border: none;\n  cursor: pointer;\n`;\n","import styled, { css } from \"styled-components\";\nimport { IoIosAdd, IoIosCheckmark } from \"react-icons/io\";\n\nexport const TickIcon = styled(IoIosCheckmark)`\n  position: absolute;\n  font-size: 2.5rem;\n  transition: none;\n\n  &:hover {\n    color: ${props => props.theme.transparent4};\n  }\n  color: ${props => props.theme.green};\n`;\nexport const AddIcon = styled(IoIosAdd)`\n  position: absolute;\n  font-size: 2.5rem;\n  transition: none;\n\n  &:hover {\n    color: ${props => props.theme.transparent4};\n  }\n  color: ${props => props.theme.white};\n`;\n\nexport const IconUnderlay = styled.div`\n  border: 1px solid transparent;\n  border-radius: 90px;\n  background-color: ${props => props.theme.transparentBlack};\n\n  height: ${props => 6 * props.theme.unit + \"px\"};\n  width: ${props => 6 * props.theme.unit + \"px\"};\n  position: relative;\n`;\n\nexport const StyledList = styled.ul`\n  display: flex;\n  overflow-y: hidden;\n\n  padding: 0 ${props => 2 * props.theme.unit + \"px\"};\n`;\n\nexport const StyledContainer = styled.div`\n  height: ${props => 28 * props.theme.unit + \"px\"};\n  overflow-x: scroll;\n  overflow-y: hidden;\n  scrollbar-width: none;\n  ::-webkit-scrollbar {\n    width: 0px; /* Remove scrollbar space */\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n`;\nexport const StyledItem = styled.li`\n  list-style: none;\n  padding-right: ${props => 2 * props.theme.unit + \"px\"};\n  & * {\n    padding: ${props => 0.25 * props.theme.unit + \"px\"};\n  }\n  & img {\n    width: ${props => 16 * props.theme.unit + \"px\"};\n    height: ${props => 16 * props.theme.unit + \"px\"};\n  }\n  font-size: 0.8rem;\n  & p {\n    display: inline;\n    text-transform: capitalize;\n    color: ${props => props.theme.transparent4};\n\n    @media (max-width: 667px) {\n      color: ${props =>\n        props.theme.mode === \"dark\"\n          ? props.theme.transparent4\n          : props.theme.transparentBlack};\n    }\n  }\n`;\n\nexport const StyledItemContainer = styled.span`\n  position: relative;\n`;\n\nexport const StyledPlayButton = styled.div`\n  border: 1px solid transparent;\n  border-radius: 90px;\n  background-color: ${props => props.theme.transparentBlack};\n\n  height: ${props => 6 * props.theme.unit + \"px\"};\n  width: ${props => 6 * props.theme.unit + \"px\"};\n  position: relative;\n  &::after {\n    content: \"\";\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -6px;\n    margin-top: -12px;\n    width: 0;\n    height: 0;\n    border-top: 12px solid transparent;\n    border-bottom: 12px solid transparent;\n    border-left: 16px solid white;\n  }\n`;\nexport const StyledOverlay = styled.div`\n  position: absolute;\n  top: 0px;\n  height: ${props => 16 * props.theme.unit + \"px\"};\n  width: ${props => 16 * props.theme.unit + \"px\"};\n  align-items: center;\n  justify-content: center;\n  display: flex;\n\n  &:hover {\n    content: \"\";\n    cursor: pointer;\n  }\n`;\n","import React, { useRef, useEffect } from \"react\";\nimport {\n  StyledContainer,\n  StyledItem,\n  StyledOverlay,\n  StyledItemContainer,\n  StyledList,\n  AddIcon,\n  TickIcon,\n  IconUnderlay\n} from \"./styles\";\nimport List from \"../List\";\n\nconst ItemTemplate = ({\n  src,\n  name,\n  labels,\n  uri,\n  selected,\n  addItem,\n  removeItem\n}) => {\n  return (\n    <StyledItemContainer>\n      {\" \"}\n      <StyledItem>\n        <img src={src}></img>\n        <h4>{name}</h4>\n        {labels && labels.map((label, i) => <p key={i}>{label}</p>)}\n      </StyledItem>{\" \"}\n      <StyledOverlay>\n        <IconUnderlay></IconUnderlay>\n        {selected ? (\n          <TickIcon onClick={() => removeItem(uri)}></TickIcon>\n        ) : (\n          <AddIcon onClick={() => addItem(uri)}></AddIcon>\n        )}\n      </StyledOverlay>\n    </StyledItemContainer>\n  );\n};\n\nexport default function Carousel(props) {\n  const { items, height, addItem, removeItem, selectedItems } = props;\n  return (\n    <StyledContainer height={height}>\n      <List items={items} Style={StyledList}>\n        <ItemTemplate\n          src={item => item.getImages().default.url}\n          name={item => item.name}\n          labels={item => item.getArtists().map(artist => artist.name)}\n          uri={item => item.uri}\n          selected={item =>\n            selectedItems && selectedItems.some(obj => obj.uri === item.uri)\n          }\n          addItem={() => addItem}\n          removeItem={() => removeItem}\n        ></ItemTemplate>\n      </List>\n    </StyledContainer>\n  );\n}\n","String.prototype.replaceAll = function(search, replacement) {\n  const target = this;\n  return target.split(search).join(replacement);\n};\n\nif (Object.fromEntries === undefined) {\n  Object.fromEntries = arr =>\n    Object.assign({}, ...Array.from(arr, ([k, v]) => ({ [k]: v })));\n}\n\nfunction isEmpty(obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) return false;\n  }\n  return true;\n}\n\nconst Spotify = (token, send = true) => {\n  const api = \"https://api.spotify.com/v1/\";\n\n  const request = (query, type, body = \"\") => {\n    const options = {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-type\": \"application/json\"\n      },\n      method: type\n    };\n\n    if (type !== \"GET\") {\n      options.body = JSON.stringify(body);\n    }\n    if (send) {\n      return fetch(encodeURI(`${api}${query}`), options).then(res =>\n        res.json()\n      );\n    } else {\n      options.api = api;\n      options.string = encodeURI(query);\n      return options;\n    }\n  };\n\n  const put = (q, body) => request(q, \"PUT\", body);\n  const get = q => request(q, \"GET\");\n  const remove = (q, body) => request(q, \"DELETE\", body);\n\n  const merge = (obj, template) => {\n    return Object.entries(obj)\n      .map(([k, v]) => template(k, v))\n      .join(\",\");\n  };\n\n  const appendOptions = options =>\n    merge(options, (k, v) => (v === \"\" ? \"\" : `&${k}=${v}`)).replaceAll(\n      \",\",\n      \"\"\n    );\n  const appendConditions = condititions =>\n    merge(condititions, (k, v) => `${k}:${v}`).replaceAll(\",\", \" \");\n\n  const pluralize = str => (str.slice(-1) === \"s\" ? str : `${str}s`);\n  const dePluralize = str =>\n    str.slice(-1) === \"s\" ? str.slice(0, str.length - 1) : str;\n\n  const hyphenize = str => str.replace(/[A-Z]/g, m => \"-\" + m.toLowerCase());\n  const depthOf = function(object) {\n    var level = 1;\n    var key;\n    for (key in object) {\n      if (!object.hasOwnProperty(key)) continue;\n\n      if (typeof object[key] == \"object\") {\n        var depth = depthOf(object[key]) + 1;\n        level = Math.max(depth, level);\n      }\n    }\n    return level;\n  };\n\n  const innerKeys = function(o) {\n    return Object.keys(o).reduce(function(r, k) {\n      return typeof o[k] === \"object\" ? innerKeys(o[k]) : ((r[k] = o[k]), r);\n    }, {});\n  };\n\n  const multiSearch = query =>\n    Object.keys(innerKeys(query))[0] === \"0\" && depthOf(query) === 4;\n\n  const singleSearch = query =>\n    Object.keys(innerKeys(query))[0] === \"id\" && depthOf(query) === 3;\n\n  const conditionBased = query =>\n    Object.keys(innerKeys(query))[0] === \"id\" && depthOf(query) === 4;\n\n  const parseOptions = (query, target) =>\n    Object.fromEntries(\n      Object.entries(query[target]).filter(option => option[0] !== \"where\")\n    );\n  const findQuery = query => {\n    if (conditionBased(query)) {\n      const target = Object.keys(query)[0];\n      const condition = Object.keys(query[target].where)[0];\n      const id = query[target].where[condition].id;\n\n      const options = parseOptions(query, target);\n      return `${pluralize(condition)}/${id}/${hyphenize(target)}${\n        isEmpty(options) ? \"\" : `?${appendOptions(options).substring(1)}`\n      }`;\n    }\n    if (singleSearch(query)) {\n      const target = Object.keys(query)[0];\n      const id = query[target].where.id;\n      return `${pluralize(hyphenize(target))}/${id}`;\n    }\n    if (multiSearch(query)) {\n      const target = Object.keys(query)[0];\n      const ids = Object.values(innerKeys(query));\n      return `${pluralize(hyphenize(target))}?ids=${ids}`;\n    }\n  };\n  return {\n    search: ({\n      query = \"\",\n      type = \"\",\n      offset = \"\",\n      limit = \"\",\n      market = \"\",\n      wildcard = false\n    }) => {\n      const buildQuery = () =>\n        typeof query === \"string\"\n          ? wildcard\n            ? `${query}*`\n            : `${query}`\n          : typeof query === \"object\"\n          ? appendConditions(query)\n          : \"\";\n\n      const queryString = `search?q=${buildQuery()}${appendOptions({\n        type: dePluralize(type),\n        limit,\n        offset,\n        market\n      })}`;\n\n      return get(queryString);\n    },\n\n    // browse: query => (send ? get(findQuery) : findQuery(query)),\n\n    // albums,artists, tracks\n    find: query => get(findQuery(query)),\n\n    // library, follow , personalization , users profile\n    user: () => {\n      const userQuery = ({\n        id = \"\",\n        ids = \"\",\n        type,\n        suffix = \"\",\n        prefix = \"\"\n      }) =>\n        type === \"playlist\"\n          ? `playlists/${id ? id : ids}${suffix}`\n          : `${prefix}?type=${type}${id || ids ? `&ids=${id ? id : ids}` : \"\"}`;\n\n      return {\n        follows: params =>\n          get(userQuery({ ...params, prefix: \"me/following/contains\" })),\n\n        follow: params =>\n          put(\n            userQuery({\n              ...params,\n              suffix: \"/followers\",\n              prefix: \"me/following\"\n            })\n          ),\n\n        unfollow: params =>\n          remove(\n            userQuery({\n              ...params,\n              suffix: \"/followers\",\n              prefix: \"me/following\"\n            })\n          ),\n\n        getFollowed: params =>\n          get(userQuery({ ...params, prefix: \"me/following\" })),\n\n        library: () => {\n          const libraryQuery = query =>\n            `me/${typeof query === `string` ? pluralize(query) : query.type}`;\n\n          const libraryBody = ({ id, ids }) => (ids ? ids : [id]);\n\n          return {\n            contains: ({ id, type, ids }) =>\n              get(`me/${pluralize(type)}/contains?ids=${id ? id : ids}`),\n            get: query => get(libraryQuery(query)), // not libary.get, refers to function in Spotify() closure\n            delete: query => remove(libraryQuery(query), libraryBody(query)),\n            add: query => put(libraryQuery(query), libraryBody(query))\n          };\n        },\n        top: type => get(`me/top/${pluralize(type)}?limit=50`),\n        me: () => get(\"me\"),\n        playlists: () => get(\"me/playlists\"),\n        artists: () => get(\"me/following?type=artist\")\n      };\n    },\n\n    playlists: () => {},\n    player: () => {}\n  };\n};\nexport default Spotify;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nexport default function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n","import { useEffect, useState, useCallback } from \"react\";\nimport useInterval from \"./useInterval\";\n\nexport default function useDebounce(cb, delay, dependencies) {\n  const [updated, setUpdated] = useState(false);\n\n  const callback = useCallback(() => {\n    cb();\n  }, [dependencies]);\n\n  useInterval(\n    () => {\n      callback();\n      setUpdated(false);\n    },\n    updated ? delay : null\n  );\n  useEffect(() => {\n    setUpdated(true);\n  }, dependencies);\n}\n","const getKey = obj =>\n  Object.keys(obj)[0] === undefined ? {} : Object.keys(obj)[0];\n\nconst getNestedProperty = (prop, results) =>\n  Object.assign(\n    {},\n    ...Object.entries(results).map(entry => {\n      return entry[1] === null\n        ? { [entry[0]]: [] }\n        : {\n            [entry[0]]: Object.values({ ...entry[1][prop] })\n          };\n    })\n  );\n\nconst arrayToObject = (array, names) =>\n  names\n    ? names.length === array.length\n      ? Object.assign(...names.map((k, i) => ({ [k]: array[i] })), {\n          [\"default\"]: array[0]\n        })\n      : Object.assign({}, { [\"default\"]: array[0] })\n    : Object.assign({}, { ...array });\nexport { getKey, getNestedProperty, arrayToObject };\n","import {\n  getNestedProperty,\n  getKey,\n  arrayToObject\n} from \"../../helpers/ObjectUtils\";\n\nimport { msToMinutes } from \"../../helpers/TimeUtils\";\n\nconst fallbackImages = {\n  large: {\n    height: 500,\n    width: 500,\n    url: \"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png\"\n  },\n  medium: {\n    height: 300,\n    width: 300,\n    url: \"https://i.ibb.co/vjZVL4p/large-removebg-preview.png\"\n  },\n  small: {\n    height: 64,\n    width: 64,\n    url: \"https://i.ibb.co/608nyr6/small-removebg-preview.png\"\n  },\n  default: {\n    height: 500,\n    width: 500,\n    url: \"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png\"\n  }\n};\n\nconst ItemPrototype = () => {\n  return {\n    getArtists: function() {\n      switch (this.type) {\n        case \"track\":\n          return this.album ? this.album.artists : this.artists;\n        case \"album\":\n          return this.artists;\n        case \"artists\":\n          return this;\n        default:\n          return null;\n      }\n    },\n    getImages: function() {\n      switch (this.type) {\n        case \"track\":\n          return this.album\n            ? this.album.images.length < 1\n              ? arrayToObject(fallbackImages)\n              : arrayToObject(this.album.images, [\"large\", \"medium\", \"small\"])\n            : this.images\n            ? arrayToObject(this.images, [\"large\", \"medium\", \"small\"])\n            : arrayToObject(fallbackImages);\n        default:\n          return this.images.length < 1\n            ? arrayToObject(fallbackImages)\n            : arrayToObject(this.images, [\"large\", \"medium\", \"small\"]);\n      }\n    },\n    getLabels: function() {\n      return [\n        this.type,\n        this.type === \"playlist\"\n          ? this.owner.display_name\n          : this.getArtists()\n          ? this.getArtists()[0].name\n          : null //add duration\n      ];\n    }\n  };\n};\nexport default function SpotifyHelper(obj) {\n  return Object.assign({}, obj, {\n    getItems: function() {\n      const itemsByType = getNestedProperty(\"items\", obj);\n      Object.keys(itemsByType).forEach(type => {\n        itemsByType[type].map(item =>\n          Reflect.setPrototypeOf(item, ItemPrototype())\n        );\n      });\n      return itemsByType;\n    }\n  });\n}\n\nexport { ItemPrototype };\n","import { useState, useEffect, useCallback } from \"react\";\nimport Spotify from \"../../modules/Spotify\";\nimport useDebounce from \"../useDebounce\";\nimport { getKey } from \"../../helpers/ObjectUtils\";\nimport SpotifyHelper from \"../../modules/SpotifyHelper/SpotifyHelper\";\nimport isMobile from \"../../modules/isMobile\";\n\nexport default function useSearch(auth) {\n  // Store Access\n  // Local State\n  const [query, setQuery] = useState(\"\");\n  const [queryResults, setQueryResults] = useState({\n    tracks: {},\n    artists: {},\n    playlists: {},\n    albums: {}\n  });\n\n  // Local Variables\n  const spotify = Spotify(auth.accessToken);\n\n  const getQueries = useCallback(\n    async query => {\n      const queries = Object.keys(queryResults).map(type =>\n        spotify.search({ query, type })\n      );\n      const results = await Promise.all(queries);\n      return Object.assign(\n        {},\n        ...Object.keys(queryResults).map((query, i) => {\n          return {\n            [query]:\n              getKey(results[i]) === \"error\" ? results[i] : results[i][query]\n          };\n        })\n      );\n    },\n    [query, queryResults]\n  );\n\n  // Search handler, triggers when query updates, with 200 millisecond delay, and using the latest query to send\n  useDebounce(\n    () => {\n      if (query !== \"\" && auth.accessToken) {\n        getQueries(query).then(nextResults => {\n          setQueryResults(nextResults);\n        });\n      }\n    },\n    200,\n    [query, auth.accessToken]\n  );\n\n  // Hide input box after clicking a button\n  useEffect(() => {\n    const handler = e => {\n      if (e.key === \"Enter\") {\n        document.activeElement.blur();\n      }\n    };\n    document.addEventListener(\"keypress\", handler);\n\n    return () => document.removeEventListener(\"keypress\", handler);\n  }, []);\n\n  return {\n    query,\n    setQuery,\n    queryResults: SpotifyHelper(queryResults).getItems()\n  };\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Container, CreateForm, SearchForm, CreateButton } from \"./styles\";\nimport { IoIosKey, IoIosPeople, IoIosSearch } from \"react-icons/io\";\nimport { GoLocation } from \"react-icons/go\";\nimport { Redirect } from \"react-router-dom\";\nimport Carousel from \"../Carousel/Carousel\";\nimport useSearch from \"../../hooks/useSearch/useSearch\";\n\nexport default function CreateRoomForm(props) {\n  const initialData = {\n    name: \"\",\n    password: \"\",\n    location: \"\",\n    userId: props.user.uri,\n    playlist: []\n  };\n\n  const [data, setData] = useState(initialData);\n  const [roomState, setRoomState] = useState({\n    created: false,\n    tracksSelected: false,\n    done: false,\n    id: null\n  });\n\n  const { query, setQuery, queryResults } = useSearch(props.auth);\n\n  //                stage 1   =>   stage 2        stage 3                  stage 4\n  // Form Stages : Enter data =>   created   =>   tracksSelected    =>     done\n\n  useEffect(() => {\n    // Stage 3\n    if (roomState.tracksSelected) {\n      const { password, ...dataWithoutPassword } = data;\n      fetch(\"/api/rooms\", {\n        method: \"POST\",\n        body: JSON.stringify(dataWithoutPassword)\n      })\n        .then(res => res.json())\n        .then(json => {\n          const roomId = json.room.id;\n\n          // Save token to local storage\n          const tokens = JSON.parse(localStorage.getItem(\"tokens\")) || {};\n          tokens[roomId] = json.token;\n          localStorage.setItem(\"tokens\", JSON.stringify(tokens));\n\n          // Intialize vibe\n          fetch(`/api/room/${roomId}/vibe`, {\n            method: \"POST\",\n            body: JSON.stringify({\n              accessToken: props.auth.accessToken,\n              tracks: data.playlist\n            })\n          }).then(() =>\n            // Complete creation process\n            setRoomState({\n              done: true,\n              id: roomId\n            })\n          );\n        });\n    }\n  }, [roomState.tracksSelected, data]);\n\n  const addTrack = uri =>\n    setData({ ...data, playlist: [...data.playlist, { uri }] });\n\n  const removeTrack = uri =>\n    setData({\n      ...data,\n      playlist: data.playlist.filter(track => track.uri !== uri)\n    });\n\n  // Add spinner during stage 3, tracksSelected = true\n  return (\n    <>\n      {roomState.done ? (\n        // Stage 4\n        <Redirect to={`room/${roomState.id}`}></Redirect>\n      ) : (\n        <Container>\n          {roomState.created ? (\n            //Stage 2\n            <SearchForm>\n              <div>\n                <p>Choose at least 3 tracks to get started</p>\n              </div>\n\n              <div type=\"container\">\n                <IoIosSearch type=\"icon\"></IoIosSearch>\n                <input\n                  type=\"text\"\n                  value={query}\n                  onChange={e => setQuery(e.target.value)}\n                  placeholder=\"Enter a track or artist name...\"\n                />\n              </div>\n\n              {queryResults.tracks.length > 0 ? (\n                <Carousel\n                  addItem={addTrack}\n                  removeItem={removeTrack}\n                  items={queryResults.tracks}\n                  selectedItems={data.playlist}\n                ></Carousel>\n              ) : query === \"\" ? (\n                <></>\n              ) : (\n                <p>No tracks matching \"{query}\"</p>\n              )}\n\n              {data.playlist.length > 2 ? (\n                <CreateButton\n                  onClick={() =>\n                    setRoomState({ ...roomState, tracksSelected: true })\n                  }\n                >\n                  Enter Room\n                </CreateButton>\n              ) : null}\n            </SearchForm>\n          ) : (\n            <CreateForm>\n              {/* Stage 1 */}\n              <p>Name</p>\n              <input\n                type=\"text\"\n                value={data.name}\n                placeholder=\"Enter a room name\"\n                onChange={e => setData({ ...data, name: e.target.value })}\n                required\n              />\n              <IoIosPeople type=\"icon\"></IoIosPeople>\n              {/* <p>Password</p>\n              <input\n                type=\"text\"\n                placeholder=\"Enter a room password\"\n                value={data.password}\n                onChange={e => setData({ ...data, password: e.target.value })}\n              />\n              <IoIosKey type=\"icon\"></IoIosKey>\n              <p>Location</p>\n              <input\n                type=\"text\"\n                placeholder=\"Enter your location\"\n                required\n                value={data.location}\n                onChange={e => setData({ ...data, location: e.target.value })}\n              />\n              <GoLocation type=\"icon\"></GoLocation> */}\n              <CreateButton\n                type=\"submit\"\n                onClick={() => setRoomState({ ...roomState, created: true })}\n              >\n                Create\n              </CreateButton>\n            </CreateForm>\n          )}\n        </Container>\n      )}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Spotify from \"../modules/Spotify\";\n\nexport default function useProfile(auth) {\n  const [user, setUser] = useState(null);\n\n  const spotify = Spotify(auth.accessToken);\n\n  useEffect(() => {\n    if (auth.accessToken)\n      spotify\n        .user()\n        .me()\n        .then(data => setUser(data));\n  }, [auth.accessToken]);\n\n  return user;\n}\n","import styled from \"styled-components\";\n\nexport default styled.li`\n  background-color: ${props => (props.filter ? props.theme.transparent2 : \"\")};\n  font-size: 0.8rem;\n  display: grid;\n  grid-template-columns: 48px 1fr ${props => (props.button ? \"100px\" : \"96px\")};\n  margin-bottom: 15px;\n  align-items: center;\n  width: 100%;\n  cursor: pointer;\n\n  & img {\n    height: 48px;\n    width: 48px;\n  }\n  & div {\n    padding: 0 0 0 10px;\n    overflow: hidden;\n    & h3 {\n      font-size: 0.8rem;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    & p {\n      display: inline;\n      color: ${props => props.theme.transparent4};\n      font-weight: 100;\n    }\n  }\n\n  & button {\n    height: 48px;\n    width: 48px;\n    background: none;\n    border: none;\n    color: whitesmoke;\n    font-size: 2rem;\n    text-align: center;\n    text-justify: center;\n  }\n\n  & li {\n    display: inline;\n    text-transform: capitalize;\n  }\n  & li:first-child::after {\n    content: \"\";\n    color: white;\n    padding: 0 3px;\n  }\n`;\n","import StyledListItem from \"../../../styles/StyledListItem\";\nimport styled from \"styled-components\";\nimport List from \"../../../components/List\";\n\nexport const Background = styled.div`\n  background: ${props =>\n    props.theme.mode == \"dark\" ? props.theme.black : props.theme.gradient};\n  height: 100vh;\n  justify-items: center;\n  display: grid;\n  grid-template-rows: 5rem 2rem 1fr;\n  color: ${props => props.theme.white};\n\n  & > h1 {\n    font-size: 3.9rem;\n    text-shadow: 3px 3px\n      ${props =>\n        props.theme.mode === \"dark\"\n          ? props.theme.transparent\n          : props.theme.transparentBlack5};\n    background: ${props =>\n      props.theme.mode === \"dark\" ? props.theme.gradient : \"none\"};\n    -webkit-background-clip: ${props =>\n      props.theme.mode === \"dark\" ? \"text\" : \"none\"};\n    background-clip: ${props =>\n      props.theme.mode === \"dark\" ? \"text\" : \"none\"};\n    -webkit-text-fill-color: ${props =>\n      props.theme.mode === \"dark\" ? \"transparent\" : \"none\"};\n    padding: 8px 0;\n  }\n  & > p {\n    color: ${props => props.theme.transparent5};\n    padding-bottom: 16px;\n  }\n`;\n\nexport const Container = styled.div`\n  display: grid;\n  position: relative;\n  justify-content: center;\n  align-content: center;\n  min-width: ${props => 24 * props.theme.unit + \"px\"};\n  width: 85vw;\n  min-height: ${props => 50 * props.theme.unit + \"px\"};\n  /* height: 70vh; */\n  margin-bottom: 8vh;\n  background-color: ${props => props.theme.transparent2};\n  grid-template-rows: ${props => 6 * props.theme.unit + \"px\"} 1fr;\n  grid-template-columns: 1fr;\n  animation: fadeIn 1s;\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @media (max-width: 440px) {\n    width: 98vw;\n  }\n`;\nexport const Head = styled.div`\n  display: grid;\n  width: 100%;\n\n  /* use this when location input is implemented*/\n  /* grid-template-columns: 2fr 1fr 1fr; */\n  grid-template-columns: 3fr 1fr;\n\n  & > input {\n    width: 100%;\n    &::placeholder {\n      color: ${props =>\n        props.theme.mode === \"dark\"\n          ? props.theme.transparent4\n          : props.theme.transparentBlack};\n    }\n    padding: ${props => 2 * props.theme.unit + \"px\"};\n    border: none;\n    border-right: 1px solid ${props => props.theme.transparentBlack4};\n    background-color: ${props => props.theme.transparent4};\n  }\n\n  & > div {\n    display: grid;\n    cursor: pointer;\n\n    grid-template-columns: 1fr 3fr;\n    align-items: center;\n    background-color: ${props => props.theme.transparentBlack4};\n\n    & :first-child {\n      justify-self: flex-end;\n      font-size: 2.3rem;\n    }\n    & :nth-child(2) {\n      justify-self: flex-start;\n      font-size: 1.2rem;\n    }\n  }\n\n  @media (max-width: 667px) {\n    /* grid-template-columns: 2fr 1fr; */\n    grid-template-columns: 1fr;\n\n    & > div {\n      display: none;\n    }\n  }\n`;\n\nexport const Body = styled.div`\n  & ${List} {\n    width: 100%;\n\n    & li:nth-child(even) {\n      background: ${props => props.theme.transparent2};\n      height: ${props => 8 * props.theme.unit + \"px\"};\n    }\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n  padding-top: ${props => 2 * props.theme.unit + \"px\"};\n`;\n\nexport const ExtendedStyledListItem = styled(StyledListItem)`\n  & button {\n    background: ${props => props.theme.white};\n    color: ${props => props.theme.black};\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 0.8rem;\n    width: ${props => 10 * props.theme.unit + \"px\"};\n    height: ${props => 5 * props.theme.unit + \"px\"};\n  }\n\n  padding: 0 ${props => 2 * props.theme.unit + \"px\"};\n  @media (max-width: 320px) {\n    width: 90%;\n  }\n`;\n\nexport const Button = styled.div`\n  & * {\n    text-decoration: none;\n    color: ${props => props.theme.transparent4};\n    margin-top: 8px;\n  }\n  font-size: 2.5rem;\n  width: 100%;\n  & :hover {\n    & * {\n      color: ${props => props.theme.transparentBlack3};\n    }\n  }\n`;\n\nexport const CreateButton = styled.div`\n  opacity: ${props => (props.show ? 1 : 0)};\n  transition: opacity 0.5s;\n  position: absolute;\n  bottom: 5rem;\n  right: 5rem;\n\n  & :hover {\n    color: ${props => props.theme.primary};\n  }\n  & > [type=\"circle\"] {\n    background-color: ${props => props.theme.transparentBlack3};\n    width: 5rem;\n    height: 5rem;\n    position: absolute;\n    border-radius: 100%;\n  }\n  & > [type=\"icon\"] {\n    font-size: 5rem;\n    position: absolute;\n  }\n  @media (min-width: 668px) {\n    display: none;\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport List from \"../../../components/List\";\nimport ListItem from \"../../../components/ListItem\";\nimport { IoIosAdd, IoIosLogIn } from \"react-icons/io\";\nimport Modal from \"../../../components/Modal/Modal\";\nimport CreateRoomForm from \"../../../components/CreateRoomForm/CreateRoomForm\";\n\nimport useProfile from \"../../../hooks/useProfile\";\nimport {\n  Background,\n  Container,\n  Head,\n  Body,\n  ExtendedStyledListItem,\n  Button,\n  CreateButton\n} from \"./styles\";\n\nexport default function RoomSearch(props) {\n  const [rooms, setRooms] = useState([]);\n  const user = useProfile(props.auth);\n\n  const getMinutesSince = start =>\n    Math.round((Date.now() - new Date(start).getTime()) / 1000 / 60);\n  const getTimeSince = start => {\n    const minutesSince = getMinutesSince(start);\n\n    if (minutesSince < 2) {\n      return \"a few seconds ago\";\n    }\n    if (minutesSince > 2 && minutesSince < 60) {\n      return `${minutesSince} minutes ago`;\n    } else {\n      return `${Math.round(minutesSince / 60)} hours ago`;\n    }\n  };\n\n  useEffect(() => {\n    fetch(\"/api/rooms\")\n      .then(res => res.json())\n      .then(data => {\n        setRooms(\n          data\n            .reverse()\n            .filter(room => getMinutesSince(room.createdAt) < 60 * 48)\n        );\n      });\n  }, []);\n\n  const [resultFilter, setResultFilter] = useState(\"\");\n\n  const JoinButton = item => (\n    <Button>\n      <Link to={`/room/${item.id}`}>\n        <IoIosLogIn></IoIosLogIn>\n      </Link>\n    </Button>\n  );\n\n  const [showModal, setShowModal] = useState(false);\n\n  return (\n    <Background>\n      <h1>Airplayer</h1>\n      <p>Join a room or create your own</p>\n      <Container>\n        <Head>\n          <input\n            placeholder=\"Enter a party Name\"\n            type=\"text\"\n            value={resultFilter}\n            onChange={e => setResultFilter(e.target.value)}\n          />\n          {/* <input placeholder=\"Change your location\" type=\"text\" />{\" \"} */}\n          {/* Desktop only */}\n          <div onClick={() => setShowModal(true)}>\n            <IoIosAdd></IoIosAdd>\n            <p>Create</p>\n          </div>\n        </Head>\n        <Body>\n          <List items={rooms.filter(room => room.name.includes(resultFilter))}>\n            <ListItem\n              Style={ExtendedStyledListItem}\n              name={item => item.name}\n              src={item =>\n                \"https://i.scdn.co/image/f5990a4c6059df42ae7b39b8524cd6ecce334995\"\n              }\n              labels={item => [\n                `Created ${getTimeSince(item.createdAt)} in `,\n                item.location\n              ]}\n              button={item => JoinButton(item)}\n            ></ListItem>\n          </List>\n        </Body>\n        {/* Mobile only imolement later*/}\n        {/* <CreateButton show={!showModal} onClick={() => setShowModal(true)}>\n          <div type=\"circle\"></div>\n          <IoIosAdd type=\"icon\"></IoIosAdd>\n        </CreateButton> */}\n\n        <Modal show={showModal} title=\"Create a Room\" setShow={setShowModal}>\n          {user && (\n            <CreateRoomForm user={user} auth={props.auth}></CreateRoomForm>\n          )}\n        </Modal>\n      </Container>\n    </Background>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Chevron = styled.span`\n  position: absolute;\n  &:before {\n    border-style: solid;\n    border-width: 2px 2px 0 0;\n    content: \"\";\n    display: inline-block;\n    height: 12px;\n    left: 0;\n    position: relative;\n    vertical-align: top;\n    width: 12px;\n    transform: rotate(45deg);\n    visibility: ${props => props.visibility};\n  }\n`;\n","import styled from \"styled-components\";\nimport { Chevron } from \"../../../styles/Chevron\";\n\nexport const Container = styled.div`\n  height: calc(100vh - 50px);\n  position: relative;\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\n\n  & > * {\n    padding: ${props => 2 * props.theme.unit + \"px\"} 0;\n  }\n  & > h2 {\n    font-size: 1.5rem;\n    padding-left: ${props => 2 * props.theme.unit + \"px\"};\n  }\n\n  & > ul {\n    padding: 0 ${props => 2 * props.theme.unit + \"px\"};\n  }\n`;\n\nexport const StyledChevron = styled(Chevron)`\n  left: 15px;\n  margin-top: 15px;\n  &:before {\n    transform: rotate(-135deg);\n  }\n`;\n","import React from \"react\";\nimport { Container } from \"./styles\";\nimport { Redirect } from \"react-router-dom\";\n\n// Components\nimport Carousel from \"../../../components/Carousel/Carousel\";\nimport List from \"../../../components/List\";\nimport ListItem from \"../../../components/ListItem\";\n\nimport StyledListItem from \"../../../styles/StyledListItem\";\n\nexport default function Home({ room, roomTracks, topTracks, setStartAudio }) {\n  const play = (e, item) => {\n    room.controller.play(item.uri);\n    setStartAudio(true);\n  };\n\n  return (\n    <Container>\n      {/* <h2>Your Favourite tracks</h2>\n      <Carousel\n        key={Math.random()}\n        items={topTracks}\n        addItem={room.controller.addTrack}\n        removeItem={room.controller.removeTrack}\n        selectedItems={roomTracks.playlist}\n      ></Carousel> */}\n\n      <h2>What's up Next</h2>\n      {roomTracks.playlist && (\n        <List items={roomTracks.playlist}>\n          <ListItem\n            Style={StyledListItem}\n            src={item => item.getImages().default.url}\n            name={item => item.name}\n            labels={item => item.getArtists().map(artist => artist.name)}\n            filter={item =>\n              item.uri === roomTracks.currentSong.uri ? \"1\" : \"\"\n            }\n            onClick={play}\n            button={item => (\n              <button\n                onClick={e => {\n                  e.stopPropagation();\n                  room.controller.removeTrack(item.uri);\n                }}\n              >\n                {\" \"}\n                x\n              </button>\n            )}\n          ></ListItem>\n        </List>\n      )}\n      <h2>Room Favourites</h2>\n      {roomTracks.filtered && (\n        <List items={roomTracks.filtered}>\n          <ListItem\n            Style={StyledListItem}\n            src={item => item.getImages().default.url}\n            name={item => item.name}\n            labels={item => item.getArtists().map(artist => artist.name)}\n            filter={item =>\n              item.uri === roomTracks.currentSong.uri ? \"1\" : \"\"\n            }\n            onClick={play}\n          ></ListItem>\n        </List>\n      )}\n      <h2>Recommended</h2>\n      {roomTracks.generated && (\n        <List items={roomTracks.generated}>\n          <ListItem\n            Style={StyledListItem}\n            src={item => item.getImages().default.url}\n            name={item => item.name}\n            labels={item => item.getArtists().map(artist => artist.name)}\n            filter={item =>\n              item.uri === roomTracks.currentSong.uri ? \"1\" : \"\"\n            }\n            onClick={play}\n          ></ListItem>\n        </List>\n      )}\n    </Container>\n  );\n}\n","import styled from \"styled-components\";\n\n// TODO add theme to manage colors and padding\nexport const Container = styled.div`\n  position: relative;\n`;\n\nexport const NoQuery = styled.div`\n  display: grid;\n  justify-items: center;\n  position: relative;\n  padding-top: 200px;\n`;\n","import styled from \"styled-components\";\nimport { Chevron } from \"../../styles/Chevron\";\n\nexport const Container = styled.div`\n  font-size: 1rem;\n  padding: 0 ${props => 2 * props.theme.unit + \"px\"};\n\n  & h2 {\n    cursor: pointer;\n  }\n`;\n\nexport const StyledList = styled.ul`\n  font-size: 1rem;\n  padding-top: ${props => 2 * props.theme.unit + \"px\"};\n  & li {\n    & button {\n      cursor: pointer;\n      display: grid;\n      justify-self: end;\n\n      @media (max-width: 667px) {\n        color: ${props =>\n          props.theme.mode === \"dark\"\n            ? props.theme.white\n            : props.theme.primary};\n      }\n    }\n    list-style: none;\n    & p {\n      text-transform: capitalize;\n      color: ${props => props.theme.transparent4};\n\n      @media (max-width: 667px) {\n        color: ${props =>\n          props.theme.mode === \"dark\"\n            ? props.theme.transparent4\n            : props.theme.transparentBlack};\n      }\n    }\n  }\n`;\n\nexport const StyledChevron = styled(Chevron)`\n  right: ${props => 3 * props.theme.unit + \"px\"};\n  margin-top: ${props =>\n    props.direction === \"right\"\n      ? -2.5 * props.theme.unit + \"px\"\n      : -3 * props.theme.unit + \"px\"};\n  transform: ${props =>\n    props.direction === \"right\" ? \"rotate(0deg)\" : \"rotate(180deg)\"};\n\n  transition: transform 0.2s, margin-top 0.2s;\n  color: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.white : props.theme.primary};\n`;\n","import React from \"react\";\nimport List from \"../List\";\nimport ListItem from \"../ListItem\";\nimport StyledListItem from \"../../styles/StyledListItem\";\nimport { Container, StyledChevron, StyledList } from \"./styles\";\n\nexport default function Result({\n  title,\n  items,\n  filter,\n  limit,\n  actions,\n  handleItemClick = () => {},\n  handleHeaderClick = () => {}\n}) {\n  const Button = ({ item }) => {\n    const action = actions.filter(action => action.type === \"ADD\")[0];\n    return action ? (\n      <button onClick={() => action.func(item.uri)}>{action.icon}</button>\n    ) : null;\n  };\n  return (\n    <Container>\n      <h2 onClick={e => handleHeaderClick(e, { title })}>\n        {filter !== \"\" && filter !== title ? \"\" : title}\n      </h2>\n      <StyledChevron\n        direction={filter !== \"\" ? \"left\" : \"right\"}\n        onClick={e => handleHeaderClick(e, { title })}\n      ></StyledChevron>\n      <List\n        items={items}\n        Style={StyledList}\n        limit={filter !== title ? limit : items.length}\n      >\n        <ListItem\n          src={item => item.getImages().default.url}\n          name={item => item.name}\n          labels={item =>\n            item.getLabels().map(label => (label ? `${label} ` : \"\"))\n          }\n          Style={StyledListItem}\n          button={actions ? item => <Button item={item}></Button> : null}\n          onClick={handleItemClick ? handleItemClick : () => {}}\n        ></ListItem>\n      </List>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport { Container, NoQuery } from \"./styles\";\nimport Result from \"../Result/Result\";\n\nfunction isEmpty(obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) return false;\n  }\n  return true;\n}\nexport default function Results(props) {\n  const { query, filter, setFilter, limit = 4, results = [] } = props;\n\n  const noResults = () =>\n    results.map(result => isEmpty(result)).filter(bool => bool === false)\n      .length < 1;\n\n  return (\n    <Container>\n      {query === \"\" ? (\n        <NoQuery>\n          <p>Please enter a query</p>\n        </NoQuery>\n      ) : noResults() ? (\n        `No results matching ${query}`\n      ) : (\n        results &&\n        results.map(\n          (result, i) =>\n            (filter == \"\" || filter === result.title) &&\n            result.items.length > 1 && (\n              <Result\n                title={result.title}\n                items={result.items}\n                filter={filter}\n                limit={limit}\n                key={i}\n                actions={result.actions}\n                path={props.path}\n                handleItemClick={\n                  result.onItemClick ? result.onItemClick : () => {}\n                }\n                handleHeaderClick={\n                  result.onHeaderClick ? result.onHeaderClick : () => {}\n                }\n              ></Result>\n            )\n        )\n      )}\n    </Container>\n  );\n}\n\n//TODO remove non tracks from room\n","import React from \"react\";\n\n// Components\nimport Results from \"./Results/Results\";\nimport Result from \"./Result/Result\";\n\nexport default function SongList(props) {\n  const { albums, tracks, artists, playlists } = props.results;\n  const {\n    foundTracks,\n    setFindQuery,\n    foundTracksName,\n    addTrack,\n    removeTrack,\n    filter,\n    setFilter,\n    query\n  } = props;\n\n  const FoundTracks = () => (\n    <Result\n      {...{\n        title: foundTracksName,\n        items: foundTracks,\n        filter,\n        actions: [\n          { icon: <>+</>, func: addTrack, type: \"ADD\" },\n          { icon: <>-</>, func: removeTrack, type: \"REMOVE\" }\n        ],\n        handleHeaderClick: function(e) {\n          setFindQuery({ name: \"\", uri: \"\" });\n        }\n      }}\n    ></Result>\n  );\n  return (\n    <>\n      {foundTracks ? (\n        <FoundTracks></FoundTracks>\n      ) : (\n        <Results\n          {...{\n            query,\n            filter,\n            results: [\n              {\n                title: \"Tracks\",\n                items: tracks,\n                actions: [\n                  { icon: <>+</>, func: addTrack, type: \"ADD\" },\n                  { icon: <>-</>, func: removeTrack, type: \"REMOVE\" }\n                ],\n                onItemClick: (e, item) => console.log(item.id),\n                onHeaderClick: function(e, { title }) {\n                  setFilter(filter === title ? \"\" : title);\n                }\n              },\n              {\n                title: \"Albums\",\n                items: albums,\n                onItemClick: (e, item) =>\n                  setFindQuery({ uri: item.uri, name: item.name }),\n                onHeaderClick: function(e, { title }) {\n                  setFilter(filter === title ? \"\" : title);\n                }\n              },\n              {\n                title: \"Artists\",\n                items: artists,\n                onItemClick: (e, item) =>\n                  setFindQuery({ uri: item.uri, name: item.name }),\n\n                onHeaderClick: function(e, { title }) {\n                  setFilter(filter === title ? \"\" : title);\n                }\n              },\n              {\n                title: \"Playlists\",\n                items: playlists,\n                onItemClick: (e, item) =>\n                  setFindQuery({ uri: item.uri, name: item.name }),\n                onHeaderClick: function(e, { title }) {\n                  setFilter(filter === title ? \"\" : title);\n                }\n              }\n            ]\n          }}\n        ></Results>\n      )}\n    </>\n  );\n}\n","import styled, { css } from \"styled-components\";\nimport { IoIosAdd, IoIosCheckmark } from \"react-icons/io\";\n\nexport const Container = styled.div`\n  padding: ${props => 2 * props.theme.unit + \"px\"};\n`;\n\nexport const Icon = css`\n  font-size: 3rem;\n  cursor: pointer;\n  &:hover {\n    color: ${props => props.theme.transparent3};\n  }\n  transition: color 0.5s;\n`;\n\nexport const AddIcon = styled(IoIosAdd)`\n  ${Icon}\n`;\n\nexport const TickIcon = styled(IoIosCheckmark)`\n  ${Icon}\n`;\n","import React from \"react\";\nimport SongList from \"../../../components/SongList\";\nimport { Container } from \"./styles\";\nexport default function Search(props) {\n  return (\n    <Container>\n      <SongList {...props}></SongList>\n    </Container>\n  );\n}\n","export default () => {\r\n  const ua = navigator.userAgent;\r\n\r\n  if (\r\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(\r\n      ua\r\n    ) &&\r\n    /Chrome|Safari/i.test(ua)\r\n  )\r\n    return true;\r\n  else return false;\r\n};\r\n","import styled from \"styled-components\";\nimport { Chevron } from \"../../../styles/Chevron\";\nimport deviceHasHeader from \"../../../modules/deviceHasHeader\";\n\nexport const Container = styled.div`\n  height: ${props =>\n    deviceHasHeader() ? `calc(92vh - 56px)` : \"calc(100vh - 56px)\"};\n  position: relative;\n  display: grid;\n  align-content: flex-start;\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\n  padding-top: ${props => 2 * props.theme.unit + \"px\"};\n\n  & > h2 {\n    font-size: 1.5rem;\n    padding-left: ${props => 2 * props.theme.unit + \"px\"};\n  }\n`;\n\nexport const StyledChevron = styled(Chevron)`\n  left: 15px;\n  margin-top: 15px;\n  &:before {\n    transform: rotate(-135deg);\n  }\n`;\n","import React, { useState } from \"react\";\nimport { Container } from \"./styles\";\n\n// Components\n\nimport Carousel from \"../../../components/Carousel/Carousel\";\nimport SongList from \"../../../components/SongList\";\n\nexport default function Library(props) {\n  const { topTracks } = props.results;\n  const { selectedTracks, addTrack, removeTrack } = props;\n\n  return (\n    <Container>\n      <h2>Your Favourites</h2>\n      <Carousel\n        items={topTracks}\n        addItem={addTrack}\n        removeItem={removeTrack}\n        selectedItems={selectedTracks}\n      ></Carousel>\n      <SongList {...props}></SongList>\n    </Container>\n  );\n}\n","import styled from \"styled-components\";\nimport Loader from \"react-loader-spinner\";\n\nexport const Background = styled.div`\n  background: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.black : props.theme.gradient};\n`;\n\nexport const Spinner = styled(Loader)`\n  justify-self: center;\n  align-self: center;\n  animation: fadeIn 0.5s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  animation: fadeOut 0.5s;\n\n  @keyframes fadeOut {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n`;\nexport const Container = styled.div`\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  display: grid;\n  width: 100%;\n  color: ${props => props.theme.white};\n  grid-template-columns: minmax(96px, 160px) 1fr;\n  grid-template-rows:\n    ${props => 6 * props.theme.unit + \"px\"} calc(100vh - 128px)\n    ${props => 10 * props.theme.unit + \"px\"};\n`;\n\nexport const Main = styled.main`\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  max-height: calc(100vh - 128px);\n  overflow: auto;\n`;\n\nexport const Footer = styled.footer`\n  grid-column: span 2;\n  color: ${props => props.theme.white};\n  height: 100%;\n`;\n","export default (state, action) => {\n  switch (action.type) {\n    case \"SET_DEVICE\":\n      return {\n        ...state,\n        id: action.payload.device_id,\n        ready: action.payload.ready\n      };\n\n    case \"UPDATE_PLAYER\": {\n      const roomState = action.payload.roomState;\n      return {\n        ...state,\n        currentSong: roomState.currentSong.uri,\n        paused: !roomState.currentSong.playing,\n        playlist: roomState.playlist\n          .map(track => track.uri)\n          .concat(\n            roomState.recommendations.playlist.selected.map(track => track.uri),\n            roomState.recommendations.playlist.generated.map(track => track.uri)\n          ),\n\n        lastSeek: roomState.currentSong.lastSeek\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import React, { useState, useEffect, useRef } from \"react\";\n\nfunction useTimeout(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setTimeout(tick, delay);\n\n      return () => clearTimeout(id);\n    }\n  }, [delay]);\n}\n\nexport default useTimeout;\n","import { useEffect, useState, useReducer } from \"react\";\n\nimport reducer from \"./reducer\";\nimport usePlay from \"./usePlay\";\nimport useQue from \"./useQue\";\nimport useSeek from \"./useSeek\";\nimport useSetup from \"./useSetup\";\nimport useTogglePause from \"./useTogglePause\";\nimport useVolume from \"./useVolume\";\n\n// This webplayer will control the player by reading state from the room\nexport default function useWebplayer(auth, room, start, duration) {\n  const [deviceState, dispatch] = useReducer(reducer, {\n    id: null,\n    currentSong: null,\n    paused: false,\n    ready: false,\n    playlist: [],\n    lastSeek: 0\n  });\n\n  const [loadScript, setLoadScript] = useState(false);\n\n  //When a track finishes, que the next track and play\n  const { setRemaining, queTrack } = useQue(deviceState, room.controller);\n\n  // connect player and set up events\n  const { player } = useSetup(\n    auth.accessToken,\n    setLoadScript,\n    setRemaining,\n    dispatch\n  );\n\n  // Change volume\n  const { volume, setVolume } = useVolume(player);\n\n  // When seek position changes update player to seek to that position\n  useSeek(deviceState, duration, player);\n\n  // Play loaded track\n  usePlay(deviceState, start, room, auth.accessToken);\n\n  // Pause/Resume loaded Track\n  useTogglePause(deviceState, player);\n\n  // on room state change, reflect that state in the webplayer\n  useEffect(() => {\n    dispatch({ type: \"UPDATE_PLAYER\", payload: { roomState: room.state } });\n  }, [room.state]);\n\n  return { deviceState, loadScript, queTrack, volume, setVolume };\n}\n","import { useCallback, useState, useRef, useEffect } from \"react\";\nimport useTimeout from \"../useTimeout\";\n\nexport default function useQue(deviceState, controller) {\n  const skipAttempts = useRef(0);\n  const [trackFinished, setTrackFinished] = useState(false);\n  const [remaining, setRemaining] = useState(null);\n\n  const queTrack = useCallback(\n    pos => {\n      const nextSongIndex = deviceState.playlist.indexOf(\n        deviceState.currentSong\n      );\n      const nextSong = deviceState.playlist[nextSongIndex + pos];\n\n      if (nextSong) {\n        controller.play(nextSong);\n        setTimeout(() => (skipAttempts.current = 0), 5000);\n      }\n    },\n    [deviceState]\n  );\n\n  // 1 Second before track finishes, que the next track\n  // Workaround for spotify sdk bug\n  useTimeout(() => {\n    skipAttempts.current += 1;\n    setTrackFinished(true);\n  }, remaining);\n\n  //When a track ends, que the next track\n  useEffect(() => {\n    if (trackFinished == true && skipAttempts.current === 1) {\n      queTrack(1);\n      setTrackFinished(false);\n    }\n  });\n\n  return { setRemaining, queTrack };\n}\n","import { useState, useEffect } from \"react\";\n\nexport default function useSetup(token, setLoadScript, setRemaining, dispatch) {\n  const [player, setPlayer] = useState();\n  // Set up webplayer\n  useEffect(() => {\n    // Assign event to listen for script to load\n    if (!window.onSpotifyWebPlaybackSDKReady) {\n      window.onSpotifyWebPlaybackSDKReady = () => {\n        const player = new window.Spotify.Player({\n          name: \"Web Playback SDK Quick Start Player\",\n          getOAuthToken: cb => {\n            cb(token);\n          }\n        });\n        player.connect().then(success => {\n          success\n            ? setPlayer(player)\n            : setPlayer({ error: \"Failed to connect\" });\n        });\n      };\n      // Start loading script\n      setLoadScript(true);\n    }\n  }, [player, window.Spotify]);\n\n  useEffect(() => {\n    if (!player) {\n    }\n  }, [player]);\n\n  //Player Events\n  useEffect(() => {\n    if (player) {\n      // Error handling\n      player.addListener(\"initialization_error\", ({ message }) => {\n        console.error(message);\n      });\n      player.addListener(\"authentication_error\", ({ message }) => {\n        console.error(message);\n      });\n      player.addListener(\"account_error\", ({ message }) => {\n        console.error(message);\n      });\n      player.addListener(\"playback_error\", ({ message }) => {\n        console.error(message);\n      });\n\n      // Ready\n      player.addListener(\"ready\", ({ device_id }) => {\n        console.log(\"Ready with Device ID\", device_id);\n        dispatch({ type: \"SET_DEVICE\", payload: { device_id, ready: true } });\n      });\n\n      // Not Ready\n      player.addListener(\"not_ready\", ({ device_id }) => {\n        dispatch({\n          type: \"SET_DEVICE\",\n          payload: { device_id, ready: false }\n        });\n        console.log(\"Device ID has gone offline\", device_id);\n      });\n    }\n  }, [player]);\n\n  // When device state updates, get current position of track\n  useEffect(() => {\n    if (player) {\n      const handleStateChange = state => {\n        setRemaining(state.duration - state.position - 1000);\n      };\n      player.addListener(\"player_state_changed\", handleStateChange);\n      return () =>\n        player.removeListener(\"player_state_changed\", handleStateChange);\n    }\n  }, [player]);\n  return { player };\n}\n","import { useState } from \"react\";\nimport useDebounce from \"../useDebounce\";\n\nexport default function useVolume(player) {\n  const [volume, setVolume] = useState(80);\n\n  useDebounce(\n    () => {\n      if (player) player.setVolume(volume / 100);\n    },\n    200,\n    [volume]\n  );\n\n  return { volume, setVolume };\n}\n","import { useEffect } from \"react\";\n\nexport default function useSeek(deviceState, duration, player) {\n  useEffect(() => {\n    if (\n      deviceState.ready &&\n      deviceState.currentSong &&\n      duration &&\n      deviceState.lastSeek &&\n      player\n    ) {\n      player.seek(deviceState.lastSeek);\n    }\n  }, [\n    deviceState.ready,\n    deviceState.currentSong,\n    deviceState.lastSeek,\n    duration\n  ]);\n}\n","import { useEffect, useCallback } from \"react\";\n\nexport default function usePlay(deviceState, start, room, token) {\n  const play = useCallback(\n    async track =>\n      fetch(\n        `https://api.spotify.com/v1/me/player/play?device_id=${deviceState.id}`,\n        {\n          method: \"PUT\",\n          body: JSON.stringify({\n            uris: [track]\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n          }\n        }\n      ),\n    [deviceState.id, token]\n  );\n\n  // Load the first track in the roomstate\n  useEffect(() => {\n    if (room.state.playlist.length > 0) {\n      room.controller.play(room.state.playlist[0].uri);\n    }\n  }, []);\n\n  // Play loaded track\n  useEffect(() => {\n    // start variable is used for toggling autoplay\n    if (start) {\n      if (deviceState.ready && deviceState.currentSong) {\n        play(deviceState.currentSong);\n      }\n    } else {\n      room.controller.pause();\n    }\n  }, [deviceState.ready, deviceState.currentSong, start]);\n}\n","import React, { useEffect } from \"react\";\n\nexport default function useTogglePause(deviceState, player) {\n  // Pause/Resume loaded Track\n  useEffect(() => {\n    if (deviceState.ready && deviceState.currentSong) {\n      if (deviceState.paused) {\n        player.pause();\n      } else {\n        player.resume();\n      }\n    }\n  }, [deviceState.ready, deviceState.currentSong, deviceState.paused]);\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport { IoIosVolumeHigh } from \"react-icons/io\";\n\nimport Slider from \"react-input-slider\";\n\nimport \"../global.css\";\nimport theme from \"../theme\";\n\nconst HoverArea = styled.div`\n  align-items: center;\n  display: grid;\n  justify-items: center;\n  width: 40px;\n  height: 80px;\n  z-index: 99999;\n`;\n\nconst SliderBackground = styled.div`\n  background: ${props =>\n    props.theme.mode === \"dark\"\n      ? props.theme.transparentBlack\n      : props.theme.white};\n  opacity: ${props => (props.show ? 1 : 0)};\n  height: ${props => (props.show ? \"160px\" : 0)};\n  width: 40px;\n  border-top-right-radius: 15px;\n  border-top-left-radius: 15px;\n  position: absolute;\n  bottom: 70px;\n  right: 0;\n  padding: 15px;\n  transition: height 0.4s, opacity 0.4s;\n  /* hacky way of changing background color for slider*/\n  & > div {\n    & > div:first-child {\n      background: #ffd5e3 !important;\n    }\n  }\n`;\n\nexport default function VolumeSlider({ volume, setVolume }) {\n  const [show, setShow] = useState(false);\n\n  return (\n    <HoverArea\n      onMouseEnter={() => setShow(true)}\n      onMouseLeave={() => setShow(false)}\n    >\n      <IoIosVolumeHigh style={{ cursor: \"pointer\" }}></IoIosVolumeHigh>\n\n      <SliderBackground show={show}>\n        <Slider\n          axis=\"y\"\n          y={100 - volume}\n          onChange={({ y }) => setVolume(100 - y)}\n          styles={{\n            thumb: {\n              width: 30,\n              height: 6,\n              backgroundColor: theme.white,\n              borderRadius: \"5px\",\n              opacity: show ? 1 : 0,\n              transition: \"opacity 0.4s\",\n              cursor: \"pointer\",\n              boxShadow: \"1px 1px 2px 1px rgba(0, 0, 0, 0.5)\"\n            },\n            track: {\n              backgroundColor: theme.primary,\n              height: show ? \"130px\" : \"0px\",\n              transition: \"height 0.4s\",\n              cursor: \"pointer\"\n            }\n          }}\n        ></Slider>\n      </SliderBackground>\n    </HoverArea>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Slider = styled.div`\n  background: ${props =>\n    props.theme.mode === \"dark\"\n      ? props.theme.transparent2\n      : props.theme.transparentBlack5};\n  position: absolute;\n  bottom: 80px;\n  width: 100%;\n  height: 15px;\n\n  & > input {\n    position: relative;\n    width: 100%;\n    height: 15px;\n    z-index: 99;\n    cursor: pointer;\n  }\n`;\n\nexport const ProgressBar = styled.div.attrs(({ width }) => ({\n  style: {\n    width\n  }\n}))`\n  position: absolute;\n  height: 15px;\n  background: ${props => props.theme.gradient};\n`;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { ProgressBar, Slider } from \"./styles\";\nimport \"../../global.css\";\n\nimport useInterval from \"../../hooks/useInterval\";\n\nexport default function AudioSlider({\n  playing,\n  currentSong,\n  lastSeek,\n  duration,\n  seek\n}) {\n  const [trackPosition, setTrackPosition] = useState();\n\n  const prevSeek = lastSeek;\n  // TODO create new hook that takes in previous state as an argument\n  useInterval(\n    () => {\n      // Necassary due to stale closure\n\n      // If we have seeked, we move 100ms from last seek\n      // if we havent seeked we move 100ms from last trackposition\n      setTrackPosition(lastSeek =>\n        lastSeek !== prevSeek ? trackPosition + 100 : prevSeek + 100\n      );\n    },\n    playing ? 100 : null\n  );\n\n  useEffect(() => {}, [lastSeek]);\n\n  useEffect(() => {\n    setTrackPosition(lastSeek);\n  }, [lastSeek, currentSong]);\n\n  return (\n    <Slider>\n      <ProgressBar\n        width={\n          trackPosition && duration ? (trackPosition / duration) * 100 + \"%\" : 0\n        }\n      ></ProgressBar>\n      <input\n        type=\"range\"\n        min=\"0\"\n        max=\"300\"\n        className=\"slider\"\n        value={trackPosition && duration ? (trackPosition / duration) * 300 : 0}\n        onChange={e => {\n          if (duration) {\n            const seekDestinationMs = Math.round(\n              (parseInt(e.target.value) / 300) * duration\n            );\n            seek(seekDestinationMs);\n          }\n        }}\n      />\n    </Slider>\n  );\n}\n","import styled from \"styled-components\";\nimport Loader from \"react-loader-spinner\";\n\nexport const Container = styled.div`\n  background-color: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.transparent : props.theme.white};\n\n  height: 100%;\n  color: ${props => props.theme.black};\n  display: grid;\n  width: 100%;\n  grid-template-rows: 1fr;\n`;\n\nexport const Body = styled.div`\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n`;\n\nexport const Left = styled.div`\n  display: grid;\n  grid-template-columns: 80px 1fr;\n  align-items: center;\n\n  & > img {\n    width: 80px;\n  }\n\n  & > div {\n    padding-left: 15px;\n    font-size: 0.8rem;\n\n    & > h3 {\n      color: ${props =>\n        props.theme.mode === \"dark\"\n          ? props.theme.white\n          : props.theme.darkestGray};\n    }\n\n    & > p {\n      color: ${props => props.theme.gray};\n      text-transform: capitalize;\n    }\n  }\n`;\n\nexport const Right = styled.div`\n  color: ${props => props.theme.primary};\n  font-size: 2rem;\n  margin-right: 3rem;\n\n  position: relative;\n  display: grid;\n  justify-items: flex-end;\n`;\n\nexport const Spinner = styled(Loader)`\n  padding-top: 5px;\n  text-align: center;\n  background-color: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.transparent : props.theme.white};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport {\n  IoIosSkipBackward,\n  IoIosPlay,\n  IoIosSkipForward,\n  IoIosPause\n} from \"react-icons/io\";\n\nconst Container = styled.div`\n  color: ${props => props.theme.primary};\n  font-size: 1.75rem;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: space-between;\n  justify-items: center;\n  width: 240px;\n  align-self: center;\n  justify-self: center;\n  text-align: center;\n  text-justify: center;\n  & > * {\n    cursor: pointer;\n  }\n\n  & > :nth-child(odd) {\n    margin-top: 0.625rem;\n  }\n  & > :nth-child(2) {\n    font-size: 3rem;\n  }\n`;\n\nexport default function MusicController({\n  room,\n  queTrack,\n  setStart,\n  deviceState\n}) {\n  const isFirstTrack =\n    room.state.playlist\n      .map(track => track.uri)\n      .indexOf(room.state.currentSong.uri) === 0;\n\n  const isLastTrack =\n    room.state.playlist\n      .map(track => track.uri)\n      .indexOf(room.state.currentSong.uri) ===\n    room.state.playlist.length - 1;\n\n  return (\n    <Container>\n      {isFirstTrack ? (\n        <div></div>\n      ) : (\n        <IoIosSkipBackward onClick={() => queTrack(-1)}></IoIosSkipBackward>\n      )}\n\n      {deviceState.paused ? (\n        <IoIosPlay\n          onClick={() => {\n            room.controller.resume();\n            setStart(true);\n          }}\n        ></IoIosPlay>\n      ) : (\n        <IoIosPause\n          onClick={() => {\n            room.controller.pause();\n          }}\n        ></IoIosPause>\n      )}\n      {isLastTrack ? (\n        <div></div>\n      ) : (\n        <IoIosSkipForward onClick={() => queTrack(1)}></IoIosSkipForward>\n      )}\n    </Container>\n  );\n}\n","import React, { useState } from \"react\";\nimport Script from \"react-load-script\";\nimport useWebplayer from \"../../hooks/useWebplayer/\";\nimport theme from \"../../theme\";\nimport VolumeSlider from \"../VolumeSlider\";\nimport AudioSlider from \"../AudioSlider/AudioSlider\";\n\nimport { Container, Body, Left, Right, Spinner } from \"./styles\";\n\nimport MusicController from \"../MusicController\";\n\nexport default function SpotifyWebplayer({\n  auth,\n  room,\n  roomTracks,\n  start,\n  setStart\n}) {\n  const [scriptState, setScriptState] = useState({\n    error: false\n  });\n\n  const duration = roomTracks.currentSong.duration_ms;\n\n  const { loadScript, deviceState, queTrack, volume, setVolume } = useWebplayer(\n    auth,\n    room,\n    start,\n    duration\n  );\n\n  return (\n    <>\n      {loadScript && (\n        <Script\n          url=\"https://sdk.scdn.co/spotify-player.js\"\n          onError={() => setScriptState({ ...scriptState, error: true })}\n          onLoad={() => {\n            setScriptState({ ...scriptState, loaded: true });\n          }}\n        ></Script>\n      )}\n\n      {deviceState.ready ? (\n        <Container>\n          <AudioSlider\n            duration={duration}\n            playing={!deviceState.paused}\n            lastSeek={deviceState.lastSeek}\n            currentSong={deviceState.currentSong}\n            seek={room.controller.seek}\n          ></AudioSlider>\n          <Body>\n            <Left>\n              <img\n                src={roomTracks.currentSong.getImages().default.url}\n                alt=\"\"\n              />\n              <div>\n                <h3>{roomTracks.currentSong.name}</h3>\n                <p>\n                  {roomTracks.currentSong\n                    .getArtists()\n                    .map(artist => artist.name)}\n                </p>\n              </div>\n            </Left>\n            <MusicController\n              setStart={setStart}\n              room={room}\n              queTrack={queTrack}\n              deviceState={deviceState}\n            ></MusicController>\n            <Right>\n              <VolumeSlider\n                volume={volume}\n                setVolume={setVolume}\n              ></VolumeSlider>\n            </Right>\n          </Body>\n        </Container>\n      ) : (\n        <Spinner type=\"Bars\" color={theme.primary} height={70} width={50} />\n      )}\n    </>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  font-size: 0.6em;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  align-content: center;\n  align-self: center;\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\n`;\nexport const Button = styled.div`\n  cursor: pointer;\n  border: 1px solid ${props => props.theme.white};\n  border-radius: 90px;\n  text-align: center;\n  padding: ${props => 1 * props.theme.unit + \"px\"};\n  color: ${props => (props.active ? props.theme.black : props.theme.white)};\n  background-color: ${props =>\n    props.active ? props.theme.white : props.theme.transparent2};\n\n  &:hover {\n    cursor: pointer;\n    color: ${props => props.theme.black};\n    background-color: ${props =>\n      props.active ? props.theme.white : props.theme.transparent4};\n  }\n`;\n","import React from \"react\";\nimport { Container, Button } from \"./styles\";\n\nexport default function SeachFilter({ filter, setFilter }) {\n  const RadioButton = ({ text }) => {\n    return (\n      <Button\n        active={filter === text}\n        onClick={() => {\n          setFilter(filter === text ? \"\" : text);\n        }}\n      >\n        {text}\n      </Button>\n    );\n  };\n  return (\n    <Container>\n      <RadioButton text={\"Tracks\"}></RadioButton>\n      <RadioButton text={\"Playlists\"}></RadioButton>\n      <RadioButton text={\"Artists\"}></RadioButton>\n      <RadioButton text={\"Albums\"}></RadioButton>\n    </Container>\n  );\n}\n","import styled from \"styled-components\";\nimport { IoIosPerson } from \"react-icons/io\";\n\nexport const ProfileIcon = styled(IoIosPerson)`\n  border: 2px solid ${props => props.theme.transparent4};\n  border-radius: 90px;\n  width: ${props => 4 * props.theme.unit + \"px\"};\n  height: ${props => 4 * props.theme.unit + \"px\"};\n\n  cursor: pointer;\n  color: ${props => props.theme.transparent4};\n\n  &:hover {\n    color: ${props => props.theme.white};\n  }\n`;\nexport const Container = styled.header`\n  padding: ${props => 2 * props.theme.unit + \"px\"};\n  grid-template-columns: 2fr 1fr;\n  display: grid;\n  justify-items: flex-end;\n  align-content: center;\n`;\n\nexport const Wrapper = styled.div`\n  grid-template-columns: 1fr 1fr;\n  display: grid;\n  justify-self: flex-start;\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\n`;\n\nexport const SearchBar = styled.input`\n  padding: ${props => 1 * props.theme.unit + \"px\"};\n\n  border-radius: 2px;\n  background-color: ${props => props.theme.transparent4};\n  border: none;\n  display: block;\n  justify-self: start;\n  width: ${props => 34 * props.theme.unit + \"px\"};\n`;\n","import React, { useEffect } from \"react\";\nimport SearchFilter from \"../SearchFilter/SeachFilter\";\nimport { Container, Wrapper, SearchBar, ProfileIcon } from \"./styles\";\n\nexport default function DesktopHeader({ filter, setFilter, query, setQuery }) {\n  return (\n    <Container>\n      <Wrapper>\n        <SearchBar\n          value={query}\n          placeholder=\"Search\"\n          onChange={e => setQuery(e.target.value)}\n        ></SearchBar>\n        <SearchFilter filter={filter} setFilter={setFilter}></SearchFilter>\n      </Wrapper>\n      <ProfileIcon></ProfileIcon>\n    </Container>\n  );\n}\n","import styled, { css } from \"styled-components\";\nimport { IoIosHome, IoIosSearch, IoIosList } from \"react-icons/io\";\nimport { Link } from \"react-router-dom\";\n\nexport const StyledLink = styled(Link)`\n  color: ${props => props.theme.white};\n  text-decoration: none;\n  display: grid;\n  justify-self: flex-start;\n  grid-template-columns: 2rem 1fr;\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\n  cursor: pointer;\n  color: ${props => props.theme.transparent4};\n\n  &:hover {\n    color: ${props => props.theme.white};\n  }\n  transition: color 0.4s;\n`;\nexport const Container = styled.nav`\n  grid-row: span 2;\n  background-color: ${props => props.theme.transparent};\n  display: grid;\n  justify-content: center;\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\n  padding: ${props => 4 * props.theme.unit + \"px\"};\n  grid-template-rows: 40px 40px 40px 1fr;\n\n  & p {\n    padding-top: 5px;\n    font-size: 1.2rem;\n  }\n\n  & div {\n    align-self: flex-end;\n\n    & button {\n      cursor: pointer;\n      padding: 8px;\n      border: none;\n      border-radius: 90px;\n      background: ${props =>\n        props.theme.mode === \"dark\"\n          ? props.theme.gradient\n          : props.theme.transparentBlack4};\n      color: ${props =>\n        props.theme.mode === \"dark\" ? props.theme.white : props.theme.primary};\n    }\n  }\n`;\n\nconst Icon = css`\n  font-size: 2rem;\n`;\n\nexport const HomeIcon = styled(IoIosHome)`\n  ${Icon}\n`;\n\nexport const SearchIcon = styled(IoIosSearch)`\n  ${Icon}\n`;\n\nexport const LibraryIcon = styled(IoIosList)`\n  ${Icon}\n`;\n","import React from \"react\";\nimport {\n  Container,\n  HomeIcon,\n  SearchIcon,\n  LibraryIcon,\n  StyledLink\n} from \"./styles\";\nexport default function Sidebar({ path, toggleTheme }) {\n  return (\n    <Container>\n      <StyledLink to={path}>\n        <HomeIcon></HomeIcon>\n        <p>Home</p>\n      </StyledLink>\n      <StyledLink to={`${path}/search`}>\n        <SearchIcon></SearchIcon>\n        <p>Search</p>{\" \"}\n      </StyledLink>\n      <StyledLink to={`${path}/library`}>\n        <LibraryIcon></LibraryIcon>\n        <p>Library</p>\n      </StyledLink>\n      <div>\n        {\" \"}\n        <button onClick={toggleTheme}>\n          {localStorage.getItem(\"theme\") === \"dark\" ? \"Light\" : \"Dark\"} Mode\n        </button>\n      </div>\n    </Container>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  & div {\n    position: absolute;\n    bottom: ${props => 12 * props.theme.unit + \"px\"};\n    height: ${props => 6 * props.theme.unit + \"px\"};\n    width: 100%;\n    transition: opacity 0.7s;\n    text-align: center;\n    padding: ${props => 1.5 * props.theme.unit + \"px\"};\n    pointer-events: none;\n  }\n`;\n\nexport const Error = styled.div`\n  background-color: ${props => props.theme.red};\n  opacity: ${props => (props.active ? 1 : 0)};\n`;\nexport const Success = styled.div`\n  background-color: ${props => props.theme.green};\n  opacity: ${props => (props.active ? 1 : 0)};\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { Container, Success, Error } from \"./styles\";\nimport useTimeout from \"../../hooks/useTimeout\";\n\nexport default function Message({ success, error }) {\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [message, setMessage] = useState({ success: \"\", error: \"\" });\n\n  const generateSuccessMessage = success => {\n    switch (success.type) {\n      case \"ADD_TRACK\":\n        return \"Added track to playlist\";\n      case \"REMOVE_TRACK\":\n        return \"Removed Track from playlist\";\n      default:\n        return \"\";\n    }\n  };\n  const generateErrorMessage = error => {\n    switch (error.type) {\n      case \"ADD_TRACK\":\n        return \"Track already in playlist\";\n      case \"REMOVE_TRACK\":\n        return \"Track not in playlist\";\n    }\n  };\n\n  // set SUccess message when successful event occurs\n  useEffect(() => {\n    if (success) {\n      setMessage({ success: generateSuccessMessage(success), error: \"\" });\n    }\n  }, [success]);\n\n  useEffect(() => {\n    if (error) {\n      setMessage({ success: \"\", error: generateErrorMessage(error) });\n    }\n  }, [error]);\n\n  // After 3 seconds remove success/error message\n  useTimeout(() => {\n    if (message.success || message.error) {\n      setMessage({ error: \"\", success: \"\" });\n    }\n  }, (message.success || message.error) && 3000);\n\n  return (\n    <Container>\n      <Error active={message.error}>{message.error}</Error>\n      <Success active={message.success}>{message.success}</Success>\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n// Pages\nimport Home from \"../../Desktop/Home/Home\";\nimport Search from \"../../Agnostic/Search/Search\";\nimport Library from \"../../Agnostic/Library/Library\";\n\n// Styles\nimport { Background, Container, Footer, Main, Spinner } from \"./styles\";\nimport theme from \"../../../theme\";\n\n// Components\nimport SpotifyWebplayer from \"../../../components/SpotifyWebplayer/SpotifyWebplayer\";\nimport DesktopHeader from \"../../../components/DesktopHeader/DesktopHeader\";\nimport Sidebar from \"../../../components/Sidebar/Sidebar.js\";\nimport Message from \"../../../components/Message/Message\";\n\nexport default function RoomView(props) {\n  const [filter, setFilter] = useState(\"\");\n  const [startAudio, setStartAudio] = useState(false);\n\n  const {\n    query,\n    setQuery,\n    room,\n    roomTracks,\n    libraryResults,\n    queryResults,\n    findResult,\n    setFindQuery,\n    playerReady,\n    auth,\n    match,\n    roomSuccess,\n    roomError,\n    loaded,\n    toggleTheme\n  } = props;\n\n  const [redirect, setRedirect] = useState(false);\n  useEffect(() => {\n    //Redirect to search when query is entered\n    if (query) {\n      setRedirect(true);\n    }\n  }, [query]);\n\n  useEffect(() => {\n    const route = props.history.location.pathname.split(\"/\")[3];\n\n    if (route !== \"search\" && redirect === true) {\n      //Remove redirect after manually changing routes\n      setRedirect(false);\n    }\n  }, [props.history.location, redirect]);\n\n  useEffect(() => {\n    // Clear find query on re-route\n    setFindQuery({ uri: \"\", name: \"\" });\n  }, [props.history.location]);\n\n  return (\n    <Background>\n      <Container>\n        <Sidebar path={match.url} toggleTheme={toggleTheme}></Sidebar>\n        <DesktopHeader\n          filter={filter}\n          setFilter={setFilter}\n          query={query}\n          setQuery={setQuery}\n        ></DesktopHeader>\n        {loaded ? (\n          <Main>\n            <Route\n              exact\n              path={`${match.path}`}\n              component={() => (\n                <Home\n                  room={room}\n                  setStartAudio={setStartAudio}\n                  roomTracks={roomTracks}\n                  topTracks={libraryResults.topTracks}\n                ></Home>\n              )}\n            ></Route>\n            <Route\n              path={`${match.path}/search`}\n              component={() => (\n                <Search\n                  results={queryResults}\n                  filter={filter}\n                  setFilter={setFilter}\n                  addTrack={room.controller.addTrack}\n                  removeTrack={room.controller.removeTrack}\n                  query={query}\n                  setQuery={setQuery}\n                  foundTracksName={findResult.name}\n                  foundTracks={findResult.tracks}\n                  setFindQuery={setFindQuery}\n                ></Search>\n              )}\n            ></Route>\n            {redirect ? (\n              <Redirect to={`/room/${room.state.id}/search`}></Redirect>\n            ) : (\n              <Route\n                path={`${match.path}/library`}\n                component={() => (\n                  <Library\n                    filter={filter}\n                    setFilter={setFilter}\n                    results={libraryResults}\n                    foundTracks={findResult.tracks}\n                    setFindQuery={setFindQuery}\n                    addTrack={room.controller.addTrack}\n                    removeTrack={room.controller.removeTrack}\n                    foundTracksName={findResult.name}\n                    selectedTracks={roomTracks.playlist}\n                  ></Library>\n                )}\n              ></Route>\n            )}\n          </Main>\n        ) : (\n          <Spinner type=\"Bars\" color={theme.white}></Spinner>\n        )}\n\n        <Footer>\n          <Message success={roomSuccess} error={roomError}></Message>\n          {playerReady && room && room.state.isHost && loaded && (\n            <SpotifyWebplayer\n              auth={auth}\n              room={room}\n              roomTracks={roomTracks}\n              start={startAudio}\n              setStart={setStartAudio}\n            ></SpotifyWebplayer>\n          )}\n        </Footer>\n      </Container>\n    </Background>\n  );\n}\n","import styled from \"styled-components\";\nimport { Chevron } from \"../../styles/Chevron\";\n\nexport const Container = styled.div`\n  /* background-color: \"black\"; */\n  height: calc(100vh - 48px);\n  position: relative;\n`;\nexport const ImageContainer = styled.div`\n  /* Used to position Image */\n  position: relative;\n  top: 0px;\n  height: ${props => props.height * 1.2 + \"px\"};\n  width: ${props => props.width + \"px\"};\n  margin: 0 auto;\n  padding: 32px 0;\n`;\n\nexport const ImageWrapper = styled.div`\n  /* Adds fade effect to bottom of image*/\n\n  height: 100%;\n  &::before {\n    content: \"\";\n    background-image: ${props =>\n      props.theme.mode === \"dark\"\n        ? props.theme.blackFadeGradient\n        : props.theme.whiteFadeGradient};\n    position: absolute;\n    height: 50%; /* based on image height*/\n\n    /* 1 less pixel than padding amount */\n    right: -1px;\n    bottom: 31px;\n    left: -1px;\n  }\n  &::after {\n    content: \"\";\n    display: block;\n    height: 100vh;\n  }\n`;\nexport const Image = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: \"contain\";\n`;\n\nexport const Overlay = styled.div`\n  /* Container to position Song info*/\n\n  position: absolute;\n  min-height: ${props => 12 * props.theme.unit + \"px\"};\n  height: ${props => `calc(100vh - 24px - ${props.height}px)`};\n  width: 100%;\n  bottom: 0px;\n  display: grid;\n`;\n\nexport const SongInfoContainer = styled.div`\n  text-align: center;\n  text-justify: center;\n  align-self: center;\n\n  & > h1 {\n    font-weight: 700;\n  }\n  & > h5 {\n    font-weight: 300;\n    font-size: 1.7rem;\n    color: ${props =>\n      props.theme.mode === \"dark\"\n        ? props.theme.transparent4\n        : props.theme.transparentBlack2};\n  }\n  & > p {\n    font-weight: 100;\n    padding-top: ${props => 1 * props.theme.unit + \"px\"};\n    font-size: 1rem;\n    color: ${props =>\n      props.theme.mode === \"dark\"\n        ? props.theme.transparent3\n        : props.theme.secondary};\n  }\n`;\n\nexport const StyledChevron = styled(Chevron)`\n  bottom: ${props => 1 * props.theme.unit + \"px\"};\n  left: calc(50% - 8px);\n  &:before {\n    border-style: solid;\n    border-width: 1px 1px 0 0;\n    content: \"\";\n    display: inline-block;\n    height: ${props => 2 * props.theme.unit + \"px\"};\n    left: 0;\n    position: relative;\n    vertical-align: top;\n    width: ${props => 2 * props.theme.unit + \"px\"};\n    transform: rotate(135deg);\n  }\n`;\n","import React, { useEffect } from \"react\";\nimport {\n  Container,\n  ImageContainer,\n  ImageWrapper,\n  Image,\n  Overlay,\n  SongInfoContainer,\n  StyledChevron\n} from \"./styles\";\n\nexport default function CurrentTrack(props) {\n  const { AudioVisualizer, title, artist, nextTrack, image } = props;\n  return (\n    <Container>\n      <ImageContainer width={image.width} height={image.height}>\n        <ImageWrapper>\n          <Image src={image.url} />\n        </ImageWrapper>\n      </ImageContainer>\n      <Overlay height={image.height}>\n        <SongInfoContainer>\n          <AudioVisualizer />\n          <h1>{title}</h1>\n          <h5>{artist}</h5>\n          <p>\n            {\" \"}\n            Up next {nextTrack.artist} : {nextTrack.title}\n          </p>\n        </SongInfoContainer>\n      </Overlay>\n      <StyledChevron />\n    </Container>\n  );\n}\n","import React from \"react\";\n\nexport default function AudioVisualizer() {\n  return <div />;\n}\n","import styled from \"styled-components\";\nimport Loader from \"react-loader-spinner\";\nimport deviceHasHeader from \"../../../modules/deviceHasHeader\";\n\nexport const Container = styled.div`\n  height: ${props =>\n    deviceHasHeader() ? `calc(92vh - 56px)` : \"calc(100vh - 56px)\"};\n  position: relative;\n  display: grid;\n`;\n\nexport const StyledList = styled.ul`\n  padding: 0 ${props => 2 * props.theme.unit + \"px\"};\n`;\nexport const Spinner = styled(Loader)`\n  justify-self: center;\n  align-self: center;\n`;\nexport const StyledItem = styled.li`\n  font-size: 0.8rem;\n  display: grid;\n  grid-template-columns: 48px 1fr 48px;\n  margin-bottom: ${props => 2 * props.theme.unit + \"px\"};\n  align-items: center;\n  width: 100%;\n  background-color: ${props =>\n    props.theme.mode === \"dark\" ? \"\" : props.theme.transparent3};\n\n  & img {\n    height: ${props => 6 * props.theme.unit + \"px\"};\n    width: ${props => 6 * props.theme.unit + \"px\"};\n  }\n  & div {\n    padding: 0 0 0 ${props => 1 * props.theme.unit + \"px\"};\n    overflow: hidden;\n    & h3 {\n      font-size: 0.8rem;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    & p {\n      display: inline;\n      color: ${props =>\n        props.theme.mode === \"dark\"\n          ? props.theme.transparent4\n          : props.theme.transparentBlack};\n      font-weight: 100;\n      text-transform: capitalize;\n    }\n  }\n\n  & button {\n    height: ${props => 6 * props.theme.unit + \"px\"};\n    width: ${props => 6 * props.theme.unit + \"px\"};\n    background: none;\n    border: none;\n    color: whitesmoke;\n    font-size: 2rem;\n    text-align: center;\n    text-justify: center;\n  }\n  & li {\n    display: inline;\n    text-transform: capitalize;\n  }\n  & li:first-child::after {\n    content: \"\";\n    color: white;\n    padding: 0 3px;\n  }\n`;\n","import React from \"react\";\nimport CurrentTrack from \"../../../components/CurrentTrack/CurrentTrack\";\nimport List from \"../../../components/List\";\nimport AudioVisualizer from \"../../../components/AudioVisualizer\";\nimport { Container, StyledItem, StyledList, Spinner } from \"./styles\";\nimport theme from \"../../../theme\";\n\n// TODO use paralax https://www.youtube.com/watch?v=P5zGTEGPpu4\nexport default function Home(props) {\n  const ItemTemplate = ({ src, name, labels }) => (\n    <StyledItem>\n      {src && <img src={src}></img>}\n      <div>\n        <h3>{name}</h3>\n        <ul>{labels && labels.map((label, i) => <p key={i}>{label}</p>)}</ul>\n      </div>\n    </StyledItem>\n  );\n\n  const { playlist, currentSong, filtered, generated } = props.roomTracks;\n\n  const nextTrack = (playlist &&\n    playlist[\n      playlist.indexOf(\n        playlist.filter(track => track.uri === currentSong.uri)[0]\n      ) + 1\n    ]) || { artist: null, title: null };\n\n  return (\n    <Container>\n      {currentSong && playlist ? (\n        <>\n          {\" \"}\n          <CurrentTrack\n            AudioVisualizer={AudioVisualizer}\n            title={currentSong.name}\n            artist={currentSong.artists[0].name}\n            image={currentSong.getImages().medium}\n            nextTrack={{ artist: nextTrack.artist, title: nextTrack.name }}\n          ></CurrentTrack>{\" \"}\n          <List items={playlist} Style={StyledList}>\n            <ItemTemplate\n              src={item => item.getImages().default.url}\n              name={item => item.name}\n              labels={item =>\n                item\n                  .getLabels()\n                  .map(label => `${label} `)\n                  .slice(1, 3)\n              }\n            ></ItemTemplate>\n          </List>\n          <List items={filtered} Style={StyledList}>\n            <ItemTemplate\n              src={item => item.getImages().default.url}\n              name={item => item.name}\n              labels={item =>\n                item\n                  .getLabels()\n                  .map(label => `${label} `)\n                  .slice(1, 3)\n              }\n            ></ItemTemplate>\n          </List>{\" \"}\n          <List items={generated} Style={StyledList}>\n            <ItemTemplate\n              src={item => item.getImages().default.url}\n              name={item => item.name}\n              labels={item =>\n                item\n                  .getLabels()\n                  .map(label => `${label} `)\n                  .slice(1, 3)\n              }\n            ></ItemTemplate>\n          </List>\n        </>\n      ) : (\n        <Spinner type=\"Bars\" color={theme.white}></Spinner>\n      )}\n    </Container>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  padding-bottom: ${props => 20 * props.theme.unit + \"px\"};\n  background-color: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.black : props.theme.white};\n`;\nexport const Container = styled.div`\n  width: 100%;\n  display: grid;\n  grid-gap: ${props => 2 * props.theme.unit + \"px\"};\n  border-bottom: 1px solid ${props => props.theme.white};\n  padding: ${props => 2 * props.theme.unit + \"px\"};\n  position: fixed;\n  background-color: ${props => props.theme.darkestGray};\n  background-image: ${props =>\n    props.theme.mode === \"light\" && props.theme.gradient};\n  z-index: 10;\n  & input {\n    margin: 0px;\n    background-color: ${props => props.theme.transparent};\n    border: none;\n    border-bottom: 1px solid ${props => props.theme.white};\n    width: 100%;\n    height: ${props => 8 * props.theme.unit + \"px\"};\n    color: ${props => props.theme.white};\n    font-size: 1.75rem;\n    padding: ${props => 2 * props.theme.unit + \"px\"};\n\n    &::placeholder {\n      color: ${props => props.theme.transparent4};\n    }\n  }\n`;\n","import React from \"react\";\nimport { Wrapper, Container } from \"./styles\";\nimport SearchFilter from \"../SearchFilter/SeachFilter\";\n\nexport default function SearchBar({ query, setQuery, filter, setFilter }) {\n  return (\n    <Wrapper>\n      <Container>\n        <input\n          placeholder={\"Enter a query\"}\n          value={query}\n          onChange={e => setQuery(e.target.value)}\n        ></input>\n        <SearchFilter filter={filter} setFilter={setFilter}></SearchFilter>\n      </Container>\n    </Wrapper>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\n\nimport SearchBar from \"../../../components/SearchBar/SearchBar\";\nimport SongList from \"../../../components/SongList\";\nimport styled from \"styled-components\";\nimport deviceHasHeader from \"../../../modules/deviceHasHeader\";\n\nconst Container = styled.div`\n  height: ${() =>\n    deviceHasHeader() ? `calc(92vh - 216px)` : \"calc(100vh - 216px)\"};\n  position: relative;\n`;\n\nexport default function Search(props) {\n  return (\n    <Container>\n      <SongList {...props}></SongList>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nconst Row = css`\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: center;\n`;\n\nconst Body = styled.div`\n  ${Row}\n  border-top: 1px solid ${props => props.theme.white};\n  justify-items: center;\n`;\nconst Underlay = styled.div`\n  ${Row}\n  position:absolute;\n  top: 0px;\n  right: 5px;\n  pointer-events: none;\n`;\n\nconst Container = styled.div`\n  height: ${props => 7 * props.theme.unit + \"px\"};\n  width: 100%;\n  position: fixed;\n  background-color: ${props => props.theme.darkestGray};\n  background-image: ${props =>\n    props.theme.mode === \"light\" && props.theme.gradient};\n  & i {\n    color: ${props => props.theme.white};\n  }\n`;\n\nexport default function MobileMenu({ path }) {\n  return (\n    <Container>\n      <Body>\n        <Underlay>\n          <span>|</span>\n          <span>|</span>\n          <span>|</span>\n        </Underlay>\n        <Link to={path}>\n          <i className=\"fas fa-music\" />\n        </Link>\n        <Link to={`${path}/search`}>\n          <i className=\"fas fa-search\" />\n        </Link>\n        <Link to={`${path}/library`}>\n          <i className=\"fas fa-heart\" />\n        </Link>\n      </Body>\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nimport Home from \"../Home/Home\";\nimport Search from \"../Search/Search\";\nimport Library from \"../../Agnostic/Library/Library\";\nimport Footer from \"../../../components/MobileMenu\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  animation: fadeIn 1s;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  color: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.white : props.theme.black};\n\n  background-color: ${props =>\n    props.theme.mode === \"dark\" ? props.theme.black : props.theme.white};\n\n  font-size: 1.5rem;\n  overflow: scroll;\n`;\n\nexport default function RoomView(props) {\n  const {\n    query,\n    setQuery,\n    room,\n    roomTracks,\n    libraryResults,\n    queryResults,\n    findResult,\n    setFindQuery,\n    playerReady,\n    auth,\n    match,\n    filter,\n    setFilter\n  } = props;\n\n  const [redirect, setRedirect] = useState(false);\n  useEffect(() => {\n    //Redirect to search when query is entered\n    if (query) {\n      setRedirect(true);\n    }\n  }, [query]);\n\n  useEffect(() => {\n    const route = props.history.location.pathname.split(\"/\")[3];\n\n    if (route !== \"search\" && redirect === true) {\n      //Remove redirect after manually changing routes\n      setRedirect(false);\n    }\n  }, [props.history.location, redirect]);\n\n  useEffect(() => {\n    // Clear find query on re-route\n    setFindQuery({ uri: \"\", name: \"\" });\n  }, [props.history.location]);\n  return (\n    <Container>\n      <Route\n        exact\n        path={`${match.path}`}\n        component={() => <Home roomTracks={roomTracks}></Home>}\n      ></Route>\n      <Route\n        path={`${match.path}/search`}\n        component={() => (\n          <Search\n            results={queryResults}\n            filter={filter}\n            setFilter={setFilter}\n            addTrack={room.controller.addTrack}\n            removeTrack={room.controller.removeTrack}\n            query={query}\n            foundTracksName={findResult.name}\n            foundTracks={findResult.tracks}\n            setFindQuery={setFindQuery}\n            setQuery={setQuery}\n          ></Search>\n        )}\n      ></Route>\n      {redirect ? (\n        <Redirect to={`/room/${room.state.id}/search`}></Redirect>\n      ) : (\n        <Route\n          path={`${match.path}/library`}\n          component={() => (\n            <Library\n              filter={filter}\n              setFilter={setFilter}\n              results={libraryResults}\n              foundTracks={findResult.tracks}\n              setFindQuery={setFindQuery}\n              addTrack={room.controller.addTrack}\n              removeTrack={room.controller.removeTrack}\n              foundTracksName={findResult.name}\n              selectedTracks={roomTracks.playlist}\n            ></Library>\n          )}\n        ></Route>\n      )}\n      <Footer path={match.url} />\n    </Container>\n  );\n}\n","// Deps\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nimport DesktopView from \"../../Desktop/RoomView/RoomView\";\r\nimport MobileView from \"../../Mobile/RoomView/RoomView\";\r\n\r\n// Hooks\r\nimport useRoomTracks from \"../../../hooks/useRoomTracks\";\r\nimport useSearch from \"../../../hooks/useSearch/useSearch\";\r\nimport useLibrary from \"../../../hooks/useLibrary\";\r\nimport useFind from \"../../../hooks/useFind\";\r\nimport useBreakpoint from \"../../../hooks/useBreakpoint\";\r\nimport useRoom from \"../../../hooks/useRoom\";\r\nimport useProfile from \"../../../hooks/useProfile\";\r\nimport SearchBar from \"../../../components/SearchBar/SearchBar\";\r\n\r\nexport default function Room(props) {\r\n  const { room, roomSuccess, roomError } = useRoom();\r\n  const { roomTracks } = useRoomTracks(props.auth, room);\r\n\r\n  const { libraryResults } = useLibrary(props.auth);\r\n  // TODO change to searchQuery\r\n  const { query, setQuery, queryResults } = useSearch(props.auth);\r\n  const [findResult, setFindQuery] = useFind(props.auth);\r\n  const user = useProfile(props.auth);\r\n  const playerReady =\r\n    props.auth.accessToken &&\r\n    room.state &&\r\n    room.state.currentSong &&\r\n    roomTracks &&\r\n    roomTracks.currentSong &&\r\n    user;\r\n\r\n  const { breakpoint } = useBreakpoint();\r\n\r\n  useEffect(() => {\r\n    if (\r\n      user &&\r\n      user.id &&\r\n      libraryResults &&\r\n      libraryResults.topTracks &&\r\n      libraryResults.topTracks.length > 0 &&\r\n      props.auth.accessToken\r\n    ) {\r\n      const id = window.location.pathname.split(\"/\")[2];\r\n      const tokens = JSON.parse(localStorage.getItem(\"tokens\")) || {};\r\n      const token = tokens[id];\r\n      room.controller.joinRoom(\r\n        id,\r\n        user.uri,\r\n        \"\",\r\n        token ? token : null,\r\n        libraryResults.topTracks.map(track => {\r\n          return { uri: track.uri };\r\n        }),\r\n        props.auth.accessToken\r\n      );\r\n    }\r\n  }, [user, libraryResults, props.auth.accessToken]);\r\n\r\n  const loaded =\r\n    room &&\r\n    room.state &&\r\n    room.state.currentSong &&\r\n    room.state.currentSong.uri &&\r\n    roomTracks &&\r\n    roomTracks.currentSong &&\r\n    roomTracks.currentSong.uri &&\r\n    libraryResults &&\r\n    (libraryResults.tracks ||\r\n      libraryResults.artists ||\r\n      libraryResults.albums ||\r\n      libraryResults.playlists);\r\n  const [filter, setFilter] = useState(\"\");\r\n\r\n  const viewProps = {\r\n    loaded,\r\n    playerReady,\r\n    room,\r\n    roomTracks,\r\n    findResult,\r\n    setFindQuery,\r\n    query,\r\n    setQuery,\r\n    queryResults,\r\n    libraryResults,\r\n    auth: props.auth,\r\n    roomSuccess,\r\n    roomError,\r\n    filter,\r\n    setFilter,\r\n    ...props\r\n  };\r\n\r\n  /* hacky solution required with the search bar */\r\n  return (\r\n    <>\r\n      {breakpoint === \"mobile\" ? (\r\n        <>\r\n          <Route\r\n            path={`${props.match.path}/search`}\r\n            render={() => (\r\n              <SearchBar\r\n                query={query}\r\n                setQuery={setQuery}\r\n                filter={filter}\r\n                setFilter={setFilter}\r\n              ></SearchBar>\r\n            )}\r\n          ></Route>\r\n\r\n          <MobileView {...viewProps}></MobileView>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <DesktopView {...viewProps}></DesktopView>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\n\nexport default function useRoom() {\n  const socket = io.connect(\n    process.env.NODE_ENV === \"production\"\n      ? \"https://airplayer.herokuapp.com\"\n      : \"http://localhost:8888\"\n  );\n\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState({ type: \"\", payload: \"\" });\n\n  const Controller = socket => {\n    // This function is used to create a new controller to manage the room.\n    // It has to recreated to inherit the socket closure after a room as been joined\n    return {\n      joinRoom: (id, userId, password = null, token, topTracks, accessToken) =>\n        socket.emit(\"JOIN_ROOM\", {\n          id,\n          userId,\n          password: null,\n          token,\n          topTracks,\n          accessToken\n        }),\n      addTrack: id => socket.emit(\"ADD_TRACK\", { uri: id }),\n      removeTrack: id => socket.emit(\"REMOVE_TRACK\", { uri: id }),\n      updatePlaylist: playlist => socket.emit(\"UPDATE_PLAYLIST\", playlist),\n      play: id => socket.emit(\"PLAY\", { uri: id }),\n      pause: () => socket.emit(\"PAUSE\", null),\n      resume: () => socket.emit(\"RESUME\", null),\n      seek: destination => socket.emit(\"SEEK\", destination)\n    };\n  };\n\n  const [room, setRoom] = useState({\n    state: {},\n    controller: Controller(socket),\n    error: \"\"\n  });\n\n  useEffect(() => {\n    socket.on(\"ROOM_CREATED\", payload =>\n      setSuccess({ type: \"ROOM_CREATED\", payload, message: \"Room Created\" })\n    );\n    socket.on(\"ROOM_UPDATED\", nextRoomState => {\n      setRoom({\n        ...room,\n        state: { ...nextRoomState, isHost: socket.id === nextRoomState.host },\n        controller: Controller(socket)\n      });\n    });\n    socket.on(\"ERROR\", ({ type, payload, message, code }) =>\n      setError({ type, payload, message, code })\n    );\n    socket.on(\"SUCCESS\", ({ type, payload, message }) =>\n      setSuccess({ type, payload, message })\n    );\n  }, [room]);\n\n  return { room, roomError: error, roomSuccess: success };\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport Spotify from \"../modules/Spotify\";\nimport { ItemPrototype } from \"../modules/SpotifyHelper/SpotifyHelper\";\n\nexport default function useRoomTracks(auth, room) {\n  // Store Access\n  // Local State\n\n  // Local Variables\n  const [roomTracks, setRoomTracks] = useState({\n    currentSong: null,\n    playlist: null,\n    filtered: null,\n    generated: null\n  });\n  const spotify = Spotify(auth.accessToken);\n\n  useEffect(() => {\n    if (\n      room &&\n      room.state &&\n      room.state.currentSong &&\n      room.state.playlist &&\n      room.state.recommendations &&\n      room.state.recommendations.playlist\n    ) {\n      const currentSongPromise = spotify.find({\n        track: { where: { id: room.state.currentSong.uri.split(\":\")[2] } }\n      });\n      const playlistPromise = Promise.all(\n        room.state.playlist.map(track =>\n          spotify.find({\n            track: { where: { id: track.uri.split(\":\")[2] } }\n          })\n        )\n      );\n      // Tracks that are filtered from toptracks\n      const filteredPromise = Promise.all(\n        room.state.recommendations.playlist.selected.map(track =>\n          spotify.find({\n            track: { where: { id: track.uri.split(\":\")[2] } }\n          })\n        )\n      );\n\n      // Tracks recommended by spotify\n      const generatedPromise = Promise.all(\n        room.state.recommendations.playlist.generated.map(track =>\n          spotify.find({\n            track: { where: { id: track.uri.split(\":\")[2] } }\n          })\n        )\n      );\n      Promise.all([\n        currentSongPromise,\n        playlistPromise,\n        filteredPromise,\n        generatedPromise\n      ]).then(([currentSong, playlist, filtered, generated]) => {\n        Reflect.setPrototypeOf(currentSong, ItemPrototype());\n\n        playlist.map(track => Reflect.setPrototypeOf(track, ItemPrototype()));\n\n        filtered.map(track => Reflect.setPrototypeOf(track, ItemPrototype()));\n        generated.map(track => Reflect.setPrototypeOf(track, ItemPrototype()));\n\n        setRoomTracks({\n          currentSong,\n          playlist,\n          filtered,\n          generated\n        });\n      });\n    }\n  }, [room.state]);\n\n  return { roomTracks };\n}\n","import { useState, useEffect } from \"react\";\nimport Spotify from \"../modules/Spotify\";\nimport { ItemPrototype } from \"../modules/SpotifyHelper/SpotifyHelper\";\n\nexport default function useLibrary(auth) {\n  // Store Access\n\n  const [libraryResults, setQueryResults] = useState({\n    tracks: [],\n    artists: [],\n    playlists: [],\n    albums: [],\n    topTracks: []\n  });\n\n  // Local Variables\n  const spotify = Spotify(auth.accessToken);\n\n  // Search Handler\n  useEffect(() => {\n    const getQueries = async () => {\n      const queries = Object.keys(libraryResults).map(type => {\n        switch (type) {\n          case \"tracks\":\n            return spotify\n              .user()\n              .library()\n              .get(type);\n          case \"albums\":\n            return spotify\n              .user()\n              .library()\n              .get(type);\n          case \"artists\":\n            return spotify.user().artists();\n          case \"playlists\":\n            return spotify.user().playlists();\n          case \"topTracks\":\n            return spotify.user().top(\"tracks\");\n        }\n      });\n\n      const results = await Promise.all(queries);\n\n      const tracks = results[0].error\n        ? []\n        : results[0].items.map(item => item.track);\n\n      const artists = results[1].error ? [] : results[1].artists.items;\n      const playlists = results[2].error ? [] : results[2].items;\n      const albums = results[3].error\n        ? []\n        : results[3].items.map(item => item.album);\n\n      const topTracks = results[4].error ? [] : results[4].items;\n\n      const nextQueryResults = [tracks, artists, playlists, albums, topTracks];\n      nextQueryResults.forEach(results =>\n        results.forEach(item => Reflect.setPrototypeOf(item, ItemPrototype()))\n      );\n      return Object.assign(\n        {},\n        ...Object.keys(libraryResults).map((query, i) => {\n          return {\n            [query]: nextQueryResults[i]\n          };\n        })\n      );\n    };\n    if (auth.accessToken) {\n      getQueries().then(nextResults => {\n        setQueryResults(nextResults);\n      });\n    }\n  }, [auth.accessToken]);\n\n  return {\n    libraryResults\n  };\n}\n","import React, { useState, useEffect } from \"react\";\nimport Spotify from \"../modules/Spotify\";\nimport { ItemPrototype } from \"../modules/SpotifyHelper/SpotifyHelper\";\n\nexport default function useFind(auth) {\n  const [findQuery, setFindQuery] = useState({ uri: \"\", name: \"\" });\n  const [findResult, setFindResult] = useState({ tracks: [], name: \"\" });\n\n  const spotify = Spotify(auth.accessToken);\n\n  useEffect(() => {\n    const getTracks = async (type, uri) => {\n      switch (type) {\n        case \"album\":\n          return getAlbumTracks(uri);\n\n        case \"artist\":\n          return getArtistTracks(uri);\n\n        case \"playlist\":\n          return getPlaylistTracks(uri);\n        default:\n          return null;\n      }\n    };\n\n    if (findQuery.uri !== \"\") {\n      // e.g spotify:albums:123abc => [albums, 123abc]\n      const [type, uri] = findQuery.uri.split(\":\").slice(-2);\n      getTracks(type, uri).then(tracks => {\n        setFindResult({ tracks: tracks, name: findQuery.name });\n      });\n    } else {\n      setFindResult({ tracks: null, name: null });\n    }\n  }, [findQuery]);\n\n  const getArtistTracks = async uri => {\n    const collection = await spotify.find({\n      topTracks: {\n        where: { artist: { id: uri } },\n        market: \"AU\"\n      }\n    });\n    collection.tracks.forEach(item => {\n      Reflect.setPrototypeOf(item, ItemPrototype());\n    });\n    return collection.tracks;\n  };\n\n  const getPlaylistTracks = async uri => {\n    const collection = await spotify.find({\n      tracks: { where: { playlist: { id: uri } } }\n    });\n\n    const tracks = collection.items.map(item => item.track);\n    tracks.forEach(track => {\n      Reflect.setPrototypeOf(track, ItemPrototype());\n    });\n\n    return tracks;\n  };\n  const getAlbumTracks = async uri => {\n    const [collection, album] = await Promise.all([\n      spotify.find({\n        tracks: {\n          where: { albums: { id: uri } }\n        }\n      }),\n      spotify.find({\n        album: { where: { id: uri } }\n      })\n    ]);\n\n    collection.items.forEach(item => {\n      item.images = album.images;\n      Reflect.setPrototypeOf(item, ItemPrototype());\n    });\n    return collection.items;\n  };\n  return [findResult, setFindQuery];\n}\n","import React, { useState, useEffect } from \"react\";\nimport theme from \"../theme\";\n\nexport default function useBreakpoint() {\n  const [breakpoint, setBreakpoint] = useState(\"desktop\");\n\n  const handleResize = () => {\n    const mobile = theme.breakpoints.mobile.substring(\n      0,\n      theme.breakpoints.mobile.length - 2\n    );\n    if (window.innerWidth < mobile) {\n      setBreakpoint(\"mobile\");\n    } else {\n      setBreakpoint(\"tablet\");\n    }\n  };\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  });\n\n  useEffect(() => handleResize(), []);\n\n  return { breakpoint };\n}\n","// Dependencies\nimport React, { useState } from \"react\";\nimport { hot } from \"react-hot-loader\"; // used to fix hot reload issues with styled components during development\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { ThemeProvider } from \"styled-components\";\nimport theme from \"./theme\";\nimport auth from \"./modules/Auth\";\n\n//Routes\nimport Landing from \"./pages/Agnostic/Landing/Landing\";\nimport Callback from \"./pages/Agnostic/Callback\";\nimport RoomSearch from \"./pages/Agnostic/RoomSearch/RoomSearch\";\n\n//Reducers\n\nimport Room from \"./pages/Agnostic/Room/Room\";\n\nimport useAuth from \"./hooks/useAuth\";\n//Styles\nimport \"./global.css\";\nconst prevAuthData = JSON.parse(localStorage.getItem(\"authData\"));\n\nauth.init();\n// const App = hot(module)(() => { // For development, effects styled components\nconst App = () => {\n  const activeTheme = localStorage.getItem(\"theme\");\n  const toggleTheme = () => {\n    localStorage.setItem(\n      \"theme\",\n      activeTheme === \"light\" || activeTheme === null ? \"dark\" : \"light\"\n    );\n    window.location.reload();\n  };\n\n  return (\n    <ThemeProvider\n      theme={\n        activeTheme === \"light\" || activeTheme === null\n          ? theme\n          : { ...theme, mode: \"dark\" }\n      }\n    >\n      <Router>\n        <Route\n          exact\n          path=\"/\"\n          component={props => <Landing {...props} auth={auth}></Landing>}\n        />\n\n        <Route\n          path=\"/roomsearch\"\n          component={() => <RoomSearch auth={auth}></RoomSearch>}\n        />\n\n        <Route\n          path=\"/room/:roomid\"\n          component={props => (\n            <Room {...props} auth={auth} toggleTheme={toggleTheme}></Room>\n          )}\n        />\n\n        <Route\n          path=\"/auth/callback\"\n          component={props => <Callback {...props} auth={auth}></Callback>}\n        />\n      </Router>\n    </ThemeProvider>\n  );\n};\n//   );\n// });\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/spotifyLogo.ddd851ef.png\";"],"sourceRoot":""}