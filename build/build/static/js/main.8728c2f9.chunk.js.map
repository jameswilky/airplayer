{"version":3,"sources":["theme.js","serviceWorker.js","index.js","components/List.js","modules/SpotifyHelper/SpotifyHelper.js","modules/Spotify/index.js","helpers/ObjectUtils.js","components/ListItem.js","hooks/useSearch/useSearch.js","hooks/useInterval.js","styles/StyledListItem.js","components/Carousel/styles.js","components/Carousel/Carousel.js","hooks/useDebounce.js","hooks/useProfile.js","App.js","images/spotifyLogo.png","pages/Agnostic/Callback.js","hooks/useAuth.js","styles/Chevron.js","pages/Desktop/Home/styles.js","pages/Desktop/Home/Home.js","components/Results/styles.js","components/Result/styles.js","components/Result/Result.js","components/Results/Results.js","components/SongList.js","pages/Agnostic/Search/styles.js","pages/Agnostic/Search/Search.js","pages/Agnostic/Library/styles.js","pages/Agnostic/Library/Library.js","pages/Desktop/RoomView/styles.js","hooks/useWebplayer/reducer.js","hooks/useTimeout.js","hooks/useWebplayer/index.js","hooks/useWebplayer/useQue.js","hooks/useWebplayer/useSetup.js","hooks/useWebplayer/useVolume.js","hooks/useWebplayer/useSeek.js","hooks/useWebplayer/usePlay.js","hooks/useWebplayer/useTogglePause.js","components/VolumeSlider.js","components/AudioSlider/styles.js","components/AudioSlider/AudioSlider.js","components/SpotifyWebplayer/styles.js","components/MusicController.js","components/SpotifyWebplayer/SpotifyWebplayer.js","components/SearchFilter/styles.js","components/SearchFilter/SeachFilter.js","components/DesktopHeader/styles.js","components/DesktopHeader/DesktopHeader.js","components/Sidebar/styles.js","components/Sidebar/Sidebar.js","components/Message/styles.js","components/Message/Message.js","pages/Desktop/RoomView/RoomView.js","components/CurrentTrack/styles.js","components/CurrentTrack/CurrentTrack.js","components/AudioVisualizer.js","pages/Mobile/Home/styles.js","pages/Mobile/Home/Home.js","styles/Container.js","components/Input/Input.js","components/SearchBar/styles.js","components/SearchBar/SearchBar.js","pages/Mobile/Search/Search.js","components/MobileMenu.js","pages/Mobile/RoomView/RoomView.js","pages/Agnostic/Room/Room.js","hooks/useRoom.js","hooks/useRoomTracks.js","hooks/useLibrary.js","hooks/useFind.js","hooks/useBreakpoint.js","components/Modal/styles.js","components/Modal/Modal.js","components/CreateRoomForm/styles.js","components/CreateRoomForm/CreateRoomForm.js","pages/Agnostic/RoomSearch/styles.js","pages/Agnostic/RoomSearch/RoomSearch.js","pages/Agnostic/Landing/styles.js","pages/Agnostic/Landing/Landing.js"],"names":["__webpack_exports__","primary","secondary","black","gradient","blackFadeGradient","whiteFadeGradient","darkestGray","darkerGray","darkGray","gray","lightGray","lighterGray","green","red","transparent5","transparent4","transparent3","transparent2","transparent","transparentBlack","transparentBlack2","transparentBlack3","transparentBlack4","transparentBlack5","white","breakpoints","mobile","laptop","desktop","unit","mode","shadow","Boolean","window","location","hostname","match","ReactDOM","render","react_default","a","createElement","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","List","props","_props$items","items","_props$Style","Style","styled","ul","_templateObject","_props$limit","limit","length","react__WEBPACK_IMPORTED_MODULE_3___default","children","slice","map","item","i","React","cloneElement","Object","C_coding_projects_airplayer_client_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","childProps","fromEntries","entries","filter","_ref","C_coding_projects_airplayer_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","_ref3","_ref4","propName","callback","handler","e","ItemProps","key","__webpack_require__","d","SpotifyHelper","SpotifyHelper_ItemPrototype","fallbackImages","large","height","width","url","medium","small","default","ItemPrototype","getArtists","this","type","album","artists","getImages","images","arrayToObject","getLabels","owner","display_name","name","obj","assign","getItems","itemsByType","getNestedProperty","keys","forEach","Reflect","setPrototypeOf","String","prototype","replaceAll","search","replacement","split","join","undefined","arr","apply","concat","C_coding_projects_airplayer_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__","Array","from","_ref2","C_coding_projects_airplayer_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","k","v","C_coding_projects_airplayer_client_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","Spotify","token","send","arguments","api","request","query","body","options","headers","Authorization","Content-type","method","JSON","stringify","fetch","encodeURI","res","json","string","put","q","get","remove","merge","template","_ref5","appendOptions","pluralize","str","hyphenize","replace","m","toLowerCase","depthOf","object","level","hasOwnProperty","depth","Math","max","innerKeys","o","reduce","r","findQuery","conditionBased","target","condition","where","id","option","parseOptions","isEmpty","substring","singleSearch","multiSearch","ids","values","_ref6","_ref6$query","_ref6$type","_ref6$offset","offset","_ref6$limit","_ref6$market","market","_ref6$wildcard","wildcard","queryString","find","user","userQuery","_ref7","_ref7$id","_ref7$ids","_ref7$suffix","suffix","_ref7$prefix","prefix","follows","params","follow","unfollow","getFollowed","library","libraryQuery","libraryBody","_ref8","contains","_ref9","delete","add","top","me","playlists","player","getKey","prop","results","C_coding_projects_airplayer_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","entry","array","names","ListItem","src","labels","_ref$Style","li","_ref$filter","_ref$onClick","onClick","_ref$button","button","react__WEBPACK_IMPORTED_MODULE_1___default","Fragment","label","useSearch","accessToken","_useState","useState","_useState2","C_coding_projects_airplayer_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__","setQuery","_useState3","tracks","albums","_useState4","queryResults","setQueryResults","spotify","getQueries","useCallback","C_coding_projects_airplayer_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_coding_projects_airplayer_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","queries","wrap","_context","prev","next","Promise","all","sent","abrupt","stop","_x","useDebounce","nextResults","useInterval","react__WEBPACK_IMPORTED_MODULE_0__","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","theme","TickIcon","IoIosCheckmark","AddIcon","IoIosAdd","_templateObject2","IconUnderlay","div","_templateObject3","StyledList","_templateObject4","StyledContainer","_templateObject5","StyledItem","_templateObject6","StyledItemContainer","span","_templateObject7","StyledOverlay","_templateObject8","_templateObject9","Carousel","addItem","removeItem","selectedItems","uri","selected","artist","some","dependencies","C_coding_projects_airplayer_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","updated","setUpdated","useProfile","setUser","data","prevAuthData","parse","localStorage","getItem","hot","module","_useAuth","useAuth","login","logout","setAuthData","isAuthenticated","activeTheme","toggleTheme","setItem","reload","styled_components__WEBPACK_IMPORTED_MODULE_5__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","exact","path","component","_pages_Agnostic_Landing_Landing__WEBPACK_IMPORTED_MODULE_7__","_pages_Agnostic_RoomSearch_RoomSearch__WEBPACK_IMPORTED_MODULE_9__","_pages_Agnostic_Room_Room__WEBPACK_IMPORTED_MODULE_10__","_pages_Agnostic_Callback__WEBPACK_IMPORTED_MODULE_8__","exports","p","getHashParams","hashParams","hash","exec","decodeURIComponent","Callback","nextAuthData","access_token","refreshToken","refresh_token","accessTokenCreationTime","Date","now","history","goBack","auth","initialState","authData","server","href","spotifyWindow","open","setTimeout","close","Chevron","visibility","Container","styles_templateObject","Home","room","roomTracks","topTracks","setStartAudio","controller","addTrack","removeTrack","playlist","StyledListItem","currentSong","play","stopPropagation","Results_styles_templateObject","NoQuery","styles_templateObject2","Result_styles_templateObject","Result_styles_templateObject2","StyledChevron","direction","Result","title","actions","_ref$handleItemClick","handleItemClick","_ref$handleHeaderClic","handleHeaderClick","Button","action","func","icon","Result_styles_Container","styles_StyledChevron","Results","setFilter","_props$results","styles_Container","result","bool","onItemClick","onHeaderClick","SongList","foundTracks","setFindQuery","foundTracksName","console","log","Search_styles_templateObject","Icon","css","Search_styles_templateObject2","styles_templateObject3","Search","Search_styles_Container","Library_styles_templateObject","Library_styles_templateObject2","Library","selectedTracks","Library_styles_Container","Background","RoomView_styles_templateObject","Spinner","Loader","RoomView_styles_templateObject2","RoomView_styles_templateObject3","Main","main","styles_templateObject4","Footer","footer","reducer","state","objectSpread","payload","device_id","roomState","paused","playing","track","lastSeek","useTimeout","clearTimeout","useWebplayer","start","duration","_useReducer","useReducer","_useReducer2","slicedToArray","deviceState","dispatch","loadScript","setLoadScript","_useQue","skipAttempts","trackFinished","setTrackFinished","remaining","setRemaining","queTrack","pos","nextSongIndex","indexOf","nextSong","useQue","setPlayer","onSpotifyWebPlaybackSDKReady","Player","getOAuthToken","cb","connect","success","error","addListener","message","handleStateChange","position","removeListener","useSetup","_useVolume","volume","setVolume","useVolume","seek","useSeek","asyncToGenerator","regenerator_default","uris","Content-Type","pause","usePlay","resume","useTogglePause","HoverArea","VolumeSlider_templateObject","SliderBackground","VolumeSlider_templateObject2","show","VolumeSlider","setShow","onMouseEnter","onMouseLeave","index_esm","style","cursor","dist_index_esm","axis","y","onChange","styles","thumb","backgroundColor","borderRadius","opacity","transition","boxShadow","Slider","AudioSlider_styles_templateObject","ProgressBar","attrs","AudioSlider_styles_templateObject2","AudioSlider","trackPosition","setTrackPosition","prevSeek","min","className","value","seekDestinationMs","round","parseInt","SpotifyWebplayer_styles_templateObject","Body","SpotifyWebplayer_styles_templateObject2","Left","SpotifyWebplayer_styles_templateObject3","Right","SpotifyWebplayer_styles_templateObject4","styles_templateObject5","MusicController_templateObject","MusicController","setStart","isFirstTrack","isLastTrack","MusicController_Container","SpotifyWebplayer","scriptState","setScriptState","duration_ms","_useWebplayer","lib_default","onError","onLoad","loaded","SpotifyWebplayer_styles_Container","alt","styles_Spinner","color","SearchFilter_styles_templateObject","SearchFilter_styles_templateObject2","active","SeachFilter","RadioButton","text","styles_Button","SearchFilter_styles_Container","ProfileIcon","IoIosPerson","DesktopHeader_styles_templateObject","header","DesktopHeader_styles_templateObject2","Wrapper","DesktopHeader_styles_templateObject3","SearchBar","input","DesktopHeader_styles_templateObject4","DesktopHeader","DesktopHeader_styles_Container","placeholder","StyledLink","Link","Sidebar_styles_templateObject","nav","Sidebar_styles_templateObject2","Sidebar_styles_templateObject3","HomeIcon","IoIosHome","Sidebar_styles_templateObject4","SearchIcon","IoIosSearch","Sidebar_styles_templateObject5","LibraryIcon","IoIosList","Sidebar","pathname","Sidebar_styles_Container","to","Message_styles_templateObject","Error","Message_styles_templateObject2","Success","Message_styles_templateObject3","Message","_useState5","_useState6","setMessage","generateSuccessMessage","generateErrorMessage","Message_styles_Container","RoomView","startAudio","libraryResults","findResult","playerReady","roomSuccess","roomError","RoomView_styles_Container","react_router","isHost","CurrentTrack_styles_templateObject","ImageContainer","CurrentTrack_styles_templateObject2","ImageWrapper","CurrentTrack_styles_templateObject3","Image","img","CurrentTrack_styles_templateObject4","Overlay","CurrentTrack_styles_templateObject5","SongInfoContainer","styles_templateObject6","CurrentTrack","AudioVisualizer","nextTrack","image","CurrentTrack_styles_Container","CurrentTrack_styles_StyledChevron","Home_styles_templateObject","Home_styles_templateObject2","Home_styles_templateObject3","Home_styles_templateObject4","_props$roomTracks","Home_styles_Container","Home_styles_Spinner","Container_templateObject","Input","setValue","SearchBar_styles_templateObject","SearchBar_styles_templateObject2","styles_Wrapper","SearchBar_styles_Container","_useSearch","Container_Container","SearchBar_SearchBar","Row","MobileMenu_templateObject","MobileMenu_templateObject2","Underlay","MobileMenu_templateObject3","MobileMenu_templateObject4","MobileMenu","MobileMenu_Container","MobileMenu_Body","react_router_dom","RoomView_templateObject","RoomView_Container","Home_Home","Search_Search","Room","_useRoom","socket","io","setError","setSuccess","Controller","joinRoom","userId","password","emit","updatePlaylist","destination","setRoom","on","nextRoomState","host","code","useRoom","setRoomTracks","currentSongPromise","playlistPromise","useRoomTracks","nextQueryResults","toConsumableArray","defineProperty","useLibrary","_useFind","setFindResult","getTracks","t0","getAlbumTracks","getArtistTracks","getPlaylistTracks","_x2","_findQuery$uri$split$","_findQuery$uri$split$2","_callee2","collection","_context2","_x3","_callee3","_context3","_x4","_callee4","_context4","_x5","useFind","_useFind2","breakpoint","setBreakpoint","handleResize","innerWidth","addEventListener","removeEventListener","useBreakpoint","viewProps","RoomView_RoomView","Title","Modal","SearchForm","CreateForm","form","CreateButton","CreateRoomForm","initialData","setData","created","tracksSelected","done","setRoomState","required","go_index_esm","RoomSearch_styles_templateObject","RoomSearch_styles_templateObject2","Head","RoomSearch_styles_templateObject3","ExtendedStyledListItem","RoomSearch","rooms","setRooms","showModal","setShowModal","getTimeSince","minutesSince","getTime","RoomSearch_styles_Container","styles_Body","createdAt","JoinButton","styles_CreateButton","Submit","ShadowWrapper","Landing","spotifyLogo"],"mappings":"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","file":"static/js/main.8728c2f9.chunk.js","sourcesContent":["export default {\r\n  primary: \"rgba(242, 162, 176)\",\r\n  secondary: \"rgba(242,182,147)\",\r\n  black: `rgba(20, 20, 20, 1)`,\r\n\r\n  gradient: `linear-gradient(to top left, rgba(242, 182, 147), rgba(242, 162, 176))`,\r\n  blackFadeGradient: `linear-gradient(\r\n    to top,\r\n    rgba(20, 20, 20, 1),\r\n    rgba(20, 20, 20, 0)\r\n  )`,\r\n  whiteFadeGradient: `linear-gradient(\r\n    to top,\r\n    rgba(245, 245, 245, 1),\r\n    rgba(242, 182, 147, 0 )\r\n  )`,\r\n  darkestGray: `rgba(30, 30, 30, 1)`,\r\n  darkerGray: `rgba(50, 50, 50, 1)`,\r\n  darkGray: `rgba(120, 120, 120, 1)`,\r\n  gray: `rgba(175, 175, 175, 1)`,\r\n  lightGray: `rgba(200, 200, 200, 1)`,\r\n  lighterGray: `rgba(225, 225, 225, 1)`,\r\n\r\n  green: `rgba(20, 215, 20, 0.7)`,\r\n  red: `rgba(242, 20, 20, 0.7)`,\r\n\r\n  transparent5: `rgba(245, 245, 245, 0.8)`,\r\n  transparent4: `rgba(245, 245, 245, 0.6)`,\r\n  transparent3: `rgba(245, 245, 245, 0.3)`,\r\n  transparent2: `rgba(245, 245, 245, 0.15)`,\r\n  transparent: `rgba(245, 245, 245, 0.07)`,\r\n\r\n  transparentBlack: `rgba(20,20,20,0.8)`,\r\n  transparentBlack2: `rgba(20,20,20,0.7)`,\r\n  transparentBlack3: `rgba(20,20,20,0.6)`,\r\n  transparentBlack4: `rgba(20,20,20,0.5)`,\r\n  transparentBlack5: `rgba(20,20,20,0.3)`,\r\n\r\n  white: `rgba(245, 245, 245, 1)`,\r\n\r\n  breakpoints: {\r\n    mobile: \"667px\",\r\n    laptop: \"768px\",\r\n    desktop: \"1080px\"\r\n  },\r\n\r\n  unit: \"8\",\r\n\r\n  mode: \"light\",\r\n\r\n  shadow: \"1px 1px 3px 1px rgba(0, 0, 0, 0.5)\"\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default function List(props) {\r\n  const {\r\n    items = [],\r\n    Style = styled.ul``,\r\n    limit = items ? items.length : 1\r\n  } = props;\r\n\r\n  const ItemProps = function(item, childProps) {\r\n    return Object.fromEntries(\r\n      Object.entries(childProps)\r\n        .filter(([propName]) => propName !== \"Style\")\r\n        .map(([propName, callback]) => {\r\n          // onClick and later other events will pass an evnet and not be fired immediately\r\n          // callbacks are ran immediately\r\n          if (callback) {\r\n            const handler = callback;\r\n            const isEvent = propName.slice(0, 2) === \"on\";\r\n            return isEvent\r\n              ? [propName, (callback = e => handler(e, item))]\r\n              : [propName, (callback = handler(item))];\r\n          } else {\r\n            return [propName, null];\r\n          }\r\n        })\r\n    );\r\n  };\r\n\r\n  const Items = () => (\r\n    <Style>\r\n      {items.length > 0 &&\r\n        props.children &&\r\n        items.slice(0, limit).map((item, i) => {\r\n          return React.cloneElement(props.children, {\r\n            ...ItemProps(item, props.children.props),\r\n            key: i\r\n          });\r\n        })}\r\n    </Style>\r\n  );\r\n\r\n  return <Items></Items>;\r\n}\r\n","import {\r\n  getNestedProperty,\r\n  getKey,\r\n  arrayToObject\r\n} from \"../../helpers/ObjectUtils\";\r\n\r\nimport { msToMinutes } from \"../../helpers/TimeUtils\";\r\n\r\nconst fallbackImages = {\r\n  large: {\r\n    height: 500,\r\n    width: 500,\r\n    url: \"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png\"\r\n  },\r\n  medium: {\r\n    height: 300,\r\n    width: 300,\r\n    url: \"https://i.ibb.co/vjZVL4p/large-removebg-preview.png\"\r\n  },\r\n  small: {\r\n    height: 64,\r\n    width: 64,\r\n    url: \"https://i.ibb.co/608nyr6/small-removebg-preview.png\"\r\n  },\r\n  default: {\r\n    height: 500,\r\n    width: 500,\r\n    url: \"https://i.ibb.co/Hh9dXJQ/medium-removebg-preview.png\"\r\n  }\r\n};\r\n\r\nconst ItemPrototype = () => {\r\n  return {\r\n    getArtists: function() {\r\n      switch (this.type) {\r\n        case \"track\":\r\n          return this.album ? this.album.artists : this.artists;\r\n        case \"album\":\r\n          return this.artists;\r\n        case \"artists\":\r\n          return this;\r\n        default:\r\n          return null;\r\n      }\r\n    },\r\n    getImages: function() {\r\n      switch (this.type) {\r\n        case \"track\":\r\n          return this.album\r\n            ? this.album.images.length < 1\r\n              ? arrayToObject(fallbackImages)\r\n              : arrayToObject(this.album.images, [\"large\", \"medium\", \"small\"])\r\n            : this.images\r\n            ? arrayToObject(this.images, [\"large\", \"medium\", \"small\"])\r\n            : arrayToObject(fallbackImages);\r\n        default:\r\n          return this.images.length < 1\r\n            ? arrayToObject(fallbackImages)\r\n            : arrayToObject(this.images, [\"large\", \"medium\", \"small\"]);\r\n      }\r\n    },\r\n    getLabels: function() {\r\n      return [\r\n        this.type,\r\n        this.type === \"playlist\"\r\n          ? this.owner.display_name\r\n          : this.getArtists()\r\n          ? this.getArtists()[0].name\r\n          : null //add duration\r\n      ];\r\n    }\r\n  };\r\n};\r\nexport default function SpotifyHelper(obj) {\r\n  return Object.assign({}, obj, {\r\n    getItems: function() {\r\n      const itemsByType = getNestedProperty(\"items\", obj);\r\n      Object.keys(itemsByType).forEach(type => {\r\n        itemsByType[type].map(item =>\r\n          Reflect.setPrototypeOf(item, ItemPrototype())\r\n        );\r\n      });\r\n      return itemsByType;\r\n    }\r\n  });\r\n}\r\n\r\nexport { ItemPrototype };\r\n","String.prototype.replaceAll = function(search, replacement) {\r\n  const target = this;\r\n  return target.split(search).join(replacement);\r\n};\r\n\r\nif (Object.fromEntries === undefined) {\r\n  Object.fromEntries = arr =>\r\n    Object.assign({}, ...Array.from(arr, ([k, v]) => ({ [k]: v })));\r\n}\r\n\r\nfunction isEmpty(obj) {\r\n  for (var key in obj) {\r\n    if (obj.hasOwnProperty(key)) return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nconst Spotify = (token, send = true) => {\r\n  const api = \"https://api.spotify.com/v1/\";\r\n\r\n  const request = (query, type, body = \"\") => {\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-type\": \"application/json\"\r\n      },\r\n      method: type\r\n    };\r\n\r\n    if (type !== \"GET\") {\r\n      options.body = JSON.stringify(body);\r\n    }\r\n    if (send) {\r\n      return fetch(encodeURI(`${api}${query}`), options).then(res =>\r\n        res.json()\r\n      );\r\n    } else {\r\n      options.api = api;\r\n      options.string = encodeURI(query);\r\n      return options;\r\n    }\r\n  };\r\n\r\n  const put = (q, body) => request(q, \"PUT\", body);\r\n  const get = q => request(q, \"GET\");\r\n  const remove = (q, body) => request(q, \"DELETE\", body);\r\n\r\n  const merge = (obj, template) => {\r\n    return Object.entries(obj)\r\n      .map(([k, v]) => template(k, v))\r\n      .join(\",\");\r\n  };\r\n\r\n  const appendOptions = options =>\r\n    merge(options, (k, v) => (v === \"\" ? \"\" : `&${k}=${v}`)).replaceAll(\r\n      \",\",\r\n      \"\"\r\n    );\r\n  const appendConditions = condititions =>\r\n    merge(condititions, (k, v) => `${k}:${v}`).replaceAll(\",\", \" \");\r\n\r\n  const pluralize = str => (str.slice(-1) === \"s\" ? str : `${str}s`);\r\n  const dePluralize = str =>\r\n    str.slice(-1) === \"s\" ? str.slice(0, str.length - 1) : str;\r\n\r\n  const hyphenize = str => str.replace(/[A-Z]/g, m => \"-\" + m.toLowerCase());\r\n  const depthOf = function(object) {\r\n    var level = 1;\r\n    var key;\r\n    for (key in object) {\r\n      if (!object.hasOwnProperty(key)) continue;\r\n\r\n      if (typeof object[key] == \"object\") {\r\n        var depth = depthOf(object[key]) + 1;\r\n        level = Math.max(depth, level);\r\n      }\r\n    }\r\n    return level;\r\n  };\r\n\r\n  const innerKeys = function(o) {\r\n    return Object.keys(o).reduce(function(r, k) {\r\n      return typeof o[k] === \"object\" ? innerKeys(o[k]) : ((r[k] = o[k]), r);\r\n    }, {});\r\n  };\r\n\r\n  const multiSearch = query =>\r\n    Object.keys(innerKeys(query))[0] === \"0\" && depthOf(query) === 4;\r\n\r\n  const singleSearch = query =>\r\n    Object.keys(innerKeys(query))[0] === \"id\" && depthOf(query) === 3;\r\n\r\n  const conditionBased = query =>\r\n    Object.keys(innerKeys(query))[0] === \"id\" && depthOf(query) === 4;\r\n\r\n  const parseOptions = (query, target) =>\r\n    Object.fromEntries(\r\n      Object.entries(query[target]).filter(option => option[0] !== \"where\")\r\n    );\r\n  const findQuery = query => {\r\n    if (conditionBased(query)) {\r\n      const target = Object.keys(query)[0];\r\n      const condition = Object.keys(query[target].where)[0];\r\n      const id = query[target].where[condition].id;\r\n\r\n      const options = parseOptions(query, target);\r\n      return `${pluralize(condition)}/${id}/${hyphenize(target)}${\r\n        isEmpty(options) ? \"\" : `?${appendOptions(options).substring(1)}`\r\n      }`;\r\n    }\r\n    if (singleSearch(query)) {\r\n      const target = Object.keys(query)[0];\r\n      const id = query[target].where.id;\r\n      return `${pluralize(hyphenize(target))}/${id}`;\r\n    }\r\n    if (multiSearch(query)) {\r\n      const target = Object.keys(query)[0];\r\n      const ids = Object.values(innerKeys(query));\r\n      return `${pluralize(hyphenize(target))}?ids=${ids}`;\r\n    }\r\n  };\r\n  return {\r\n    search: ({\r\n      query = \"\",\r\n      type = \"\",\r\n      offset = \"\",\r\n      limit = \"\",\r\n      market = \"\",\r\n      wildcard = false\r\n    }) => {\r\n      const buildQuery = () =>\r\n        typeof query === \"string\"\r\n          ? wildcard\r\n            ? `${query}*`\r\n            : `${query}`\r\n          : typeof query === \"object\"\r\n          ? appendConditions(query)\r\n          : \"\";\r\n\r\n      const queryString = `search?q=${buildQuery()}${appendOptions({\r\n        type: dePluralize(type),\r\n        limit,\r\n        offset,\r\n        market\r\n      })}`;\r\n\r\n      return get(queryString);\r\n    },\r\n\r\n    // browse: query => (send ? get(findQuery) : findQuery(query)),\r\n\r\n    // albums,artists, tracks\r\n    find: query => get(findQuery(query)),\r\n\r\n    // library, follow , personalization , users profile\r\n    user: () => {\r\n      const userQuery = ({\r\n        id = \"\",\r\n        ids = \"\",\r\n        type,\r\n        suffix = \"\",\r\n        prefix = \"\"\r\n      }) =>\r\n        type === \"playlist\"\r\n          ? `playlists/${id ? id : ids}${suffix}`\r\n          : `${prefix}?type=${type}${id || ids ? `&ids=${id ? id : ids}` : \"\"}`;\r\n\r\n      return {\r\n        follows: params =>\r\n          get(userQuery({ ...params, prefix: \"me/following/contains\" })),\r\n\r\n        follow: params =>\r\n          put(\r\n            userQuery({\r\n              ...params,\r\n              suffix: \"/followers\",\r\n              prefix: \"me/following\"\r\n            })\r\n          ),\r\n\r\n        unfollow: params =>\r\n          remove(\r\n            userQuery({\r\n              ...params,\r\n              suffix: \"/followers\",\r\n              prefix: \"me/following\"\r\n            })\r\n          ),\r\n\r\n        getFollowed: params =>\r\n          get(userQuery({ ...params, prefix: \"me/following\" })),\r\n\r\n        library: () => {\r\n          const libraryQuery = query =>\r\n            `me/${typeof query === `string` ? pluralize(query) : query.type}`;\r\n\r\n          const libraryBody = ({ id, ids }) => (ids ? ids : [id]);\r\n\r\n          return {\r\n            contains: ({ id, type, ids }) =>\r\n              get(`me/${pluralize(type)}/contains?ids=${id ? id : ids}`),\r\n            get: query => get(libraryQuery(query)), // not libary.get, refers to function in Spotify() closure\r\n            delete: query => remove(libraryQuery(query), libraryBody(query)),\r\n            add: query => put(libraryQuery(query), libraryBody(query))\r\n          };\r\n        },\r\n        top: type => get(`me/top/${pluralize(type)}`),\r\n        me: () => get(\"me\"),\r\n        playlists: () => get(\"me/playlists\"),\r\n        artists: () => get(\"me/following?type=artist\")\r\n      };\r\n    },\r\n\r\n    playlists: () => {},\r\n    player: () => {}\r\n  };\r\n};\r\n\r\nexport default Spotify;\r\n","const getKey = obj =>\r\n  Object.keys(obj)[0] === undefined ? {} : Object.keys(obj)[0];\r\n\r\nconst getNestedProperty = (prop, results) =>\r\n  Object.assign(\r\n    {},\r\n    ...Object.entries(results).map(entry => {\r\n      return entry[1] === null\r\n        ? { [entry[0]]: [] }\r\n        : {\r\n            [entry[0]]: Object.values({ ...entry[1][prop] })\r\n          };\r\n    })\r\n  );\r\n\r\nconst arrayToObject = (array, names) =>\r\n  names\r\n    ? names.length === array.length\r\n      ? Object.assign(...names.map((k, i) => ({ [k]: array[i] })), {\r\n          [\"default\"]: array[0]\r\n        })\r\n      : Object.assign({}, { [\"default\"]: array[0] })\r\n    : Object.assign({}, { ...array });\r\nexport { getKey, getNestedProperty, arrayToObject };\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default function ListItem({\r\n  src,\r\n  name,\r\n  labels,\r\n  Style = styled.li``,\r\n  filter = \"\",\r\n  onClick = () => {},\r\n  button = <></>\r\n}) {\r\n  const Labels = () => (\r\n    <ul>\r\n      {labels.map((label, i) => (\r\n        <p key={i}>{label}</p>\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  return (\r\n    <Style filter={filter} onClick={(e, item) => onClick(e, item)}>\r\n      {src && <img src={src}></img>}\r\n      <div>\r\n        <h3>{name}</h3>\r\n        {labels && <Labels></Labels>}\r\n      </div>\r\n      {button}\r\n    </Style>\r\n  );\r\n}\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport Spotify from \"../../modules/Spotify\";\r\nimport useDebounce from \"../useDebounce\";\r\nimport { getKey } from \"../../helpers/ObjectUtils\";\r\nimport SpotifyHelper from \"../../modules/SpotifyHelper/SpotifyHelper\";\r\n\r\nexport default function useSearch(accessToken) {\r\n  // Store Access\r\n  // Local State\r\n  const [query, setQuery] = useState(\"\");\r\n  const [queryResults, setQueryResults] = useState({\r\n    tracks: {},\r\n    artists: {},\r\n    playlists: {},\r\n    albums: {}\r\n  });\r\n\r\n  // Local Variables\r\n  const spotify = Spotify(accessToken);\r\n\r\n  const getQueries = useCallback(\r\n    async query => {\r\n      const queries = Object.keys(queryResults).map(type =>\r\n        spotify.search({ query, type })\r\n      );\r\n      const results = await Promise.all(queries);\r\n      return Object.assign(\r\n        {},\r\n        ...Object.keys(queryResults).map((query, i) => {\r\n          return {\r\n            [query]:\r\n              getKey(results[i]) === \"error\" ? results[i] : results[i][query]\r\n          };\r\n        })\r\n      );\r\n    },\r\n    [query, queryResults]\r\n  );\r\n\r\n  // Search handler, triggers when query updates, with 200 millisecond delay, and using the latest query to send\r\n  useDebounce(\r\n    () => {\r\n      if (query !== \"\" && accessToken) {\r\n        getQueries(query).then(nextResults => {\r\n          setQueryResults(nextResults);\r\n        });\r\n      }\r\n    },\r\n    200,\r\n    [query, accessToken]\r\n  );\r\n\r\n  return {\r\n    query,\r\n    setQuery,\r\n    queryResults: SpotifyHelper(queryResults).getItems()\r\n  };\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nexport default function useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.li`\r\n  background-color: ${props => (props.filter ? props.theme.transparent2 : \"\")};\r\n  font-size: 0.8rem;\r\n  display: grid;\r\n  grid-template-columns: 48px 1fr ${props => (props.button ? \"100px\" : \"96px\")};\r\n  margin-bottom: 15px;\r\n  align-items: center;\r\n  width: 100%;\r\n\r\n  & img {\r\n    height: 48px;\r\n    width: 48px;\r\n  }\r\n  & div {\r\n    padding: 0 0 0 10px;\r\n    overflow: hidden;\r\n    & h3 {\r\n      font-size: 0.8rem;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n    & p {\r\n      display: inline;\r\n      color: ${props => props.theme.transparent4};\r\n      font-weight: 100;\r\n    }\r\n  }\r\n\r\n  & button {\r\n    height: 48px;\r\n    width: 48px;\r\n    background: none;\r\n    border: none;\r\n    color: whitesmoke;\r\n    font-size: 2rem;\r\n    text-align: center;\r\n    text-justify: center;\r\n  }\r\n\r\n  & li {\r\n    display: inline;\r\n    text-transform: capitalize;\r\n  }\r\n  & li:first-child::after {\r\n    content: \"\";\r\n    color: white;\r\n    padding: 0 3px;\r\n  }\r\n`;\r\n","import styled, { css } from \"styled-components\";\r\nimport { IoIosAdd, IoIosCheckmark } from \"react-icons/io\";\r\n\r\nexport const TickIcon = styled(IoIosCheckmark)`\r\n  position: absolute;\r\n  font-size: 2.5rem;\r\n  transition: none;\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.transparent4};\r\n  }\r\n  color: ${props => props.theme.green};\r\n`;\r\nexport const AddIcon = styled(IoIosAdd)`\r\n  position: absolute;\r\n  font-size: 2.5rem;\r\n  transition: none;\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.transparent4};\r\n  }\r\n  color: ${props => props.theme.white};\r\n`;\r\n\r\nexport const IconUnderlay = styled.div`\r\n  border: 1px solid transparent;\r\n  border-radius: 90px;\r\n  background-color: ${props => props.theme.transparentBlack};\r\n\r\n  height: ${props => 6 * props.theme.unit + \"px\"};\r\n  width: ${props => 6 * props.theme.unit + \"px\"};\r\n  position: relative;\r\n`;\r\n\r\nexport const StyledList = styled.ul`\r\n  display: flex;\r\n  overflow-y: hidden;\r\n\r\n  padding: 0 ${props => 2 * props.theme.unit + \"px\"};\r\n`;\r\n\r\nexport const StyledContainer = styled.div`\r\n  height: ${props => 28 * props.theme.unit + \"px\"};\r\n  overflow-x: scroll;\r\n  overflow-y: hidden;\r\n  scrollbar-width: none;\r\n  ::-webkit-scrollbar {\r\n    width: 0px; /* Remove scrollbar space */\r\n    background: transparent; /* Optional: just make scrollbar invisible */\r\n  }\r\n`;\r\nexport const StyledItem = styled.li`\r\n  list-style: none;\r\n  padding-right: ${props => 2 * props.theme.unit + \"px\"};\r\n  & * {\r\n    padding: ${props => 0.25 * props.theme.unit + \"px\"};\r\n  }\r\n  & img {\r\n    width: ${props => 16 * props.theme.unit + \"px\"};\r\n    height: ${props => 16 * props.theme.unit + \"px\"};\r\n  }\r\n  font-size: 0.8rem;\r\n  & p {\r\n    display: inline;\r\n    text-transform: capitalize;\r\n    color: ${props => props.theme.transparent4};\r\n\r\n    @media (max-width: 667px) {\r\n      color: ${props =>\r\n        props.theme.mode === \"dark\"\r\n          ? props.theme.transparent4\r\n          : props.theme.transparentBlack};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const StyledItemContainer = styled.span`\r\n  position: relative;\r\n`;\r\n\r\nexport const StyledPlayButton = styled.div`\r\n  border: 1px solid transparent;\r\n  border-radius: 90px;\r\n  background-color: ${props => props.theme.transparentBlack};\r\n\r\n  height: ${props => 6 * props.theme.unit + \"px\"};\r\n  width: ${props => 6 * props.theme.unit + \"px\"};\r\n  position: relative;\r\n  &::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    margin-left: -6px;\r\n    margin-top: -12px;\r\n    width: 0;\r\n    height: 0;\r\n    border-top: 12px solid transparent;\r\n    border-bottom: 12px solid transparent;\r\n    border-left: 16px solid white;\r\n  }\r\n`;\r\nexport const StyledOverlay = styled.div`\r\n  position: absolute;\r\n  top: 0px;\r\n  height: ${props => 16 * props.theme.unit + \"px\"};\r\n  width: ${props => 16 * props.theme.unit + \"px\"};\r\n  align-items: center;\r\n  justify-content: center;\r\n  display: flex;\r\n\r\n  &:hover {\r\n    content: \"\";\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport {\r\n  StyledContainer,\r\n  StyledItem,\r\n  StyledOverlay,\r\n  StyledItemContainer,\r\n  StyledList,\r\n  AddIcon,\r\n  TickIcon,\r\n  IconUnderlay\r\n} from \"./styles\";\r\nimport List from \"../List\";\r\n\r\nexport default function Carousel(props) {\r\n  const { items, height, addItem, removeItem, selectedItems } = props;\r\n\r\n  const ItemTemplate = ({ src, name, labels, uri, selected }) => {\r\n    return (\r\n      <StyledItemContainer>\r\n        {\" \"}\r\n        <StyledItem>\r\n          <img src={src}></img>\r\n          <h4>{name}</h4>\r\n          {labels && labels.map((label, i) => <p key={i}>{label}</p>)}\r\n        </StyledItem>{\" \"}\r\n        <StyledOverlay>\r\n          <IconUnderlay></IconUnderlay>\r\n          {selected ? (\r\n            <TickIcon onClick={() => removeItem(uri)}></TickIcon>\r\n          ) : (\r\n            <AddIcon onClick={() => addItem(uri)}></AddIcon>\r\n          )}\r\n        </StyledOverlay>\r\n      </StyledItemContainer>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <StyledContainer height={height}>\r\n      <List items={items} Style={StyledList}>\r\n        <ItemTemplate\r\n          src={item => item.getImages().default.url}\r\n          name={item => item.name}\r\n          labels={item => item.getArtists().map(artist => artist.name)}\r\n          uri={item => item.uri}\r\n          selected={item =>\r\n            selectedItems && selectedItems.some(obj => obj.uri === item.uri)\r\n          }\r\n        ></ItemTemplate>\r\n      </List>\r\n    </StyledContainer>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport useInterval from \"./useInterval\";\r\n\r\nexport default function useDebounce(callback, delay, dependencies) {\r\n  const [updated, setUpdated] = useState(false);\r\n\r\n  useInterval(\r\n    () => {\r\n      callback();\r\n      setUpdated(false);\r\n    },\r\n    updated ? delay : null\r\n  );\r\n  useEffect(() => {\r\n    setUpdated(true);\r\n  }, dependencies);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Spotify from \"../modules/Spotify\";\r\n\r\nexport default function useProfile(accessToken) {\r\n  const [user, setUser] = useState(null);\r\n\r\n  const spotify = Spotify(accessToken);\r\n\r\n  useEffect(() => {\r\n    if (accessToken)\r\n      spotify\r\n        .user()\r\n        .me()\r\n        .then(data => setUser(data));\r\n  }, [accessToken]);\r\n\r\n  return user;\r\n}\r\n","// Dependencies\r\nimport React, { useState } from \"react\";\r\nimport { hot } from \"react-hot-loader\"; // used to fix hot reload issues with styled components during development\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport theme from \"./theme\";\r\n\r\n//Routes\r\nimport Landing from \"./pages/Agnostic/Landing/Landing\";\r\nimport Callback from \"./pages/Agnostic/Callback\";\r\nimport RoomSearch from \"./pages/Agnostic/RoomSearch/RoomSearch\";\r\n\r\n//Reducers\r\n\r\nimport Room from \"./pages/Agnostic/Room/Room\";\r\n\r\nimport useAuth from \"./hooks/useAuth\";\r\n//Styles\r\nimport \"./global.css\";\r\nconst prevAuthData = JSON.parse(localStorage.getItem(\"authData\"));\r\n\r\nconst App = hot(module)(() => {\r\n  const { accessToken, login, logout, setAuthData, isAuthenticated } = useAuth(\r\n    prevAuthData\r\n  );\r\n\r\n  const activeTheme = localStorage.getItem(\"theme\");\r\n  const toggleTheme = () => {\r\n    localStorage.setItem(\"theme\", activeTheme === \"light\" ? \"dark\" : \"light\");\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider\r\n      theme={\r\n        activeTheme === \"light\" || activeTheme === null\r\n          ? theme\r\n          : { ...theme, mode: \"dark\" }\r\n      }\r\n    >\r\n      <Router>\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          component={props => (\r\n            <Landing\r\n              {...props}\r\n              login={login}\r\n              logout={logout}\r\n              accessToken={accessToken}\r\n              isAuthenticated={isAuthenticated}\r\n            ></Landing>\r\n          )}\r\n        />\r\n        <Route\r\n          path=\"/roomsearch\"\r\n          component={() => <RoomSearch accessToken={accessToken}></RoomSearch>}\r\n        />\r\n\r\n        <Route\r\n          path=\"/room/:roomid\"\r\n          component={props => (\r\n            <Room\r\n              {...props}\r\n              toggleTheme={toggleTheme}\r\n              accessToken={accessToken}\r\n            ></Room>\r\n          )}\r\n        />\r\n\r\n        <Route\r\n          path=\"/auth/callback\"\r\n          component={props => (\r\n            <Callback {...props} setAuthData={setAuthData}></Callback>\r\n          )}\r\n        />\r\n      </Router>\r\n    </ThemeProvider>\r\n  );\r\n});\r\n\r\nexport default App;\r\n","module.exports = __webpack_public_path__ + \"static/media/spotifyLogo.ddd851ef.png\";","import React, { useEffect } from \"react\";\r\n\r\nconst getHashParams = () => {\r\n  let hashParams = {};\r\n  let e,\r\n    r = /([^&;=]+)=?([^&;]*)/g,\r\n    q = window.location.hash.substring(1);\r\n  e = r.exec(q);\r\n  while (e) {\r\n    hashParams[e[1]] = decodeURIComponent(e[2]);\r\n    e = r.exec(q);\r\n  }\r\n  return hashParams;\r\n};\r\n\r\nexport default function Callback(props) {\r\n  const { setAuthData } = props;\r\n\r\n  useEffect(() => {\r\n    const nextAuthData = {\r\n      accessToken: getHashParams().access_token,\r\n      refreshToken: getHashParams().refresh_token,\r\n      accessTokenCreationTime: Date.now()\r\n    };\r\n\r\n    localStorage.setItem(\"authData\", JSON.stringify(nextAuthData));\r\n\r\n    setAuthData({ ...nextAuthData, isAuthenticated: true });\r\n    props.history.goBack();\r\n  });\r\n\r\n  return <div />;\r\n}\r\n","import { useState } from \"react\";\r\nimport useInterval from \"./useInterval\";\r\n\r\nexport default function useAuth(auth) {\r\n  const anHour = 3600000; // in milliseconds\r\n\r\n  const initialState = {\r\n    accessToken: null,\r\n    refreshToken: null,\r\n    accessTokenCreationTime: null\r\n  };\r\n\r\n  const [authData, setAuthData] = useState(\r\n    auth\r\n      ? {\r\n          ...auth,\r\n          isAuthenticated: Date.now() - auth.accessTokenCreationTime < anHour\r\n        }\r\n      : initialState\r\n  );\r\n\r\n  const server =\r\n    process.env.NODE_ENV === \"production\"\r\n      ? \"https://airplayer.herokuapp.com\"\r\n      : \"http://localhost:8888\";\r\n\r\n  // pushed into App.js, test later\r\n  //Check local storage for authentication data\r\n  // useEffect(() => {\r\n  //   const prevAuthData = JSON.parse(localStorage.getItem(\"authData\"));\r\n  //   if (prevAuthData) setAuthData(prevAuthData);\r\n  // }, []);\r\n\r\n  const refreshToken = () =>\r\n    fetch(`${server}/auth/refreshToken?refresh_token=${authData.refreshToken}`)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        const nextAuthData = {\r\n          ...authData,\r\n          accessToken: data.access_token,\r\n          accessTokenCreationTime: Date.now()\r\n        };\r\n        localStorage.setItem(\"authData\", JSON.stringify(nextAuthData));\r\n        setAuthData({ ...nextAuthData, isAuthenticated: true });\r\n      });\r\n\r\n  // Refresh token after an hour\r\n  useInterval(\r\n    () => refreshToken(),\r\n    authData.accessTokenCreationTime\r\n      ? authData.accessTokenCreationTime - Date.now() + anHour\r\n      : 5000\r\n  );\r\n\r\n  const login = () => {\r\n    window.location.href = server + \"/auth/login\";\r\n  };\r\n\r\n  const logout = () => {\r\n    const url = \"https://www.spotify.com/logout/\";\r\n    const spotifyWindow = window.open(\r\n      url,\r\n      \"Spotify Logout\",\r\n      \"width=700,height=500,top=40,left=40\"\r\n    );\r\n\r\n    setTimeout(() => {\r\n      spotifyWindow.close();\r\n      localStorage.removeItem(\"authData\");\r\n      setAuthData(initialState);\r\n      window.location.reload();\r\n    }, 2000);\r\n  };\r\n  return {\r\n    login,\r\n    logout,\r\n    authData,\r\n    setAuthData,\r\n    isAuthenticated: authData.isAuthenticated,\r\n    accessToken: authData.accessToken\r\n  };\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Chevron = styled.span`\r\n  position: absolute;\r\n  &:before {\r\n    border-style: solid;\r\n    border-width: 2px 2px 0 0;\r\n    content: \"\";\r\n    display: inline-block;\r\n    height: 12px;\r\n    left: 0;\r\n    position: relative;\r\n    vertical-align: top;\r\n    width: 12px;\r\n    transform: rotate(45deg);\r\n    visibility: ${props => props.visibility};\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { Chevron } from \"../../../styles/Chevron\";\r\n\r\nexport const Container = styled.div`\r\n  height: calc(100vh - 50px);\r\n  position: relative;\r\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\r\n\r\n  & > * {\r\n    padding: ${props => 2 * props.theme.unit + \"px\"} 0;\r\n  }\r\n  & > h2 {\r\n    font-size: 1.5rem;\r\n    padding-left: ${props => 2 * props.theme.unit + \"px\"};\r\n  }\r\n\r\n  & > ul {\r\n    padding: 0 ${props => 2 * props.theme.unit + \"px\"};\r\n  }\r\n`;\r\n\r\nexport const StyledChevron = styled(Chevron)`\r\n  left: 15px;\r\n  margin-top: 15px;\r\n  &:before {\r\n    transform: rotate(-135deg);\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Container } from \"./styles\";\r\n\r\n// Components\r\nimport Carousel from \"../../../components/Carousel/Carousel\";\r\nimport List from \"../../../components/List\";\r\nimport ListItem from \"../../../components/ListItem\";\r\n\r\nimport StyledListItem from \"../../../styles/StyledListItem\";\r\n\r\nexport default function Home({ room, roomTracks, topTracks, setStartAudio }) {\r\n  const play = (e, item) => {\r\n    room.controller.play(item.uri);\r\n    setStartAudio(true);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <h2>Recommended Tracks</h2>\r\n      <Carousel\r\n        items={topTracks}\r\n        addItem={room.controller.addTrack}\r\n        removeItem={room.controller.removeTrack}\r\n        selectedItems={roomTracks.playlist}\r\n      ></Carousel>\r\n\r\n      <h2>What's up Next</h2>\r\n      {roomTracks.playlist && (\r\n        <List items={roomTracks.playlist}>\r\n          <ListItem\r\n            Style={StyledListItem}\r\n            src={item => item.getImages().default.url}\r\n            name={item => item.name}\r\n            labels={item => item.getArtists().map(artist => artist.name)}\r\n            filter={item =>\r\n              item.uri === roomTracks.currentSong.uri ? \"1\" : \"\"\r\n            }\r\n            onClick={play}\r\n            button={item => (\r\n              <button\r\n                onClick={e => {\r\n                  e.stopPropagation();\r\n                  room.controller.removeTrack(item.uri);\r\n                }}\r\n              >\r\n                {\" \"}\r\n                x\r\n              </button>\r\n            )}\r\n          ></ListItem>\r\n        </List>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\n// TODO add theme to manage colors and padding\r\nexport const Container = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport const NoQuery = styled.div`\r\n  display: grid;\r\n  justify-items: center;\r\n  position: relative;\r\n  margin-top: 200px;\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { Chevron } from \"../../styles/Chevron\";\r\n\r\nexport const Container = styled.div`\r\n  font-size: 1rem;\r\n  padding: 0 ${props => 2 * props.theme.unit + \"px\"};\r\n\r\n  & h2 {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const StyledList = styled.ul`\r\n  font-size: 1rem;\r\n  padding-top: ${props => 2 * props.theme.unit + \"px\"};\r\n  & li {\r\n    & button {\r\n      cursor: pointer;\r\n    }\r\n    list-style: none;\r\n    & p {\r\n      text-transform: capitalize;\r\n      color: ${props => props.theme.transparent4};\r\n\r\n      @media (max-width: 667px) {\r\n        color: ${props =>\r\n          props.theme.mode === \"dark\"\r\n            ? props.theme.transparent4\r\n            : props.theme.transparentBlack};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const StyledChevron = styled(Chevron)`\r\n  right: ${props => 3 * props.theme.unit + \"px\"};\r\n  margin-top: ${props =>\r\n    props.direction === \"right\"\r\n      ? -2.5 * props.theme.unit + \"px\"\r\n      : -3 * props.theme.unit + \"px\"};\r\n  transform: ${props =>\r\n    props.direction === \"right\" ? \"rotate(0deg)\" : \"rotate(180deg)\"};\r\n\r\n  transition: transform 0.2s, margin-top 0.2s;\r\n  color: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.white : props.theme.primary};\r\n`;\r\n","import React from \"react\";\r\nimport List from \"../List\";\r\nimport ListItem from \"../ListItem\";\r\nimport StyledListItem from \"../../styles/StyledListItem\";\r\nimport { Container, StyledChevron, StyledList } from \"./styles\";\r\n\r\nexport default function Result({\r\n  title,\r\n  items,\r\n  filter,\r\n  limit,\r\n  actions,\r\n  handleItemClick = () => {},\r\n  handleHeaderClick = () => {}\r\n}) {\r\n  const Button = ({ item }) => {\r\n    const action = actions.filter(action => action.type === \"ADD\")[0];\r\n    return action ? (\r\n      <button onClick={() => action.func(item.uri)}>{action.icon}</button>\r\n    ) : null;\r\n  };\r\n  return (\r\n    <Container>\r\n      <h2 onClick={e => handleHeaderClick(e, { title })}>\r\n        {filter !== \"\" && filter !== title ? \"\" : title}\r\n      </h2>\r\n      <StyledChevron\r\n        direction={filter !== \"\" ? \"left\" : \"right\"}\r\n        onClick={e => handleHeaderClick(e, { title })}\r\n      ></StyledChevron>\r\n      <List\r\n        items={items}\r\n        Style={StyledList}\r\n        limit={filter !== title ? limit : items.length}\r\n      >\r\n        <ListItem\r\n          src={item => item.getImages().default.url}\r\n          name={item => item.name}\r\n          labels={item =>\r\n            item.getLabels().map(label => (label ? `${label} ` : \"\"))\r\n          }\r\n          Style={StyledListItem}\r\n          button={actions ? item => <Button item={item}></Button> : null}\r\n          onClick={handleItemClick ? handleItemClick : () => {}}\r\n        ></ListItem>\r\n      </List>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Container, NoQuery } from \"./styles\";\r\nimport Result from \"../Result/Result\";\r\n\r\nfunction isEmpty(obj) {\r\n  for (var key in obj) {\r\n    if (obj.hasOwnProperty(key)) return false;\r\n  }\r\n  return true;\r\n}\r\nexport default function Results(props) {\r\n  const { query, filter, setFilter, limit = 4, results = [] } = props;\r\n\r\n  const noResults = () =>\r\n    results.map(result => isEmpty(result)).filter(bool => bool === false)\r\n      .length < 1;\r\n\r\n  return (\r\n    <Container>\r\n      {query === \"\" ? (\r\n        <NoQuery>\r\n          <p>Please enter a query</p>\r\n        </NoQuery>\r\n      ) : noResults() ? (\r\n        `No results matching ${query}`\r\n      ) : (\r\n        results &&\r\n        results.map(\r\n          (result, i) =>\r\n            (filter == \"\" || filter === result.title) &&\r\n            result.items.length > 1 && (\r\n              <Result\r\n                title={result.title}\r\n                items={result.items}\r\n                filter={filter}\r\n                limit={limit}\r\n                key={i}\r\n                actions={result.actions}\r\n                path={props.path}\r\n                handleItemClick={\r\n                  result.onItemClick ? result.onItemClick : () => {}\r\n                }\r\n                handleHeaderClick={\r\n                  result.onHeaderClick ? result.onHeaderClick : () => {}\r\n                }\r\n              ></Result>\r\n            )\r\n        )\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\n//TODO remove non tracks from room\r\n","import React from \"react\";\r\n\r\n// Components\r\nimport Results from \"./Results/Results\";\r\nimport Result from \"./Result/Result\";\r\n\r\nexport default function SongList(props) {\r\n  const { albums, tracks, artists, playlists } = props.results;\r\n  const {\r\n    foundTracks,\r\n    setFindQuery,\r\n    foundTracksName,\r\n    addTrack,\r\n    removeTrack,\r\n    filter,\r\n    setFilter,\r\n    query\r\n  } = props;\r\n\r\n  const FoundTracks = () => (\r\n    <Result\r\n      {...{\r\n        title: foundTracksName,\r\n        items: foundTracks,\r\n        filter,\r\n        actions: [\r\n          { icon: <>+</>, func: addTrack, type: \"ADD\" },\r\n          { icon: <>-</>, func: removeTrack, type: \"REMOVE\" }\r\n        ],\r\n        handleHeaderClick: function(e) {\r\n          setFindQuery({ name: \"\", uri: \"\" });\r\n        }\r\n      }}\r\n    ></Result>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {foundTracks ? (\r\n        <FoundTracks></FoundTracks>\r\n      ) : (\r\n        <Results\r\n          {...{\r\n            query,\r\n            filter,\r\n            results: [\r\n              {\r\n                title: \"Tracks\",\r\n                items: tracks,\r\n                actions: [\r\n                  { icon: <>+</>, func: addTrack, type: \"ADD\" },\r\n                  { icon: <>-</>, func: removeTrack, type: \"REMOVE\" }\r\n                ],\r\n                onItemClick: (e, item) => console.log(item.id),\r\n                onHeaderClick: function(e, { title }) {\r\n                  setFilter(filter === title ? \"\" : title);\r\n                }\r\n              },\r\n              {\r\n                title: \"Albums\",\r\n                items: albums,\r\n                onItemClick: (e, item) =>\r\n                  setFindQuery({ uri: item.uri, name: item.name }),\r\n                onHeaderClick: function(e, { title }) {\r\n                  setFilter(filter === title ? \"\" : title);\r\n                }\r\n              },\r\n              {\r\n                title: \"Artists\",\r\n                items: artists,\r\n                onItemClick: (e, item) =>\r\n                  setFindQuery({ uri: item.uri, name: item.name }),\r\n\r\n                onHeaderClick: function(e, { title }) {\r\n                  setFilter(filter === title ? \"\" : title);\r\n                }\r\n              },\r\n              {\r\n                title: \"Playlists\",\r\n                items: playlists,\r\n                onItemClick: (e, item) =>\r\n                  setFindQuery({ uri: item.uri, name: item.name }),\r\n                onHeaderClick: function(e, { title }) {\r\n                  setFilter(filter === title ? \"\" : title);\r\n                }\r\n              }\r\n            ]\r\n          }}\r\n        ></Results>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import styled, { css } from \"styled-components\";\r\nimport { IoIosAdd, IoIosCheckmark } from \"react-icons/io\";\r\n\r\nexport const Container = styled.div`\r\n  padding: ${props => 2 * props.theme.unit + \"px\"};\r\n`;\r\n\r\nexport const Icon = css`\r\n  font-size: 3rem;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: ${props => props.theme.transparent3};\r\n  }\r\n  transition: color 0.5s;\r\n`;\r\n\r\nexport const AddIcon = styled(IoIosAdd)`\r\n  ${Icon}\r\n`;\r\n\r\nexport const TickIcon = styled(IoIosCheckmark)`\r\n  ${Icon}\r\n`;\r\n","import React from \"react\";\r\nimport SongList from \"../../../components/SongList\";\r\nimport { Container } from \"./styles\";\r\nexport default function Search(props) {\r\n  return (\r\n    <Container>\r\n      <SongList {...props}></SongList>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Chevron } from \"../../../styles/Chevron\";\r\n\r\nexport const Container = styled.div`\r\n  height: calc(100vh - 50px);\r\n  position: relative;\r\n  display: grid;\r\n  align-content: flex-start;\r\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\r\n  padding-top: ${props => 2 * props.theme.unit + \"px\"};\r\n\r\n  & > h2 {\r\n    font-size: 1.5rem;\r\n    padding-left: ${props => 2 * props.theme.unit + \"px\"};\r\n  }\r\n`;\r\n\r\nexport const StyledChevron = styled(Chevron)`\r\n  left: 15px;\r\n  margin-top: 15px;\r\n  &:before {\r\n    transform: rotate(-135deg);\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { Container } from \"./styles\";\r\n\r\n// Components\r\n\r\nimport Carousel from \"../../../components/Carousel/Carousel\";\r\nimport SongList from \"../../../components/SongList\";\r\n\r\nexport default function Library(props) {\r\n  const { topTracks } = props.results;\r\n  const { selectedTracks, addTrack, removeTrack } = props;\r\n\r\n  return (\r\n    <Container>\r\n      <h2>Last Played</h2>\r\n      <Carousel\r\n        items={topTracks}\r\n        addItem={addTrack}\r\n        removeItem={removeTrack}\r\n        selectedItems={selectedTracks}\r\n      ></Carousel>\r\n      <SongList {...props}></SongList>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport const Background = styled.div`\r\n  background: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.black : props.theme.gradient};\r\n`;\r\n\r\nexport const Spinner = styled(Loader)`\r\n  justify-self: center;\r\n  align-self: center;\r\n  animation: fadeIn 0.5s;\r\n\r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      opacity: 1;\r\n    }\r\n  }\r\n  animation: fadeOut 0.5s;\r\n\r\n  @keyframes fadeOut {\r\n    from {\r\n      opacity: 1;\r\n    }\r\n    to {\r\n      opacity: 0;\r\n    }\r\n  }\r\n`;\r\nexport const Container = styled.div`\r\n  animation: fadeIn 1s;\r\n\r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      opacity: 1;\r\n    }\r\n  }\r\n  display: grid;\r\n  width: 100%;\r\n  color: ${props => props.theme.white};\r\n  grid-template-columns: minmax(96px, 160px) 1fr;\r\n  grid-template-rows:\r\n    ${props => 6 * props.theme.unit + \"px\"} calc(100vh - 128px)\r\n    ${props => 10 * props.theme.unit + \"px\"};\r\n`;\r\n\r\nexport const Main = styled.main`\r\n  animation: fadeIn 1s;\r\n\r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      opacity: 1;\r\n    }\r\n  }\r\n  max-height: calc(100vh - 128px);\r\n  overflow: auto;\r\n`;\r\n\r\nexport const Footer = styled.footer`\r\n  grid-column: span 2;\r\n  color: ${props => props.theme.white};\r\n  height: 100%;\r\n`;\r\n","export default (state, action) => {\r\n  switch (action.type) {\r\n    case \"SET_DEVICE\":\r\n      return {\r\n        ...state,\r\n        id: action.payload.device_id,\r\n        ready: action.payload.ready\r\n      };\r\n\r\n    case \"UPDATE_PLAYER\": {\r\n      const roomState = action.payload.roomState;\r\n      return {\r\n        ...state,\r\n        currentSong: roomState.currentSong.uri,\r\n        paused: !roomState.currentSong.playing,\r\n        playlist: roomState.playlist.map(track => track.uri),\r\n        lastSeek: roomState.currentSong.lastSeek\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nfunction useTimeout(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setTimeout(tick, delay);\r\n\r\n      return () => clearTimeout(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n\r\nexport default useTimeout;\r\n","import { useEffect, useState, useReducer } from \"react\";\r\n\r\nimport reducer from \"./reducer\";\r\nimport usePlay from \"./usePlay\";\r\nimport useQue from \"./useQue\";\r\nimport useSeek from \"./useSeek\";\r\nimport useSetup from \"./useSetup\";\r\nimport useTogglePause from \"./useTogglePause\";\r\nimport useVolume from \"./useVolume\";\r\n\r\n// This webplayer will control the player by reading state from the room\r\nexport default function useWebplayer(token, room, start, duration) {\r\n  const [deviceState, dispatch] = useReducer(reducer, {\r\n    id: null,\r\n    currentSong: null,\r\n    paused: false,\r\n    ready: false,\r\n    playlist: [],\r\n    lastSeek: 0\r\n  });\r\n\r\n  const [loadScript, setLoadScript] = useState(false);\r\n\r\n  //When a track finishes, que the next track and play\r\n  const { setRemaining, queTrack } = useQue(deviceState, room.controller);\r\n\r\n  // connect player and set up events\r\n  const { player } = useSetup(token, setLoadScript, setRemaining, dispatch);\r\n\r\n  // Change volume\r\n  const { volume, setVolume } = useVolume(player);\r\n\r\n  // When seek position changes update player to seek to that position\r\n  useSeek(deviceState, duration, player);\r\n\r\n  // Play loaded track\r\n  usePlay(deviceState, start, room, token);\r\n\r\n  // Pause/Resume loaded Track\r\n  useTogglePause(deviceState, player);\r\n\r\n  // on room state change, reflect that state in the webplayer\r\n  useEffect(() => {\r\n    dispatch({ type: \"UPDATE_PLAYER\", payload: { roomState: room.state } });\r\n  }, [room.state]);\r\n\r\n  return { deviceState, loadScript, queTrack, volume, setVolume };\r\n}\r\n","import { useCallback, useState, useRef, useEffect } from \"react\";\r\nimport useTimeout from \"../useTimeout\";\r\n\r\nexport default function useQue(deviceState, controller) {\r\n  const skipAttempts = useRef(0);\r\n  const [trackFinished, setTrackFinished] = useState(false);\r\n  const [remaining, setRemaining] = useState(null);\r\n\r\n  const queTrack = useCallback(\r\n    pos => {\r\n      const nextSongIndex = deviceState.playlist.indexOf(\r\n        deviceState.currentSong\r\n      );\r\n      const nextSong = deviceState.playlist[nextSongIndex + pos];\r\n\r\n      if (nextSong) {\r\n        controller.play(nextSong);\r\n        setTimeout(() => (skipAttempts.current = 0), 5000);\r\n      }\r\n    },\r\n    [deviceState]\r\n  );\r\n\r\n  // 1 Second before track finishes, que the next track\r\n  // Workaround for spotify sdk bug\r\n  useTimeout(() => {\r\n    skipAttempts.current += 1;\r\n    setTrackFinished(true);\r\n  }, remaining);\r\n\r\n  //When a track ends, que the next track\r\n  useEffect(() => {\r\n    if (trackFinished == true && skipAttempts.current === 1) {\r\n      queTrack(1);\r\n      setTrackFinished(false);\r\n    }\r\n  });\r\n\r\n  return { setRemaining, queTrack };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport default function useSetup(token, setLoadScript, setRemaining, dispatch) {\r\n  const [player, setPlayer] = useState();\r\n  // Set up webplayer\r\n  useEffect(() => {\r\n    // Assign event to listen for script to load\r\n    if (!window.onSpotifyWebPlaybackSDKReady) {\r\n      window.onSpotifyWebPlaybackSDKReady = () => {\r\n        const player = new window.Spotify.Player({\r\n          name: \"Web Playback SDK Quick Start Player\",\r\n          getOAuthToken: cb => {\r\n            cb(token);\r\n          }\r\n        });\r\n        player.connect().then(success => {\r\n          success\r\n            ? setPlayer(player)\r\n            : setPlayer({ error: \"Failed to connect\" });\r\n        });\r\n      };\r\n      // Start loading script\r\n      setLoadScript(true);\r\n    }\r\n  }, [player, window.Spotify]);\r\n\r\n  useEffect(() => {\r\n    if (!player) {\r\n    }\r\n  }, [player]);\r\n\r\n  //Player Events\r\n  useEffect(() => {\r\n    if (player) {\r\n      // Error handling\r\n      player.addListener(\"initialization_error\", ({ message }) => {\r\n        console.error(message);\r\n      });\r\n      player.addListener(\"authentication_error\", ({ message }) => {\r\n        console.error(message);\r\n      });\r\n      player.addListener(\"account_error\", ({ message }) => {\r\n        console.error(message);\r\n      });\r\n      player.addListener(\"playback_error\", ({ message }) => {\r\n        console.error(message);\r\n      });\r\n\r\n      // Ready\r\n      player.addListener(\"ready\", ({ device_id }) => {\r\n        console.log(\"Ready with Device ID\", device_id);\r\n        dispatch({ type: \"SET_DEVICE\", payload: { device_id, ready: true } });\r\n      });\r\n\r\n      // Not Ready\r\n      player.addListener(\"not_ready\", ({ device_id }) => {\r\n        dispatch({\r\n          type: \"SET_DEVICE\",\r\n          payload: { device_id, ready: false }\r\n        });\r\n        console.log(\"Device ID has gone offline\", device_id);\r\n      });\r\n    }\r\n  }, [player]);\r\n\r\n  // When device state updates, get current position of track\r\n  useEffect(() => {\r\n    if (player) {\r\n      const handleStateChange = state => {\r\n        setRemaining(state.duration - state.position - 1000);\r\n      };\r\n      player.addListener(\"player_state_changed\", handleStateChange);\r\n      return () =>\r\n        player.removeListener(\"player_state_changed\", handleStateChange);\r\n    }\r\n  }, [player]);\r\n  return { player };\r\n}\r\n","import { useState } from \"react\";\r\nimport useDebounce from \"../useDebounce\";\r\n\r\nexport default function useVolume(player) {\r\n  const [volume, setVolume] = useState(80);\r\n\r\n  useDebounce(\r\n    () => {\r\n      if (player) player.setVolume(volume / 100);\r\n    },\r\n    200,\r\n    [volume]\r\n  );\r\n\r\n  return { volume, setVolume };\r\n}\r\n","import { useEffect } from \"react\";\r\n\r\nexport default function useSeek(deviceState, duration, player) {\r\n  useEffect(() => {\r\n    if (\r\n      deviceState.ready &&\r\n      deviceState.currentSong &&\r\n      duration &&\r\n      deviceState.lastSeek &&\r\n      player\r\n    ) {\r\n      player.seek(deviceState.lastSeek);\r\n    }\r\n  }, [\r\n    deviceState.ready,\r\n    deviceState.currentSong,\r\n    deviceState.lastSeek,\r\n    duration\r\n  ]);\r\n}\r\n","import { useEffect, useCallback } from \"react\";\r\n\r\nexport default function usePlay(deviceState, start, room, token) {\r\n  const play = useCallback(\r\n    async track =>\r\n      fetch(\r\n        `https://api.spotify.com/v1/me/player/play?device_id=${deviceState.id}`,\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify({\r\n            uris: [track]\r\n          }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        }\r\n      ),\r\n    [deviceState.id, token]\r\n  );\r\n\r\n  // Load the first track in the roomstate\r\n  useEffect(() => {\r\n    if (room.state.playlist.length > 0) {\r\n      room.controller.play(room.state.playlist[0].uri);\r\n    }\r\n  }, []);\r\n\r\n  // Play loaded track\r\n  useEffect(() => {\r\n    // start variable is used for toggling autoplay\r\n    if (start) {\r\n      if (deviceState.ready && deviceState.currentSong) {\r\n        play(deviceState.currentSong);\r\n      }\r\n    } else {\r\n      room.controller.pause();\r\n    }\r\n  }, [deviceState.ready, deviceState.currentSong, start]);\r\n}\r\n","import React, { useEffect } from \"react\";\r\n\r\nexport default function useTogglePause(deviceState, player) {\r\n  // Pause/Resume loaded Track\r\n  useEffect(() => {\r\n    if (deviceState.ready && deviceState.currentSong) {\r\n      if (deviceState.paused) {\r\n        player.pause();\r\n      } else {\r\n        player.resume();\r\n      }\r\n    }\r\n  }, [deviceState.ready, deviceState.currentSong, deviceState.paused]);\r\n}\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { IoIosVolumeHigh } from \"react-icons/io\";\r\n\r\nimport Slider from \"react-input-slider\";\r\n\r\nimport \"../global.css\";\r\nimport theme from \"../theme\";\r\n\r\nconst HoverArea = styled.div`\r\n  align-items: center;\r\n  display: grid;\r\n  justify-items: center;\r\n  width: 40px;\r\n  height: 80px;\r\n  z-index: 99999;\r\n`;\r\n\r\nconst SliderBackground = styled.div`\r\n  background: ${props =>\r\n    props.theme.mode === \"dark\"\r\n      ? props.theme.transparentBlack\r\n      : props.theme.white};\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n  height: ${props => (props.show ? \"160px\" : 0)};\r\n  width: 40px;\r\n  border-top-right-radius: 15px;\r\n  border-top-left-radius: 15px;\r\n  position: absolute;\r\n  bottom: 70px;\r\n  right: 0;\r\n  padding: 15px;\r\n  transition: height 0.4s, opacity 0.4s;\r\n  /* hacky way of changing background color for slider*/\r\n  & > div {\r\n    & > div:first-child {\r\n      background: #ffd5e3 !important;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function VolumeSlider({ volume, setVolume }) {\r\n  const [show, setShow] = useState(false);\r\n\r\n  return (\r\n    <HoverArea\r\n      onMouseEnter={() => setShow(true)}\r\n      onMouseLeave={() => setShow(false)}\r\n    >\r\n      <IoIosVolumeHigh style={{ cursor: \"pointer\" }}></IoIosVolumeHigh>\r\n\r\n      <SliderBackground show={show}>\r\n        <Slider\r\n          axis=\"y\"\r\n          y={100 - volume}\r\n          onChange={({ y }) => setVolume(100 - y)}\r\n          styles={{\r\n            thumb: {\r\n              width: 30,\r\n              height: 6,\r\n              backgroundColor: theme.white,\r\n              borderRadius: \"5px\",\r\n              opacity: show ? 1 : 0,\r\n              transition: \"opacity 0.4s\",\r\n              cursor: \"pointer\",\r\n              boxShadow: \"1px 1px 2px 1px rgba(0, 0, 0, 0.5)\"\r\n            },\r\n            track: {\r\n              backgroundColor: theme.primary,\r\n              height: show ? \"130px\" : \"0px\",\r\n              transition: \"height 0.4s\",\r\n              cursor: \"pointer\"\r\n            }\r\n          }}\r\n        ></Slider>\r\n      </SliderBackground>\r\n    </HoverArea>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Slider = styled.div`\r\n  background: ${props =>\r\n    props.theme.mode === \"dark\"\r\n      ? props.theme.transparent2\r\n      : props.theme.transparentBlack5};\r\n  position: absolute;\r\n  bottom: 80px;\r\n  width: 100%;\r\n  height: 15px;\r\n\r\n  & > input {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 15px;\r\n    z-index: 99;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const ProgressBar = styled.div.attrs(({ width }) => ({\r\n  style: {\r\n    width\r\n  }\r\n}))`\r\n  position: absolute;\r\n  height: 15px;\r\n  background: ${props => props.theme.gradient};\r\n`;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { ProgressBar, Slider } from \"./styles\";\r\nimport \"../../global.css\";\r\n\r\nimport useInterval from \"../../hooks/useInterval\";\r\n\r\nexport default function AudioSlider({\r\n  playing,\r\n  currentSong,\r\n  lastSeek,\r\n  duration,\r\n  seek\r\n}) {\r\n  const [trackPosition, setTrackPosition] = useState();\r\n\r\n  const prevSeek = lastSeek;\r\n  // TODO create new hook that takes in previous state as an argument\r\n  useInterval(\r\n    () => {\r\n      // Necassary due to stale closure\r\n\r\n      // If we have seeked, we move 100ms from last seek\r\n      // if we havent seeked we move 100ms from last trackposition\r\n      setTrackPosition(lastSeek =>\r\n        lastSeek !== prevSeek ? trackPosition + 100 : prevSeek + 100\r\n      );\r\n    },\r\n    playing ? 100 : null\r\n  );\r\n\r\n  useEffect(() => {}, [lastSeek]);\r\n\r\n  useEffect(() => {\r\n    setTrackPosition(lastSeek);\r\n  }, [lastSeek, currentSong]);\r\n\r\n  return (\r\n    <Slider>\r\n      <ProgressBar\r\n        width={\r\n          trackPosition && duration ? (trackPosition / duration) * 100 + \"%\" : 0\r\n        }\r\n      ></ProgressBar>\r\n      <input\r\n        type=\"range\"\r\n        min=\"0\"\r\n        max=\"300\"\r\n        className=\"slider\"\r\n        value={trackPosition && duration ? (trackPosition / duration) * 300 : 0}\r\n        onChange={e => {\r\n          if (duration) {\r\n            const seekDestinationMs = Math.round(\r\n              (parseInt(e.target.value) / 300) * duration\r\n            );\r\n            seek(seekDestinationMs);\r\n          }\r\n        }}\r\n      />\r\n    </Slider>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport const Container = styled.div`\r\n  background-color: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.transparent : props.theme.white};\r\n\r\n  height: 100%;\r\n  color: ${props => props.theme.black};\r\n  display: grid;\r\n  width: 100%;\r\n  grid-template-rows: 1fr;\r\n`;\r\n\r\nexport const Body = styled.div`\r\n  height: 100%;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n`;\r\n\r\nexport const Left = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 80px 1fr;\r\n  align-items: center;\r\n\r\n  & > img {\r\n    width: 80px;\r\n  }\r\n\r\n  & > div {\r\n    padding-left: 15px;\r\n    font-size: 0.8rem;\r\n\r\n    & > h3 {\r\n      color: ${props =>\r\n        props.theme.mode === \"dark\"\r\n          ? props.theme.white\r\n          : props.theme.darkestGray};\r\n    }\r\n\r\n    & > p {\r\n      color: ${props => props.theme.gray};\r\n      text-transform: capitalize;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Right = styled.div`\r\n  color: ${props => props.theme.primary};\r\n  font-size: 2rem;\r\n  margin-right: 3rem;\r\n\r\n  position: relative;\r\n  display: grid;\r\n  justify-items: flex-end;\r\n`;\r\n\r\nexport const Spinner = styled(Loader)`\r\n  padding-top: 5px;\r\n  text-align: center;\r\n  background-color: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.transparent : props.theme.white};\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {\r\n  IoIosSkipBackward,\r\n  IoIosPlay,\r\n  IoIosSkipForward,\r\n  IoIosPause\r\n} from \"react-icons/io\";\r\n\r\nconst Container = styled.div`\r\n  color: ${props => props.theme.primary};\r\n  font-size: 1.75rem;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  align-content: space-between;\r\n  justify-items: center;\r\n  width: 240px;\r\n  align-self: center;\r\n  justify-self: center;\r\n  text-align: center;\r\n  text-justify: center;\r\n  & > * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  & > :nth-child(odd) {\r\n    margin-top: 0.625rem;\r\n  }\r\n  & > :nth-child(2) {\r\n    font-size: 3rem;\r\n  }\r\n`;\r\n\r\nexport default function MusicController({\r\n  room,\r\n  queTrack,\r\n  setStart,\r\n  deviceState\r\n}) {\r\n  const isFirstTrack =\r\n    room.state.playlist\r\n      .map(track => track.uri)\r\n      .indexOf(room.state.currentSong.uri) === 0;\r\n\r\n  const isLastTrack =\r\n    room.state.playlist\r\n      .map(track => track.uri)\r\n      .indexOf(room.state.currentSong.uri) ===\r\n    room.state.playlist.length - 1;\r\n\r\n  return (\r\n    <Container>\r\n      {isFirstTrack ? (\r\n        <div></div>\r\n      ) : (\r\n        <IoIosSkipBackward onClick={() => queTrack(-1)}></IoIosSkipBackward>\r\n      )}\r\n\r\n      {deviceState.paused ? (\r\n        <IoIosPlay\r\n          onClick={() => {\r\n            room.controller.resume();\r\n            setStart(true);\r\n          }}\r\n        ></IoIosPlay>\r\n      ) : (\r\n        <IoIosPause\r\n          onClick={() => {\r\n            room.controller.pause();\r\n          }}\r\n        ></IoIosPause>\r\n      )}\r\n      {isLastTrack ? (\r\n        <div></div>\r\n      ) : (\r\n        <IoIosSkipForward onClick={() => queTrack(1)}></IoIosSkipForward>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Script from \"react-load-script\";\r\nimport useWebplayer from \"../../hooks/useWebplayer/\";\r\nimport theme from \"../../theme\";\r\nimport VolumeSlider from \"../VolumeSlider\";\r\nimport AudioSlider from \"../AudioSlider/AudioSlider\";\r\n\r\nimport { Container, Body, Left, Right, Spinner } from \"./styles\";\r\n\r\nimport MusicController from \"../MusicController\";\r\n\r\nexport default function SpotifyWebplayer({\r\n  token,\r\n  room,\r\n  roomTracks,\r\n  start,\r\n  setStart\r\n}) {\r\n  const [scriptState, setScriptState] = useState({\r\n    error: false\r\n  });\r\n\r\n  const duration = roomTracks.currentSong.duration_ms;\r\n\r\n  const { loadScript, deviceState, queTrack, volume, setVolume } = useWebplayer(\r\n    token,\r\n    room,\r\n    start,\r\n    duration\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadScript && (\r\n        <Script\r\n          url=\"https://sdk.scdn.co/spotify-player.js\"\r\n          onError={() => setScriptState({ ...scriptState, error: true })}\r\n          onLoad={() => {\r\n            setScriptState({ ...scriptState, loaded: true });\r\n          }}\r\n        ></Script>\r\n      )}\r\n\r\n      {deviceState.ready ? (\r\n        <Container>\r\n          <AudioSlider\r\n            duration={duration}\r\n            playing={!deviceState.paused}\r\n            lastSeek={deviceState.lastSeek}\r\n            currentSong={deviceState.currentSong}\r\n            seek={room.controller.seek}\r\n          ></AudioSlider>\r\n          <Body>\r\n            <Left>\r\n              <img\r\n                src={roomTracks.currentSong.getImages().default.url}\r\n                alt=\"\"\r\n              />\r\n              <div>\r\n                <h3>{roomTracks.currentSong.getArtists()[0].name}</h3>\r\n                <p>\r\n                  {roomTracks.currentSong\r\n                    .getArtists()\r\n                    .map(artist => artist.name)}\r\n                </p>\r\n              </div>\r\n            </Left>\r\n            <MusicController\r\n              setStart={setStart}\r\n              room={room}\r\n              queTrack={queTrack}\r\n              deviceState={deviceState}\r\n            ></MusicController>\r\n            <Right>\r\n              <VolumeSlider\r\n                volume={volume}\r\n                setVolume={setVolume}\r\n              ></VolumeSlider>\r\n            </Right>\r\n          </Body>\r\n        </Container>\r\n      ) : (\r\n        <Spinner type=\"Bars\" color={theme.primary} height={70} width={50} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  font-size: 0.6em;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr;\r\n  align-content: center;\r\n  align-self: center;\r\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\r\n`;\r\nexport const Button = styled.div`\r\n  cursor: pointer;\r\n  border: 1px solid ${props => props.theme.white};\r\n  border-radius: 90px;\r\n  text-align: center;\r\n  padding: ${props => 1 * props.theme.unit + \"px\"};\r\n  color: ${props => (props.active ? props.theme.black : props.theme.white)};\r\n  background-color: ${props =>\r\n    props.active ? props.theme.white : props.theme.transparent2};\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    color: ${props => props.theme.black};\r\n    background-color: ${props =>\r\n      props.active ? props.theme.white : props.theme.transparent4};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Container, Button } from \"./styles\";\r\n\r\nexport default function SeachFilter({ filter, setFilter }) {\r\n  const RadioButton = ({ text }) => {\r\n    return (\r\n      <Button\r\n        active={filter === text}\r\n        onClick={() => {\r\n          setFilter(filter === text ? \"\" : text);\r\n        }}\r\n      >\r\n        {text}\r\n      </Button>\r\n    );\r\n  };\r\n  return (\r\n    <Container>\r\n      <RadioButton text={\"Tracks\"}></RadioButton>\r\n      <RadioButton text={\"Playlists\"}></RadioButton>\r\n      <RadioButton text={\"Artists\"}></RadioButton>\r\n      <RadioButton text={\"Albums\"}></RadioButton>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { IoIosPerson } from \"react-icons/io\";\r\n\r\nexport const ProfileIcon = styled(IoIosPerson)`\r\n  border: 2px solid ${props => props.theme.transparent4};\r\n  border-radius: 90px;\r\n  width: ${props => 4 * props.theme.unit + \"px\"};\r\n  height: ${props => 4 * props.theme.unit + \"px\"};\r\n\r\n  cursor: pointer;\r\n  color: ${props => props.theme.transparent4};\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.white};\r\n  }\r\n`;\r\nexport const Container = styled.header`\r\n  padding: ${props => 2 * props.theme.unit + \"px\"};\r\n  grid-template-columns: 2fr 1fr;\r\n  display: grid;\r\n  justify-items: flex-end;\r\n  align-content: center;\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  grid-template-columns: 1fr 1fr;\r\n  display: grid;\r\n  justify-self: flex-start;\r\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\r\n`;\r\n\r\nexport const SearchBar = styled.input`\r\n  padding: ${props => 1 * props.theme.unit + \"px\"};\r\n\r\n  border-radius: 2px;\r\n  background-color: ${props => props.theme.transparent4};\r\n  border: none;\r\n  display: block;\r\n  justify-self: start;\r\n  width: ${props => 34 * props.theme.unit + \"px\"};\r\n`;\r\n","import React from \"react\";\r\nimport SearchFilter from \"../SearchFilter/SeachFilter\";\r\nimport { Container, Wrapper, SearchBar, ProfileIcon } from \"./styles\";\r\n\r\nexport default function DesktopHeader({ filter, setFilter, query, setQuery }) {\r\n  return (\r\n    <Container>\r\n      <Wrapper>\r\n        <SearchBar\r\n          value={query}\r\n          placeholder=\"Search\"\r\n          onChange={e => setQuery(e.target.value)}\r\n        ></SearchBar>\r\n        <SearchFilter filter={filter} setFilter={setFilter}></SearchFilter>\r\n      </Wrapper>\r\n      <ProfileIcon></ProfileIcon>\r\n    </Container>\r\n  );\r\n}\r\n","import styled, { css } from \"styled-components\";\r\nimport { IoIosHome, IoIosSearch, IoIosList } from \"react-icons/io\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const StyledLink = styled(Link)`\r\n  color: ${props => props.theme.white};\r\n  text-decoration: none;\r\n  display: grid;\r\n  justify-self: flex-start;\r\n  grid-template-columns: 2rem 1fr;\r\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\r\n  cursor: pointer;\r\n  color: ${props => props.theme.transparent4};\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.white};\r\n  }\r\n  transition: color 0.4s;\r\n`;\r\nexport const Container = styled.nav`\r\n  grid-row: span 2;\r\n  background-color: ${props => props.theme.transparent};\r\n  display: grid;\r\n  justify-content: center;\r\n  grid-gap: ${props => 1 * props.theme.unit + \"px\"};\r\n  padding: ${props => 4 * props.theme.unit + \"px\"};\r\n  grid-template-rows: 40px 40px 40px 1fr;\r\n\r\n  & p {\r\n    padding-top: 5px;\r\n    font-size: 1.2rem;\r\n  }\r\n\r\n  & div {\r\n    align-self: flex-end;\r\n\r\n    & button {\r\n      cursor: pointer;\r\n      padding: 8px;\r\n      border: none;\r\n      border-radius: 90px;\r\n      background: ${props =>\r\n        props.theme.mode === \"dark\"\r\n          ? props.theme.gradient\r\n          : props.theme.transparentBlack4};\r\n      color: ${props =>\r\n        props.theme.mode === \"dark\" ? props.theme.white : props.theme.primary};\r\n    }\r\n  }\r\n`;\r\n\r\nconst Icon = css`\r\n  font-size: 2rem;\r\n`;\r\n\r\nexport const HomeIcon = styled(IoIosHome)`\r\n  ${Icon}\r\n`;\r\n\r\nexport const SearchIcon = styled(IoIosSearch)`\r\n  ${Icon}\r\n`;\r\n\r\nexport const LibraryIcon = styled(IoIosList)`\r\n  ${Icon}\r\n`;\r\n","import React from \"react\";\r\nimport {\r\n  Container,\r\n  HomeIcon,\r\n  SearchIcon,\r\n  LibraryIcon,\r\n  StyledLink\r\n} from \"./styles\";\r\nexport default function Sidebar({ path, toggleTheme }) {\r\n  const route = window.location.pathname.split(\"/\")[3];\r\n  return (\r\n    <Container>\r\n      <StyledLink to={path}>\r\n        <HomeIcon></HomeIcon>\r\n        <p>Home</p>\r\n      </StyledLink>\r\n      <StyledLink to={`${path}/search`}>\r\n        <SearchIcon></SearchIcon>\r\n        <p>Search</p>{\" \"}\r\n      </StyledLink>\r\n      <StyledLink to={`${path}/library`}>\r\n        <LibraryIcon></LibraryIcon>\r\n        <p>Library</p>\r\n      </StyledLink>\r\n      <div>\r\n        {\" \"}\r\n        <button onClick={toggleTheme}>\r\n          {localStorage.getItem(\"theme\") === \"dark\" ? \"Light\" : \"Dark\"} Mode\r\n        </button>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & div {\r\n    position: absolute;\r\n    bottom: ${props => 12 * props.theme.unit + \"px\"};\r\n    height: ${props => 6 * props.theme.unit + \"px\"};\r\n    width: 100%;\r\n    transition: opacity 0.7s;\r\n    text-align: center;\r\n    padding: ${props => 1.5 * props.theme.unit + \"px\"};\r\n    pointer-events: none;\r\n  }\r\n`;\r\n\r\nexport const Error = styled.div`\r\n  background-color: ${props => props.theme.red};\r\n  opacity: ${props => (props.active ? 1 : 0)};\r\n`;\r\nexport const Success = styled.div`\r\n  background-color: ${props => props.theme.green};\r\n  opacity: ${props => (props.active ? 1 : 0)};\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Container, Success, Error } from \"./styles\";\r\nimport useTimeout from \"../../hooks/useTimeout\";\r\n\r\nexport default function Message({ success, error }) {\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [message, setMessage] = useState({ success: \"\", error: \"\" });\r\n\r\n  const generateSuccessMessage = success => {\r\n    switch (success.type) {\r\n      case \"ADD_TRACK\":\r\n        return \"Added track to playlist\";\r\n      case \"REMOVE_TRACK\":\r\n        return \"Removed Track from playlist\";\r\n      default:\r\n        return \"\";\r\n    }\r\n  };\r\n  const generateErrorMessage = error => {\r\n    switch (error.type) {\r\n      case \"ADD_TRACK\":\r\n        return \"Track already in playlist\";\r\n      case \"REMOVE_TRACK\":\r\n        return \"Track not in playlist\";\r\n    }\r\n  };\r\n\r\n  // set SUccess message when successful event occurs\r\n  useEffect(() => {\r\n    if (success) {\r\n      setMessage({ success: generateSuccessMessage(success), error: \"\" });\r\n    }\r\n  }, [success]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setMessage({ success: \"\", error: generateErrorMessage(error) });\r\n    }\r\n  }, [error]);\r\n\r\n  // After 3 seconds remove success/error message\r\n  useTimeout(() => {\r\n    if (message.success || message.error) {\r\n      setMessage({ error: \"\", success: \"\" });\r\n    }\r\n  }, (message.success || message.error) && 3000);\r\n\r\n  return (\r\n    <Container>\r\n      <Error active={message.error}>{message.error}</Error>\r\n      <Success active={message.success}>{message.success}</Success>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\n// Pages\r\nimport Home from \"../../Desktop/Home/Home\";\r\nimport Search from \"../../Agnostic/Search/Search\";\r\nimport Library from \"../../Agnostic/Library/Library\";\r\n\r\n// Styles\r\nimport { Background, Container, Footer, Main, Spinner } from \"./styles\";\r\nimport theme from \"../../../theme\";\r\n\r\n// Components\r\nimport SpotifyWebplayer from \"../../../components/SpotifyWebplayer/SpotifyWebplayer\";\r\nimport DesktopHeader from \"../../../components/DesktopHeader/DesktopHeader\";\r\nimport Sidebar from \"../../../components/Sidebar/Sidebar.js\";\r\nimport Message from \"../../../components/Message/Message\";\r\n\r\nexport default function RoomView(props) {\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [startAudio, setStartAudio] = useState(false);\r\n\r\n  const {\r\n    query,\r\n    setQuery,\r\n    room,\r\n    roomTracks,\r\n    libraryResults,\r\n    queryResults,\r\n    findResult,\r\n    setFindQuery,\r\n    playerReady,\r\n    accessToken,\r\n    match,\r\n    roomSuccess,\r\n    roomError,\r\n    loaded,\r\n    toggleTheme\r\n  } = props;\r\n\r\n  return (\r\n    <Background>\r\n      <Container>\r\n        <Sidebar path={match.url} toggleTheme={toggleTheme}></Sidebar>\r\n        <DesktopHeader\r\n          filter={filter}\r\n          setFilter={setFilter}\r\n          query={query}\r\n          setQuery={setQuery}\r\n        ></DesktopHeader>\r\n        {loaded ? (\r\n          <Main>\r\n            <>\r\n              <Route\r\n                exact\r\n                path={`${match.path}`}\r\n                component={() => (\r\n                  <Home\r\n                    room={room}\r\n                    setStartAudio={setStartAudio}\r\n                    roomTracks={roomTracks}\r\n                    topTracks={libraryResults.topTracks}\r\n                  ></Home>\r\n                )}\r\n              ></Route>\r\n              <Route\r\n                path={`${match.path}/search`}\r\n                component={() => (\r\n                  <Search\r\n                    results={queryResults}\r\n                    filter={filter}\r\n                    setFilter={setFilter}\r\n                    addTrack={room.controller.addTrack}\r\n                    removeTrack={room.controller.removeTrack}\r\n                    query={query}\r\n                    foundTracksName={findResult.name}\r\n                    foundTracks={findResult.tracks}\r\n                    setFindQuery={setFindQuery}\r\n                  ></Search>\r\n                )}\r\n              ></Route>\r\n              <Route\r\n                path={`${match.path}/library`}\r\n                component={() => (\r\n                  <Library\r\n                    filter={filter}\r\n                    setFilter={setFilter}\r\n                    results={libraryResults}\r\n                    foundTracks={findResult.tracks}\r\n                    setFindQuery={setFindQuery}\r\n                    addTrack={room.controller.addTrack}\r\n                    removeTrack={room.controller.removeTrack}\r\n                    foundTracksName={findResult.name}\r\n                    selectedTracks={roomTracks.playlist}\r\n                  ></Library>\r\n                )}\r\n              ></Route>\r\n            </>\r\n          </Main>\r\n        ) : (\r\n          <Spinner type=\"Bars\" color={theme.white}></Spinner>\r\n        )}\r\n\r\n        <Footer>\r\n          <Message success={roomSuccess} error={roomError}></Message>\r\n          {playerReady && room && room.state.isHost && loaded && (\r\n            <SpotifyWebplayer\r\n              token={accessToken}\r\n              room={room}\r\n              roomTracks={roomTracks}\r\n              start={startAudio}\r\n              setStart={setStartAudio}\r\n            ></SpotifyWebplayer>\r\n          )}\r\n        </Footer>\r\n      </Container>\r\n    </Background>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Chevron } from \"../../styles/Chevron\";\r\n\r\nexport const Container = styled.div`\r\n  /* background-color: \"black\"; */\r\n  height: calc(100vh - 48px);\r\n  position: relative;\r\n`;\r\nexport const ImageContainer = styled.div`\r\n  /* Used to position Image */\r\n  position: relative;\r\n  top: 0px;\r\n  height: ${props => props.height * 1.2 + \"px\"};\r\n  width: ${props => props.width + \"px\"};\r\n  margin: 0 auto;\r\n  padding: 32px 0;\r\n`;\r\n\r\nexport const ImageWrapper = styled.div`\r\n  /* Adds fade effect to bottom of image*/\r\n\r\n  height: 100%;\r\n  &::before {\r\n    content: \"\";\r\n    background-image: ${props =>\r\n      props.theme.mode === \"dark\"\r\n        ? props.theme.blackFadeGradient\r\n        : props.theme.whiteFadeGradient};\r\n    position: absolute;\r\n    height: 50%; /* based on image height*/\r\n\r\n    /* 1 less pixel than padding amount */\r\n    right: -1px;\r\n    bottom: 31px;\r\n    left: -1px;\r\n  }\r\n  &::after {\r\n    content: \"\";\r\n    display: block;\r\n    height: 100vh;\r\n  }\r\n`;\r\nexport const Image = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: \"contain\";\r\n`;\r\n\r\nexport const Overlay = styled.div`\r\n  /* Container to position Song info*/\r\n\r\n  position: absolute;\r\n  min-height: ${props => 12 * props.theme.unit + \"px\"};\r\n  height: ${props => `calc(100vh - 24px - ${props.height}px)`};\r\n  width: 100%;\r\n  bottom: 0px;\r\n  display: grid;\r\n`;\r\n\r\nexport const SongInfoContainer = styled.div`\r\n  text-align: center;\r\n  text-justify: center;\r\n  align-self: center;\r\n\r\n  & > h1 {\r\n    font-weight: 700;\r\n  }\r\n  & > h5 {\r\n    font-weight: 300;\r\n    font-size: 1.7rem;\r\n    color: ${props =>\r\n      props.theme.mode === \"dark\"\r\n        ? props.theme.transparent4\r\n        : props.theme.transparentBlack2};\r\n  }\r\n  & > p {\r\n    font-weight: 100;\r\n    padding-top: ${props => 1 * props.theme.unit + \"px\"};\r\n    font-size: 1rem;\r\n    color: ${props =>\r\n      props.theme.mode === \"dark\"\r\n        ? props.theme.transparent3\r\n        : props.theme.secondary};\r\n  }\r\n`;\r\n\r\nexport const StyledChevron = styled(Chevron)`\r\n  bottom: ${props => 1 * props.theme.unit + \"px\"};\r\n  left: calc(50% - 8px);\r\n  &:before {\r\n    border-style: solid;\r\n    border-width: 1px 1px 0 0;\r\n    content: \"\";\r\n    display: inline-block;\r\n    height: ${props => 2 * props.theme.unit + \"px\"};\r\n    left: 0;\r\n    position: relative;\r\n    vertical-align: top;\r\n    width: ${props => 2 * props.theme.unit + \"px\"};\r\n    transform: rotate(135deg);\r\n  }\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  ImageContainer,\r\n  ImageWrapper,\r\n  Image,\r\n  Overlay,\r\n  SongInfoContainer,\r\n  StyledChevron\r\n} from \"./styles\";\r\n\r\nexport default function CurrentTrack(props) {\r\n  const { AudioVisualizer, title, artist, nextTrack, image } = props;\r\n  return (\r\n    <Container>\r\n      <ImageContainer width={image.width} height={image.height}>\r\n        <ImageWrapper>\r\n          <Image src={image.url} />\r\n        </ImageWrapper>\r\n      </ImageContainer>\r\n      <Overlay height={image.height}>\r\n        <SongInfoContainer>\r\n          <AudioVisualizer />\r\n          <h1>{title}</h1>\r\n          <h5>{artist}</h5>\r\n          <p>\r\n            {\" \"}\r\n            Up next {nextTrack.artist} : {nextTrack.title}\r\n          </p>\r\n        </SongInfoContainer>\r\n      </Overlay>\r\n      <StyledChevron />\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function AudioVisualizer() {\r\n  return <div />;\r\n}\r\n","import styled from \"styled-components\";\r\nimport Loader from \"react-loader-spinner\";\r\nexport const Container = styled.div`\r\n  height: calc(100vh - 50px);\r\n  position: relative;\r\n  display: grid;\r\n`;\r\n\r\nexport const StyledList = styled.ul`\r\n  padding: 0 ${props => 2 * props.theme.unit + \"px\"};\r\n`;\r\nexport const Spinner = styled(Loader)`\r\n  justify-self: center;\r\n  align-self: center;\r\n`;\r\nexport const StyledItem = styled.li`\r\n  font-size: 0.8rem;\r\n  display: grid;\r\n  grid-template-columns: 48px 1fr 48px;\r\n  margin-bottom: ${props => 2 * props.theme.unit + \"px\"};\r\n  align-items: center;\r\n  width: 100%;\r\n  background-color: ${props =>\r\n    props.theme.mode === \"dark\" ? \"\" : props.theme.transparent3};\r\n\r\n  & img {\r\n    height: ${props => 6 * props.theme.unit + \"px\"};\r\n    width: ${props => 6 * props.theme.unit + \"px\"};\r\n  }\r\n  & div {\r\n    padding: 0 0 0 ${props => 1 * props.theme.unit + \"px\"};\r\n    overflow: hidden;\r\n    & h3 {\r\n      font-size: 0.8rem;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n    & p {\r\n      display: inline;\r\n      color: ${props =>\r\n        props.theme.mode === \"dark\"\r\n          ? props.theme.transparent4\r\n          : props.theme.transparentBlack};\r\n      font-weight: 100;\r\n      text-transform: capitalize;\r\n    }\r\n  }\r\n\r\n  & button {\r\n    height: ${props => 6 * props.theme.unit + \"px\"};\r\n    width: ${props => 6 * props.theme.unit + \"px\"};\r\n    background: none;\r\n    border: none;\r\n    color: whitesmoke;\r\n    font-size: 2rem;\r\n    text-align: center;\r\n    text-justify: center;\r\n  }\r\n  & li {\r\n    display: inline;\r\n    text-transform: capitalize;\r\n  }\r\n  & li:first-child::after {\r\n    content: \"\";\r\n    color: white;\r\n    padding: 0 3px;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport CurrentTrack from \"../../../components/CurrentTrack/CurrentTrack\";\r\nimport List from \"../../../components/List\";\r\nimport AudioVisualizer from \"../../../components/AudioVisualizer\";\r\nimport { Container, StyledItem, StyledList, Spinner } from \"./styles\";\r\nimport theme from \"../../../theme\";\r\n\r\n// TODO use paralax https://www.youtube.com/watch?v=P5zGTEGPpu4\r\nexport default function Home(props) {\r\n  const ItemTemplate = ({ src, name, labels }) => (\r\n    <StyledItem>\r\n      {src && <img src={src}></img>}\r\n      <div>\r\n        <h3>{name}</h3>\r\n        <ul>{labels && labels.map((label, i) => <p key={i}>{label}</p>)}</ul>\r\n      </div>\r\n\r\n      <button>{\"+\"}</button>\r\n    </StyledItem>\r\n  );\r\n\r\n  const { playlist, currentSong } = props.roomTracks;\r\n\r\n  const nextTrack = (playlist &&\r\n    playlist[\r\n      playlist.indexOf(\r\n        playlist.filter(track => track.uri === currentSong.uri)[0]\r\n      ) + 1\r\n    ]) || { artist: null, title: null };\r\n\r\n  return (\r\n    <Container>\r\n      {currentSong && playlist ? (\r\n        <>\r\n          {\" \"}\r\n          <CurrentTrack\r\n            AudioVisualizer={AudioVisualizer}\r\n            title={currentSong.name}\r\n            artist={currentSong.artists[0].name}\r\n            image={currentSong.getImages().medium}\r\n            nextTrack={{ artist: nextTrack.artist, title: nextTrack.name }}\r\n          ></CurrentTrack>{\" \"}\r\n          <List items={playlist} Style={StyledList}>\r\n            <ItemTemplate\r\n              src={item => item.getImages().default.url}\r\n              name={item => item.name}\r\n              labels={item =>\r\n                item\r\n                  .getLabels()\r\n                  .map(label => `${label} `)\r\n                  .slice(1, 3)\r\n              }\r\n            ></ItemTemplate>\r\n          </List>\r\n        </>\r\n      ) : (\r\n        <Spinner type=\"Bars\" color={theme.white}></Spinner>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  height: calc(100vh - 50px);\r\n  position: relative;\r\n`;\r\n","import React from \"react\";\r\n\r\nexport default function Input(props) {\r\n  return (\r\n    <input\r\n      name={props.name}\r\n      type={props.type}\r\n      placeholder={props.placeholder}\r\n      value={props.value}\r\n      onChange={e => props.setValue(e.target.value)}\r\n    ></input>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  padding-bottom: ${props => 20 * props.theme.unit + \"px\"};\r\n`;\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  display: grid;\r\n  grid-gap: ${props => 2 * props.theme.unit + \"px\"};\r\n  border-bottom: 1px solid ${props => props.theme.white};\r\n  padding: ${props => 2 * props.theme.unit + \"px\"};\r\n  position: fixed;\r\n  background-color: ${props => props.theme.darkestGray};\r\n  background-image: ${props =>\r\n    props.theme.mode === \"light\" && props.theme.gradient};\r\n  z-index: 10;\r\n  & input {\r\n    margin: 0px;\r\n    background-color: ${props => props.theme.transparent};\r\n    border: none;\r\n    border-bottom: 1px solid ${props => props.theme.white};\r\n    width: 100%;\r\n    height: ${props => 8 * props.theme.unit + \"px\"};\r\n    color: ${props => props.theme.white};\r\n    font-size: 2rem;\r\n    padding: ${props => 2 * props.theme.unit + \"px\"};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport Input from \"../Input/Input\";\r\nimport { Wrapper, Container } from \"./styles\";\r\nimport SearchFilter from \"../SearchFilter/SeachFilter\";\r\n\r\nexport default function SearchBar({ query, setQuery, filter, setFilter }) {\r\n  return (\r\n    <Wrapper>\r\n      <Container>\r\n        <Input value={query} setValue={setQuery}></Input>\r\n        <SearchFilter filter={filter} setFilter={setFilter}></SearchFilter>\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport Results from \"../../../components/Results/Results\";\r\n\r\nimport useSearch from \"../../../hooks/useSearch/useSearch\";\r\n\r\nimport { Container } from \"../../../styles/Container\";\r\nimport SearchBar from \"../../../components/SearchBar/SearchBar\";\r\nexport default function Search() {\r\n  // Local State\r\n  const { query, setQuery, queryResults } = useSearch(\"tobi\");\r\n  const { albums, tracks, artists, playlists } = queryResults;\r\n  const [filter, setFilter] = useState(\"\");\r\n\r\n  return (\r\n    <Container>\r\n      <SearchBar\r\n        query={query}\r\n        setQuery={setQuery}\r\n        filter={filter}\r\n        setFilter={setFilter}\r\n      ></SearchBar>\r\n      <Results\r\n        {...{\r\n          query,\r\n          filter,\r\n          setFilter,\r\n\r\n          results: [\r\n            { title: \"Albums\", items: albums },\r\n            { title: \"Artists\", items: artists },\r\n            { title: \"Playlists\", items: playlists },\r\n            { title: \"Tracks\", items: tracks }\r\n          ]\r\n        }}\r\n      ></Results>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Row = css`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  align-content: center;\r\n`;\r\n\r\nconst Body = styled.div`\r\n  ${Row}\r\n  border-top: 1px solid ${props => props.theme.white};\r\n  justify-items: center;\r\n`;\r\nconst Underlay = styled.div`\r\n  ${Row}\r\n  position:absolute;\r\n  top: 0px;\r\n  right: 5px;\r\n  pointer-events: none;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  height: ${props => 7 * props.theme.unit + \"px\"};\r\n  width: 100%;\r\n  position: fixed;\r\n  background-color: ${props => props.theme.darkestGray};\r\n  background-image: ${props =>\r\n    props.theme.mode === \"light\" && props.theme.gradient};\r\n  & i {\r\n    color: ${props => props.theme.white};\r\n  }\r\n`;\r\n\r\nexport default function MobileMenu({ path }) {\r\n  return (\r\n    <Container>\r\n      <Body>\r\n        <Underlay>\r\n          <span>|</span>\r\n          <span>|</span>\r\n          <span>|</span>\r\n        </Underlay>\r\n        <Link to={path}>\r\n          <i className=\"fas fa-music\" />\r\n        </Link>\r\n        <Link to={`${path}/search`}>\r\n          <i className=\"fas fa-search\" />\r\n        </Link>\r\n        <Link to={`${path}/library`}>\r\n          <i className=\"fas fa-heart\" />\r\n        </Link>\r\n      </Body>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nimport Home from \"../Home/Home\";\r\nimport Search from \"../Search/Search\";\r\nimport Library from \"../../Agnostic/Library/Library\";\r\nimport Footer from \"../../../components/MobileMenu\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  animation: fadeIn 1s;\r\n\r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      opacity: 1;\r\n    }\r\n  }\r\n  color: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.white : props.theme.black};\r\n\r\n  background-color: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.black : props.theme.white};\r\n\r\n  font-size: 1.5rem;\r\n  overflow: scroll;\r\n`;\r\n\r\nexport default function RoomView(props) {\r\n  const [filter, setFilter] = useState(\"\");\r\n\r\n  const {\r\n    query,\r\n    setQuery,\r\n    room,\r\n    roomTracks,\r\n    libraryResults,\r\n    queryResults,\r\n    findResult,\r\n    setFindQuery,\r\n    playerReady,\r\n    accessToken,\r\n    match\r\n  } = props;\r\n\r\n  return (\r\n    <Container>\r\n      <Route\r\n        exact\r\n        path={`${match.path}`}\r\n        component={() => <Home roomTracks={roomTracks}></Home>}\r\n      ></Route>\r\n      <Route\r\n        path={`${match.path}/search`}\r\n        component={() => (\r\n          <Search\r\n            results={queryResults}\r\n            filter={filter}\r\n            setFilter={setFilter}\r\n            addTrack={room.controller.addTrack}\r\n            removeTrack={room.controller.removeTrack}\r\n            query={query}\r\n            foundTracksName={findResult.name}\r\n            foundTracks={findResult.tracks}\r\n            setFindQuery={setFindQuery}\r\n          ></Search>\r\n        )}\r\n      ></Route>\r\n      <Route\r\n        path={`${match.path}/library`}\r\n        component={() => (\r\n          <Library\r\n            filter={filter}\r\n            setFilter={setFilter}\r\n            results={libraryResults}\r\n            foundTracks={findResult.tracks}\r\n            setFindQuery={setFindQuery}\r\n            addTrack={room.controller.addTrack}\r\n            removeTrack={room.controller.removeTrack}\r\n            foundTracksName={findResult.name}\r\n            selectedTracks={roomTracks.playlist}\r\n          ></Library>\r\n        )}\r\n      ></Route>\r\n      <Footer path={match.url} />\r\n    </Container>\r\n  );\r\n}\r\n","// Deps\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport DesktopView from \"../../Desktop/RoomView/RoomView\";\r\nimport MobileView from \"../../Mobile/RoomView/RoomView\";\r\n\r\n// Hooks\r\nimport useRoomTracks from \"../../../hooks/useRoomTracks\";\r\nimport useSearch from \"../../../hooks/useSearch/useSearch\";\r\nimport useLibrary from \"../../../hooks/useLibrary\";\r\nimport useFind from \"../../../hooks/useFind\";\r\nimport useBreakpoint from \"../../../hooks/useBreakpoint\";\r\nimport useRoom from \"../../../hooks/useRoom\";\r\nimport useProfile from \"../../../hooks/useProfile\";\r\n\r\nexport default function Room(props) {\r\n  const accessToken = props.accessToken;\r\n  const { room, roomSuccess, roomError } = useRoom();\r\n  const { roomTracks } = useRoomTracks(accessToken, room);\r\n\r\n  const { libraryResults } = useLibrary(accessToken);\r\n  // TODO change to searchQuery\r\n  const { query, setQuery, queryResults } = useSearch(accessToken);\r\n  const [findResult, setFindQuery] = useFind(accessToken);\r\n  const user = useProfile(accessToken);\r\n\r\n  const playerReady =\r\n    accessToken &&\r\n    room.state &&\r\n    room.state.currentSong &&\r\n    roomTracks &&\r\n    roomTracks.currentSong &&\r\n    user;\r\n\r\n  const { breakpoint } = useBreakpoint();\r\n\r\n  // TODO pass user Id\r\n  useEffect(() => {\r\n    if (user) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const id = window.location.pathname.split(\"/\")[2];\r\n      room.controller.joinRoom(id, user.uri, \"\", token ? token : null);\r\n    }\r\n  }, [user]);\r\n  const loaded =\r\n    room &&\r\n    room.state &&\r\n    room.state.currentSong &&\r\n    room.state.currentSong.uri &&\r\n    roomTracks &&\r\n    roomTracks.currentSong &&\r\n    roomTracks.currentSong.uri &&\r\n    libraryResults &&\r\n    (libraryResults.tracks ||\r\n      libraryResults.artists ||\r\n      libraryResults.albums ||\r\n      libraryResults.playlists);\r\n\r\n  const viewProps = {\r\n    loaded,\r\n    playerReady,\r\n    room,\r\n    roomTracks,\r\n    findResult,\r\n    setFindQuery,\r\n    query,\r\n    setQuery,\r\n    queryResults,\r\n    libraryResults,\r\n    accessToken,\r\n    roomSuccess,\r\n    roomError,\r\n    ...props\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {breakpoint === \"mobile\" ? (\r\n        <MobileView {...viewProps}></MobileView>\r\n      ) : (\r\n        <>\r\n          <DesktopView {...viewProps}></DesktopView>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport io from \"socket.io-client\";\r\n\r\nexport default function useRoom() {\r\n  const url =\r\n    process.env.NODE_ENV === \"production\"\r\n      ? \"https://airplayer.herokuapp.com\"\r\n      : \"http://localhost:8888\";\r\n  const socket = io.connect(url);\r\n\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState({ type: \"\", payload: \"\" });\r\n\r\n  const Controller = socket => {\r\n    // This function is used to create a new controller to manage the room.\r\n    // It has to recreated to inherit the socket closure after a room as been joined\r\n    return {\r\n      joinRoom: (id, userId, password = null, token) =>\r\n        socket.emit(\"JOIN_ROOM\", { id, userId, password, token }),\r\n      addTrack: id => socket.emit(\"ADD_TRACK\", { uri: id }),\r\n      removeTrack: id => socket.emit(\"REMOVE_TRACK\", { uri: id }),\r\n      updatePlaylist: playlist => socket.emit(\"UPDATE_PLAYLIST\", playlist),\r\n      play: id => socket.emit(\"PLAY\", { uri: id }),\r\n      pause: () => socket.emit(\"PAUSE\", null),\r\n      resume: () => socket.emit(\"RESUME\", null),\r\n      seek: destination => socket.emit(\"SEEK\", destination)\r\n    };\r\n  };\r\n\r\n  const [room, setRoom] = useState({\r\n    state: {},\r\n    controller: Controller(socket),\r\n    error: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    socket.on(\"ROOM_CREATED\", payload =>\r\n      setSuccess({ type: \"ROOM_CREATED\", payload, message: \"Room Created\" })\r\n    );\r\n    socket.on(\"ROOM_UPDATED\", nextRoomState => {\r\n      setRoom({\r\n        ...room,\r\n        state: { ...nextRoomState, isHost: socket.id === nextRoomState.host },\r\n        controller: Controller(socket)\r\n      });\r\n    });\r\n    socket.on(\"ERROR\", ({ type, payload, message, code }) =>\r\n      setError({ type, payload, message, code })\r\n    );\r\n    socket.on(\"SUCCESS\", ({ type, payload, message }) =>\r\n      setSuccess({ type, payload, message })\r\n    );\r\n  }, [room]);\r\n\r\n  return { room, roomError: error, roomSuccess: success };\r\n}\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport Spotify from \"../modules/Spotify\";\r\nimport { ItemPrototype } from \"../modules/SpotifyHelper/SpotifyHelper\";\r\n\r\nexport default function useRoomTracks(accessToken, room) {\r\n  // Store Access\r\n  // Local State\r\n\r\n  // Local Variables\r\n  const [roomTracks, setRoomTracks] = useState({\r\n    currentSong: null,\r\n    playlist: null\r\n  });\r\n  const spotify = Spotify(accessToken);\r\n\r\n  useEffect(() => {\r\n    if (room && room.state && room.state.currentSong && room.state.playlist) {\r\n      const currentSongPromise = spotify.find({\r\n        track: { where: { id: room.state.currentSong.uri.split(\":\")[2] } }\r\n      });\r\n      const playlistPromise = Promise.all(\r\n        room.state.playlist.map(track =>\r\n          spotify.find({\r\n            track: { where: { id: track.uri.split(\":\")[2] } }\r\n          })\r\n        )\r\n      );\r\n      Promise.all([currentSongPromise, playlistPromise]).then(\r\n        ([currentSong, playlist]) => {\r\n          Reflect.setPrototypeOf(currentSong, ItemPrototype());\r\n\r\n          playlist.map(track => Reflect.setPrototypeOf(track, ItemPrototype()));\r\n          setRoomTracks({\r\n            currentSong,\r\n            playlist\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }, [room.state]);\r\n\r\n  return { roomTracks };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport Spotify from \"../modules/Spotify\";\r\nimport { ItemPrototype } from \"../modules/SpotifyHelper/SpotifyHelper\";\r\n\r\nexport default function useLibrary(accessToken) {\r\n  // Store Access\r\n\r\n  const [libraryResults, setQueryResults] = useState({\r\n    tracks: {},\r\n    artists: {},\r\n    playlists: {},\r\n    albums: {},\r\n    topTracks: {}\r\n  });\r\n\r\n  // Local Variables\r\n  const spotify = Spotify(accessToken);\r\n\r\n  // Search Handler\r\n  useEffect(() => {\r\n    const getQueries = async () => {\r\n      const queries = Object.keys(libraryResults).map(type => {\r\n        switch (type) {\r\n          case \"tracks\":\r\n            return spotify\r\n              .user()\r\n              .library()\r\n              .get(type);\r\n          case \"albums\":\r\n            return spotify\r\n              .user()\r\n              .library()\r\n              .get(type);\r\n          case \"artists\":\r\n            return spotify.user().artists();\r\n          case \"playlists\":\r\n            return spotify.user().playlists();\r\n          case \"topTracks\":\r\n            return spotify.user().top(\"tracks\");\r\n        }\r\n      });\r\n\r\n      const results = await Promise.all(queries);\r\n\r\n      const tracks = results[0].error\r\n        ? []\r\n        : results[0].items.map(item => item.track);\r\n\r\n      const artists = results[1].error ? [] : results[1].artists.items;\r\n      const playlists = results[2].error ? [] : results[2].items;\r\n      const albums = results[3].error\r\n        ? []\r\n        : results[3].items.map(item => item.album);\r\n\r\n      const topTracks = results[4].error ? [] : results[4].items;\r\n\r\n      const nextQueryResults = [tracks, artists, playlists, albums, topTracks];\r\n      nextQueryResults.forEach(results =>\r\n        results.forEach(item => Reflect.setPrototypeOf(item, ItemPrototype()))\r\n      );\r\n      return Object.assign(\r\n        {},\r\n        ...Object.keys(libraryResults).map((query, i) => {\r\n          return {\r\n            [query]: nextQueryResults[i]\r\n          };\r\n        })\r\n      );\r\n    };\r\n    if (accessToken) {\r\n      getQueries().then(nextResults => {\r\n        setQueryResults(nextResults);\r\n      });\r\n    }\r\n  }, [accessToken]);\r\n\r\n  return {\r\n    libraryResults\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Spotify from \"../modules/Spotify\";\r\nimport { ItemPrototype } from \"../modules/SpotifyHelper/SpotifyHelper\";\r\n\r\nexport default function useFind(accessToken) {\r\n  const [findQuery, setFindQuery] = useState({ uri: \"\", name: \"\" });\r\n  const [findResult, setFindResult] = useState({ tracks: [], name: \"\" });\r\n\r\n  const spotify = Spotify(accessToken);\r\n\r\n  useEffect(() => {\r\n    const getTracks = async (type, uri) => {\r\n      switch (type) {\r\n        case \"album\":\r\n          return getAlbumTracks(uri);\r\n\r\n        case \"artist\":\r\n          return getArtistTracks(uri);\r\n\r\n        case \"playlist\":\r\n          return getPlaylistTracks(uri);\r\n        default:\r\n          return null;\r\n      }\r\n    };\r\n\r\n    if (findQuery.uri !== \"\") {\r\n      // e.g spotify:albums:123abc => [albums, 123abc]\r\n      const [type, uri] = findQuery.uri.split(\":\").slice(-2);\r\n      getTracks(type, uri).then(tracks => {\r\n        setFindResult({ tracks: tracks, name: findQuery.name });\r\n      });\r\n    } else {\r\n      setFindResult({ tracks: null, name: null });\r\n    }\r\n  }, [findQuery]);\r\n\r\n  const getArtistTracks = async uri => {\r\n    const collection = await spotify.find({\r\n      topTracks: {\r\n        where: { artist: { id: uri } },\r\n        market: \"AU\"\r\n      }\r\n    });\r\n    collection.tracks.forEach(item => {\r\n      Reflect.setPrototypeOf(item, ItemPrototype());\r\n    });\r\n    return collection.tracks;\r\n  };\r\n\r\n  const getPlaylistTracks = async uri => {\r\n    const collection = await spotify.find({\r\n      tracks: { where: { playlist: { id: uri } } }\r\n    });\r\n\r\n    const tracks = collection.items.map(item => item.track);\r\n    tracks.forEach(track => {\r\n      Reflect.setPrototypeOf(track, ItemPrototype());\r\n    });\r\n\r\n    return tracks;\r\n  };\r\n  const getAlbumTracks = async uri => {\r\n    const [collection, album] = await Promise.all([\r\n      spotify.find({\r\n        tracks: {\r\n          where: { albums: { id: uri } }\r\n        }\r\n      }),\r\n      spotify.find({\r\n        album: { where: { id: uri } }\r\n      })\r\n    ]);\r\n\r\n    collection.items.forEach(item => {\r\n      item.images = album.images;\r\n      Reflect.setPrototypeOf(item, ItemPrototype());\r\n    });\r\n    return collection.items;\r\n  };\r\n  return [findResult, setFindQuery];\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport theme from \"../theme\";\r\n\r\nexport default function useBreakpoint() {\r\n  const [breakpoint, setBreakpoint] = useState(\"desktop\");\r\n\r\n  const handleResize = () => {\r\n    const mobile = theme.breakpoints.mobile.substring(\r\n      0,\r\n      theme.breakpoints.mobile.length - 2\r\n    );\r\n    if (window.innerWidth < mobile) {\r\n      setBreakpoint(\"mobile\");\r\n    } else {\r\n      setBreakpoint(\"tablet\");\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  });\r\n\r\n  useEffect(() => handleResize(), []);\r\n\r\n  return { breakpoint };\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  background: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.gradient : props.theme.white};\r\n  border-radius: ${props => (props.show ? \"0\" : \"2rem\")};\r\n  width: ${props => (props.show ? \"100%\" : \"0%\")};\r\n  height: ${props => (props.show ? \"100%\" : \"0%\")};\r\n  bottom: ${props => (props.show ? \"0\" : \"2.5rem\")};\r\n  right: ${props => (props.show ? \"0\" : \"2.5rem\")};\r\n  position: absolute;\r\n  overflow: hidden;\r\n  box-shadow: 2px 3px ${props => props.theme.transparentBlack5};\r\n\r\n  transition: width 0.5s, height 0.5s, bottom 0.5s, right 0.5s;\r\n  & > * {\r\n    opacity: ${props => (props.show ? \"1\" : \"0\")};\r\n\r\n    transition: opacity 0.5s;\r\n    color: ${props => props.theme.black};\r\n  }\r\n\r\n  & > [type=\"icon\"] {\r\n    color: ${props => props.theme.transparentBlack5};\r\n\r\n    font-size: 3rem;\r\n    position: absolute;\r\n    right: 0.5rem;\r\n    top: 0.5rem;\r\n    & :hover {\r\n      color: ${props => props.theme.black};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Title = styled.p`\r\n  text-align: center;\r\n  padding: 1rem;\r\n  font-size: 2rem;\r\n  color: ${props =>\r\n    props.theme.mode === \"dark\"\r\n      ? props.theme.white\r\n      : props.theme.transparentBlack};\r\n`;\r\nexport const Body = styled.div`\r\n  width: 90%;\r\n  height: 75%;\r\n  margin: 0 5%;\r\n`;\r\n","import React from \"react\";\r\nimport { Container, Title, Body } from \"./styles\";\r\nimport { IoIosClose } from \"react-icons/io\";\r\nexport default function Modal(props) {\r\n  const { show, setShow, title, children } = props;\r\n  return (\r\n    <Container show={show}>\r\n      <IoIosClose onClick={() => setShow(false)} type=\"icon\"></IoIosClose>\r\n      <Title>{title}</Title>\r\n      <Body>{children}</Body>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  text-align: center;\r\n  color: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.white : props.theme.black};\r\n`;\r\n\r\nexport const SearchForm = styled.div`\r\n  overflow: hidden !important;\r\n  display: grid;\r\n  grid-gap: 24px;\r\n  height: 100%;\r\n\r\n  & [type=\"container\"] {\r\n    position: relative;\r\n\r\n    & input {\r\n      justify-self: center;\r\n      width: 70%;\r\n      max-width: 500px;\r\n      padding: ${props => 2 * props.theme.unit + \"px\"};\r\n    }\r\n\r\n    & [type=\"icon\"] {\r\n      position: absolute;\r\n      font-size: 2rem;\r\n      top: 8px;\r\n      margin-left: -40px;\r\n\r\n      color: ${props =>\r\n        props.theme.mode === \"dark\" ? props.theme.white : props.theme.black};\r\n    }\r\n  }\r\n`;\r\nexport const CreateForm = styled.form`\r\n  & > p {\r\n    color: ${props =>\r\n      props.theme.mode === \"dark\"\r\n        ? props.theme.white\r\n        : props.theme.transparentBlack};\r\n  }\r\n\r\n  & > input {\r\n    margin: ${props => 1.5 * props.theme.unit + \"px\"} 0;\r\n    width: 300px;\r\n    border: none;\r\n    padding: ${props => 1.5 * props.theme.unit + \"px\"};\r\n    box-shadow: 2px 2px\r\n      ${props =>\r\n        props.theme.mode === \"dark\"\r\n          ? props.theme.transparent\r\n          : props.theme.transparentBlack5};\r\n  }\r\n\r\n  & > [type=\"icon\"] {\r\n    position: absolute;\r\n    font-size: 2rem;\r\n    margin-left: -340px;\r\n    margin-top: 16px;\r\n    color: ${props =>\r\n      props.theme.mode === \"dark\" ? props.theme.white : props.theme.primary};\r\n  }\r\n`;\r\nexport const CreateButton = styled.button`\r\n  display: block;\r\n  margin: ${props => 2 * props.theme.unit + \"px\"} auto;\r\n  color: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.black : props.theme.white};\r\n  padding: 8px 32px;\r\n  background: ${props =>\r\n    props.theme.mode === \"dark\"\r\n      ? props.theme.transparent3\r\n      : props.theme.primary};\r\n  border-radius: 1rem;\r\n  font-size: 1.5rem;\r\n  box-shadow: 2px 2px\r\n    ${props =>\r\n      props.theme.mode === \"dark\"\r\n        ? props.theme.transparent\r\n        : props.theme.transparentBlack5};\r\n\r\n  border: none;\r\n  cursor: pointer;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Container, CreateForm, SearchForm, CreateButton } from \"./styles\";\r\nimport { IoIosKey, IoIosPeople, IoIosSearch } from \"react-icons/io\";\r\nimport { GoLocation } from \"react-icons/go\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Carousel from \"../Carousel/Carousel\";\r\nimport useSearch from \"../../hooks/useSearch/useSearch\";\r\n\r\nexport default function CreateRoomForm(props) {\r\n  const initialData = {\r\n    name: \"\",\r\n    password: \"\",\r\n    location: \"\",\r\n    userId: props.user.uri,\r\n    playlist: []\r\n  };\r\n  const api =\r\n    process.env.NODE_ENV === \"production\"\r\n      ? \"https://airplayer.herokuapp.com/api/\"\r\n      : \"http://localhost:8888/api/\";\r\n\r\n  const [data, setData] = useState(initialData);\r\n  const [roomState, setRoomState] = useState({\r\n    created: false,\r\n    tracksSelected: false,\r\n    done: false,\r\n    id: null\r\n  });\r\n\r\n  const { query, setQuery, queryResults } = useSearch(props.accessToken);\r\n\r\n  //                stage 1   =>   stage 2        stage 3                  stage 4\r\n  // Form Stages : Enter data =>   created   =>   tracksSelected    =>     done\r\n\r\n  useEffect(() => {\r\n    // Stage 3\r\n    if (roomState.tracksSelected) {\r\n      fetch(api + \"rooms\", { method: \"POST\", body: JSON.stringify(data) })\r\n        .then(res => res.json())\r\n        .then(json => {\r\n          localStorage.setItem(\"token\", json.token);\r\n          setRoomState({\r\n            done: true,\r\n            id: json.room.id\r\n          });\r\n        });\r\n    }\r\n  }, [roomState.tracksSelected, data]);\r\n\r\n  const addTrack = uri =>\r\n    setData({ ...data, playlist: [...data.playlist, { uri }] });\r\n\r\n  const removeTrack = uri =>\r\n    setData({\r\n      ...data,\r\n      playlist: data.playlist.filter(track => track.uri !== uri)\r\n    });\r\n\r\n  return (\r\n    <>\r\n      {roomState.done ? (\r\n        // Stage 4\r\n        <Redirect to={`room/${roomState.id}`}></Redirect>\r\n      ) : (\r\n        <Container>\r\n          {roomState.created ? (\r\n            //Stage 2\r\n            <SearchForm>\r\n              <div>\r\n                <p>Choose at least 3 tracks to get started</p>\r\n              </div>\r\n\r\n              <div type=\"container\">\r\n                <IoIosSearch type=\"icon\"></IoIosSearch>\r\n                <input\r\n                  type=\"text\"\r\n                  value={query}\r\n                  onChange={e => setQuery(e.target.value)}\r\n                  placeholder=\"Enter a track or artist name...\"\r\n                />\r\n              </div>\r\n\r\n              {queryResults.tracks.length > 0 ? (\r\n                <Carousel\r\n                  addItem={addTrack}\r\n                  removeItem={removeTrack}\r\n                  items={queryResults.tracks}\r\n                  selectedItems={data.playlist}\r\n                ></Carousel>\r\n              ) : query === \"\" ? (\r\n                <></>\r\n              ) : (\r\n                <p>No tracks matching \"{query}\"</p>\r\n              )}\r\n\r\n              {data.playlist.length > 2 ? (\r\n                <CreateButton\r\n                  onClick={() =>\r\n                    setRoomState({ ...roomState, tracksSelected: true })\r\n                  }\r\n                >\r\n                  Enter Room\r\n                </CreateButton>\r\n              ) : null}\r\n            </SearchForm>\r\n          ) : (\r\n            <CreateForm>\r\n              {/* Stage 1 */}\r\n              <p>Name</p>\r\n              <input\r\n                type=\"text\"\r\n                value={data.name}\r\n                placeholder=\"Enter a room name\"\r\n                onChange={e => setData({ ...data, name: e.target.value })}\r\n                required\r\n              />\r\n              <IoIosPeople type=\"icon\"></IoIosPeople>\r\n              <p>Password</p>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Enter a room password\"\r\n                value={data.password}\r\n                onChange={e => setData({ ...data, password: e.target.value })}\r\n              />\r\n              <IoIosKey type=\"icon\"></IoIosKey>\r\n              <p>Location</p>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Enter your location\"\r\n                required\r\n                value={data.location}\r\n                onChange={e => setData({ ...data, location: e.target.value })}\r\n              />\r\n              <GoLocation type=\"icon\"></GoLocation>\r\n              <CreateButton\r\n                type=\"submit\"\r\n                onClick={() => setRoomState({ ...roomState, created: true })}\r\n              >\r\n                Create\r\n              </CreateButton>\r\n            </CreateForm>\r\n          )}\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import StyledListItem from \"../../../styles/StyledListItem\";\r\nimport styled from \"styled-components\";\r\nimport List from \"../../../components/List\";\r\n\r\nexport const Background = styled.div`\r\n  background: ${props =>\r\n    props.theme.mode == \"dark\" ? props.theme.black : props.theme.gradient};\r\n  height: 100vh;\r\n  justify-items: center;\r\n  display: grid;\r\n  grid-template-rows: 5rem 2rem 1fr;\r\n  color: ${props => props.theme.white};\r\n\r\n  & > h1 {\r\n    font-size: 3.9rem;\r\n    text-shadow: 3px 3px\r\n      ${props =>\r\n        props.theme.mode === \"dark\"\r\n          ? props.theme.transparent\r\n          : props.theme.transparentBlack5};\r\n    background: ${props =>\r\n      props.theme.mode === \"dark\" ? props.theme.gradient : \"none\"};\r\n    -webkit-background-clip: ${props =>\r\n      props.theme.mode === \"dark\" ? \"text\" : \"none\"};\r\n    background-clip: ${props =>\r\n      props.theme.mode === \"dark\" ? \"text\" : \"none\"};\r\n    -webkit-text-fill-color: ${props =>\r\n      props.theme.mode === \"dark\" ? \"transparent\" : \"none\"};\r\n    padding: 8px 0;\r\n  }\r\n  & > p {\r\n    color: ${props => props.theme.transparent5};\r\n    padding-bottom: 16px;\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  position: relative;\r\n  justify-content: center;\r\n  align-content: center;\r\n  min-width: ${props => 24 * props.theme.unit + \"px\"};\r\n  width: 85vw;\r\n  min-height: ${props => 50 * props.theme.unit + \"px\"};\r\n  /* height: 70vh; */\r\n  margin-bottom: 8vh;\r\n  background-color: ${props => props.theme.transparent2};\r\n  grid-template-rows: ${props => 6 * props.theme.unit + \"px\"} 1fr;\r\n  grid-template-columns: 1fr;\r\n  animation: fadeIn 1s;\r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 440px) {\r\n    width: 98vw;\r\n  }\r\n`;\r\nexport const Head = styled.div`\r\n  display: grid;\r\n  width: 100%;\r\n\r\n  grid-template-columns: 2fr 1fr 1fr;\r\n\r\n  & > input {\r\n    &::placeholder {\r\n      color: ${props =>\r\n        props.theme.mode === \"dark\"\r\n          ? props.theme.transparentBlack\r\n          : props.theme.transparent4};\r\n    }\r\n    padding: ${props => 2 * props.theme.unit + \"px\"};\r\n    border: none;\r\n    border-right: 1px solid ${props => props.theme.transparentBlack4};\r\n    background-color: ${props => props.theme.transparent4};\r\n  }\r\n\r\n  & > div {\r\n    display: grid;\r\n    cursor: pointer;\r\n\r\n    grid-template-columns: 1fr 3fr;\r\n    align-items: center;\r\n    background-color: ${props => props.theme.transparentBlack4};\r\n\r\n    & :first-child {\r\n      justify-self: flex-end;\r\n      font-size: 2.3rem;\r\n    }\r\n    & :nth-child(2) {\r\n      justify-self: flex-start;\r\n      font-size: 1.2rem;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 667px) {\r\n    grid-template-columns: 2fr 1fr;\r\n\r\n    & > div {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Body = styled.div`\r\n  & ${List} {\r\n    width: 100%;\r\n\r\n    & li:nth-child(even) {\r\n      background: ${props => props.theme.transparent2};\r\n      height: ${props => 8 * props.theme.unit + \"px\"};\r\n    }\r\n  }\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n  padding-top: ${props => 2 * props.theme.unit + \"px\"};\r\n`;\r\n\r\nexport const ExtendedStyledListItem = styled(StyledListItem)`\r\n  & button {\r\n    background: ${props => props.theme.white};\r\n    color: ${props => props.theme.black};\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 0.8rem;\r\n    width: ${props => 10 * props.theme.unit + \"px\"};\r\n    height: ${props => 5 * props.theme.unit + \"px\"};\r\n  }\r\n\r\n  padding: 0 ${props => 2 * props.theme.unit + \"px\"};\r\n  @media (max-width: 320px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nexport const Button = styled.div`\r\n  & * {\r\n    text-decoration: none;\r\n    color: ${props => props.theme.transparent4};\r\n    margin-top: 8px;\r\n  }\r\n  font-size: 2.5rem;\r\n  width: 100%;\r\n  & :hover {\r\n    & * {\r\n      color: ${props => props.theme.transparentBlack3};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CreateButton = styled.div`\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n  transition: opacity 0.5s;\r\n  position: absolute;\r\n  bottom: 5rem;\r\n  right: 5rem;\r\n\r\n  & :hover {\r\n    color: ${props => props.theme.primary};\r\n  }\r\n  & > [type=\"circle\"] {\r\n    background-color: ${props => props.theme.transparentBlack3};\r\n    width: 5rem;\r\n    height: 5rem;\r\n    position: absolute;\r\n    border-radius: 100%;\r\n  }\r\n  & > [type=\"icon\"] {\r\n    font-size: 5rem;\r\n    position: absolute;\r\n  }\r\n  @media (min-width: 668px) {\r\n    display: none;\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport List from \"../../../components/List\";\r\nimport ListItem from \"../../../components/ListItem\";\r\nimport { IoIosAdd, IoIosLogIn } from \"react-icons/io\";\r\nimport Modal from \"../../../components/Modal/Modal\";\r\nimport CreateRoomForm from \"../../../components/CreateRoomForm/CreateRoomForm\";\r\n\r\nimport useProfile from \"../../../hooks/useProfile\";\r\nimport {\r\n  Background,\r\n  Container,\r\n  Head,\r\n  Body,\r\n  ExtendedStyledListItem,\r\n  Button,\r\n  CreateButton\r\n} from \"./styles\";\r\n\r\nexport default function RoomSearch(props) {\r\n  const api =\r\n    process.env.NODE_ENV === \"production\"\r\n      ? \"https://airplayer.herokuapp.com\"\r\n      : \"http://localhost:8888\";\r\n  const [rooms, setRooms] = useState([]);\r\n\r\n  const { accessToken } = props;\r\n  const user = useProfile(accessToken);\r\n\r\n  useEffect(() => {\r\n    fetch(api + \"rooms\")\r\n      .then(res => res.json())\r\n      .then(data => setRooms(data));\r\n  }, []);\r\n\r\n  const JoinButton = item => (\r\n    <Button>\r\n      <Link to={`/room/${item.id}`}>\r\n        <IoIosLogIn></IoIosLogIn>\r\n      </Link>\r\n    </Button>\r\n  );\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const getTimeSince = start => {\r\n    const minutesSince = Math.round(\r\n      (Date.now() - new Date(start).getTime()) / 1000 / 60\r\n    );\r\n\r\n    if (minutesSince < 2) {\r\n      return \"a few seconds ago\";\r\n    }\r\n    if (minutesSince > 2 && minutesSince < 60) {\r\n      return `${minutesSince} minutes ago`;\r\n    } else {\r\n      return `${Math.round(minutesSince / 60)} hours ago`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Background>\r\n      <h1>Airplayer</h1>\r\n      <p>Join a room or create your own</p>\r\n      <Container>\r\n        <Head>\r\n          <input placeholder=\"Enter a party Name\" type=\"text\" />\r\n          <input placeholder=\"Change your location\" type=\"text\" />{\" \"}\r\n          {/* Desktop only */}\r\n          <div onClick={() => setShowModal(true)}>\r\n            <IoIosAdd></IoIosAdd>\r\n            <p>Create</p>\r\n          </div>\r\n        </Head>\r\n        <Body>\r\n          <List items={rooms}>\r\n            <ListItem\r\n              Style={ExtendedStyledListItem}\r\n              name={item => item.name}\r\n              src={item =>\r\n                \"https://i.scdn.co/image/f5990a4c6059df42ae7b39b8524cd6ecce334995\"\r\n              }\r\n              labels={item => [\r\n                `Created ${getTimeSince(item.createdAt)} in `,\r\n                item.location\r\n              ]}\r\n              button={item => JoinButton(item)}\r\n            ></ListItem>\r\n          </List>\r\n        </Body>\r\n        {/* Mobile only */}\r\n        <CreateButton show={!showModal} onClick={() => setShowModal(true)}>\r\n          <div type=\"circle\"></div>\r\n          <IoIosAdd type=\"icon\"></IoIosAdd>\r\n        </CreateButton>\r\n\r\n        <Modal show={showModal} title=\"Create a Room\" setShow={setShowModal}>\r\n          {user && (\r\n            <CreateRoomForm\r\n              user={user}\r\n              accessToken={accessToken}\r\n            ></CreateRoomForm>\r\n          )}\r\n        </Modal>\r\n      </Container>\r\n    </Background>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Background = styled.div`\r\n  background: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.black : props.theme.gradient};\r\n  height: 100vh;\r\n  justify-content: center;\r\n  justify-items: center;\r\n  display: grid;\r\n  grid-gap: ${props => 2 * props.theme.unit + \"px\"};\r\n  padding-top: 15vh;\r\n  grid-template-rows: ${props => 12 * props.theme.unit + \"px\"} 1fr;\r\n  color: ${props => props.theme.white};\r\n`;\r\n\r\nexport const Head = styled.div`\r\n  text-align: center;\r\n  & > h1 {\r\n    font-size: 3.9rem;\r\n    text-shadow: 3px 3px\r\n      ${props =>\r\n        props.theme.mode === \"dark\"\r\n          ? props.theme.transparent\r\n          : props.theme.transparentBlack5};\r\n    background: ${props =>\r\n      props.theme.mode === \"dark\" ? props.theme.gradient : \"none\"};\r\n    -webkit-background-clip: ${props =>\r\n      props.theme.mode === \"dark\" ? \"text\" : \"none\"};\r\n    background-clip: ${props =>\r\n      props.theme.mode === \"dark\" ? \"text\" : \"none\"};\r\n    -webkit-text-fill-color: ${props =>\r\n      props.theme.mode === \"dark\" ? \"transparent\" : \"none\"};\r\n  }\r\n\r\n  & > p {\r\n    font-size: 1rem;\r\n    padding-top: ${props => 1 * props.theme.unit + \"px\"};\r\n    color: ${props => props.theme.transparent5};\r\n  }\r\n  animation: fadeIn 1s;\r\n\r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\nexport const Body = styled.div`\r\n  animation: fadeIn 1s;\r\n\r\n  @keyframes fadeIn {\r\n    from {\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  text-align: center;\r\n\r\n  & > p {\r\n    margin-top: ${props => 4 * props.theme.unit + \"px\"};\r\n    color: ${props => props.theme.transparent5};\r\n    cursor: pointer;\r\n  }\r\n\r\n  & > p:hover {\r\n    color: ${props =>\r\n      props.theme.mode === \"dark\" ? props.theme.primary : props.theme.black};\r\n  }\r\n`;\r\nexport const Submit = styled.button`\r\n  border: none;\r\n  padding: ${props => 2 * props.theme.unit + \"px\"};\r\n  font-size: 1rem;\r\n  color: ${props => props.theme.white};\r\n  background-color: ${props =>\r\n    props.theme.mode === \"dark\"\r\n      ? props.theme.transparent\r\n      : props.theme.transparent3};\r\n  & > * {\r\n    text-decoration: none;\r\n  }\r\n\r\n  & > a:visited {\r\n    color: inherit;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  color: ${props =>\r\n    props.theme.mode === \"dark\" ? props.theme.primary : props.theme.white};\r\n  margin: 0px;\r\n  background-color: ${props =>\r\n    props.theme.mode === \"dark\"\r\n      ? props.theme.transparent2\r\n      : props.theme.transparent4};\r\n  padding: ${props => 2 * props.theme.unit + \"px\"};\r\n  border: none;\r\n  font-size: 0.8rem;\r\n  text-align: center;\r\n  width: ${props => 26 * props.theme.unit + \"px\"};\r\n  height: 50px;\r\n`;\r\nexport const ShadowWrapper = styled.div`\r\n  box-shadow: 4px 4px\r\n    ${props =>\r\n      props.theme.mode === \"dark\" ? props.theme.transparent : props.theme.gray};\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  background: ${props => props.theme.transparent3};\r\n  margin: 0px;\r\n  padding: ${props => 1 * props.theme.unit + \"px\"};\r\n\r\n  border-radius: 90px;\r\n  border: none;\r\n  font-size: 0.9rem;\r\n  display: flex;\r\n  cursor: pointer;\r\n  color: ${props => props.theme.black};\r\n\r\n  &:hover {\r\n    background-color: ${props => props.theme.white};\r\n  }\r\n  & > * {\r\n    text-decoration: none;\r\n  }\r\n\r\n  & > a:visited {\r\n    color: inherit;\r\n  }\r\n\r\n  & > p {\r\n    margin-top: ${props => 1 * props.theme.unit + \"px\"};\r\n  }\r\n\r\n  &:focus {\r\n    outline: 0;\r\n  }\r\n\r\n  text-justify: center;\r\n  & > img {\r\n    width: 35px;\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport spotifyLogo from \"../../../images/spotifyLogo.png\";\r\n\r\nimport {\r\n  Background,\r\n  Head,\r\n  Body,\r\n  ShadowWrapper,\r\n  Submit,\r\n  Input,\r\n  Button\r\n} from \"./styles\";\r\n\r\nexport default function Landing(props) {\r\n  const { login, logout, isAuthenticated } = props;\r\n\r\n  return (\r\n    <Background>\r\n      <Head>\r\n        {\" \"}\r\n        <h1>Airplayer</h1>\r\n        <p>Connect to parties in your area</p>\r\n      </Head>\r\n      <Body>\r\n        {isAuthenticated ? (\r\n          <>\r\n            <ShadowWrapper>\r\n              <Input type=\"text\" placeholder=\"Enter your location...\"></Input>\r\n              <Submit>\r\n                <Link to=\"/roomsearch\">Go</Link>\r\n              </Submit>\r\n            </ShadowWrapper>\r\n\r\n            <p onClick={logout}>or click here to logout</p>\r\n          </>\r\n        ) : (\r\n          <Button onClick={login}>\r\n            <img src={spotifyLogo} alt=\"\" />\r\n            <p>Login With Spotify</p>\r\n          </Button>\r\n        )}\r\n      </Body>\r\n    </Background>\r\n  );\r\n}\r\n"],"sourceRoot":""}